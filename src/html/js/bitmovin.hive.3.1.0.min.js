/*! Hive Stats Pack build 3.0.7 Copyright(c) 2015 HiveStreaming AB, All rights reserved.
 * Authors: mikael.hogqvist@hivestreaming.com - riccardo.reale@hivestreaming.com - roberto.roverso@hivestreaming.com */
/*! AtatusJs - v2.3.12 - 2016-07-03
 * Copyright (c) 2016 Atatus */
!function(a){function b(a,b){return Object.prototype.hasOwnProperty.call(a,b)}function c(a){return"undefined"==typeof a}if(a){var d={},e=a.TraceKit,f=[].slice,g="?";d.noConflict=function(){return a.TraceKit=e,d},d.wrap=function(a){function b(){try{return a.apply(this,arguments)}catch(b){throw d.report(b),b}}return b},d.report=function(){function c(a){i(),m.push(a)}function e(a){for(var b=m.length-1;b>=0;--b)m[b]===a&&m.splice(b,1)}function g(a,c){var e=null;if(!c||d.collectWindowErrors){for(var g in m)if(b(m,g))try{m[g].apply(null,[a].concat(f.call(arguments,2)))}catch(h){e=h}if(e)throw e}}function h(a,b,c,e,f){var h=null;if(f)h=d.computeStackTrace(f);else if(o)d.computeStackTrace.augmentStackTraceWithInitialElement(o,b,c,a),h=o,o=null,n=null;else{var i={url:b,line:c,column:e};i.func=d.computeStackTrace.guessFunctionName(i.url,i.line),i.context=d.computeStackTrace.gatherContext(i.url,i.line),h={mode:"onerror",message:a,url:document.location.href,stack:[i],useragent:navigator.userAgent}}return g(h,"from window.onerror"),k?k.apply(this,arguments):!1}function i(){l!==!0&&(k=a.onerror,a.onerror=h,l=!0)}function j(b){var c=f.call(arguments,1);if(o){if(n===b)return;var e=o;o=null,n=null,g.apply(null,[e,null].concat(c))}var h=d.computeStackTrace(b);throw o=h,n=b,a.setTimeout(function(){n===b&&(o=null,n=null,g.apply(null,[h,null].concat(c)))},h.incomplete?2e3:0),b}var k,l,m=[],n=null,o=null;return j.subscribe=c,j.unsubscribe=e,j}(),d.computeStackTrace=function(){function e(b){if(!d.remoteFetching)return"";try{var c=function(){try{return new a.XMLHttpRequest}catch(b){return new a.ActiveXObject("Microsoft.XMLHTTP")}},e=c();return e.open("GET",b,!1),e.send(""),e.responseText}catch(f){return""}}function f(a){if("string"!=typeof a)return[];if(!b(w,a)){var c="",d="";try{d=document.domain}catch(f){}-1!==a.indexOf(d)&&(c=e(a)),w[a]=c?c.split("\n"):[]}return w[a]}function h(a,b){var d,e=/function ([^(]*)\(([^)]*)\)/,h=/['"]?([0-9A-Za-z$_]+)['"]?\s*[:=]\s*(function|eval|new Function)/,i="",j=10,k=f(a);if(!k.length)return g;for(var l=0;j>l;++l)if(i=k[b-l]+i,!c(i)){if(d=h.exec(i))return d[1];if(d=e.exec(i))return d[1]}return g}function i(a,b){var e=f(a);if(!e.length)return null;var g=[],h=Math.floor(d.linesOfContext/2),i=h+d.linesOfContext%2,j=Math.max(0,b-h-1),k=Math.min(e.length,b+i-1);b-=1;for(var l=j;k>l;++l)c(e[l])||g.push(e[l]);return g.length>0?g:null}function j(a){return a.replace(/[\-\[\]{}()*+?.,\\\^$|#]/g,"\\$&")}function k(a){return j(a).replace("<","(?:<|&lt;)").replace(">","(?:>|&gt;)").replace("&","(?:&|&amp;)").replace('"','(?:"|&quot;)').replace(/\s+/g,"\\s+")}function l(a,b){for(var c,d,e=0,g=b.length;g>e;++e)if((c=f(b[e])).length&&(c=c.join("\n"),d=a.exec(c)))return{url:b[e],line:c.substring(0,d.index).split("\n").length,column:d.index-c.lastIndexOf("\n",d.index)-1};return null}function m(a,b,c){var d,e=f(b),g=new RegExp("\\b"+j(a)+"\\b");return c-=1,e&&e.length>c&&(d=g.exec(e[c]))?d.index:null}function n(b){for(var c,d,e,f,g=[a.location.href],h=document.getElementsByTagName("script"),i=""+b,m=/^function(?:\s+([\w$]+))?\s*\(([\w\s,]*)\)\s*\{\s*(\S[\s\S]*\S)\s*\}\s*$/,n=/^function on([\w$]+)\s*\(event\)\s*\{\s*(\S[\s\S]*\S)\s*\}\s*$/,o=0;o<h.length;++o){var p=h[o];p.src&&g.push(p.src)}if(e=m.exec(i)){var q=e[1]?"\\s+"+e[1]:"",r=e[2].split(",").join("\\s*,\\s*");c=j(e[3]).replace(/;$/,";?"),d=new RegExp("function"+q+"\\s*\\(\\s*"+r+"\\s*\\)\\s*{\\s*"+c+"\\s*}")}else d=new RegExp(j(i).replace(/\s+/g,"\\s+"));if(f=l(d,g))return f;if(e=n.exec(i)){var s=e[1];if(c=k(e[2]),d=new RegExp("on"+s+"=[\\'\"]\\s*"+c+"\\s*[\\'\"]","i"),f=l(d,g[0]))return f;if(d=new RegExp(c),f=l(d,g))return f}return null}function o(a){if(!a.stack)return null;for(var b,d,e=/^\s*at (.*?) ?\(?((?:file|https?|chrome-extension):.*?):(\d+)(?::(\d+))?\)?\s*$/i,f=/^\s*(.*?)(?:\((.*?)\))?@?((?:file|https?|chrome):.*?):(\d+)(?::(\d+))?\s*$/i,j=/^\s*at (?:((?:\[object object\])?.+) )?\(?((?:ms-appx|http|https):.*?):(\d+)(?::(\d+))?\)?\s*$/i,k=a.stack.split("\n"),l=[],n=/^(.*) is undefined$/.exec(a.message),o=0,p=k.length;p>o;++o){if(b=f.exec(k[o]))d={url:b[3],func:b[1]||g,args:b[2]?b[2].split(","):"",line:+b[4],column:b[5]?+b[5]:null};else if(b=e.exec(k[o]))d={url:b[2],func:b[1]||g,line:+b[3],column:b[4]?+b[4]:null};else{if(!(b=j.exec(k[o])))continue;d={url:b[2],func:b[1]||g,line:+b[3],column:b[4]?+b[4]:null}}!d.func&&d.line&&(d.func=h(d.url,d.line)),d.line&&(d.context=i(d.url,d.line)),l.push(d)}return l.length?(l[0]&&l[0].line&&!l[0].column&&n?l[0].column=m(n[1],l[0].url,l[0].line):l[0].column||c(a.columnNumber)||(l[0].column=a.columnNumber+1),{mode:"stack",name:a.name,message:a.message,url:document.location.href,stack:l,useragent:navigator.userAgent}):null}function p(a){for(var b,c=a.stacktrace,d=/ line (\d+), column (\d+) in (?:<anonymous function: ([^>]+)>|([^\)]+))\((.*)\) in (.*):\s*$/i,e=c.split("\n"),f=[],g=0,j=e.length;j>g;g+=2)if(b=d.exec(e[g])){var k={line:+b[1],column:+b[2],func:b[3]||b[4],args:b[5]?b[5].split(","):[],url:b[6]};if(!k.func&&k.line&&(k.func=h(k.url,k.line)),k.line)try{k.context=i(k.url,k.line)}catch(l){}k.context||(k.context=[e[g+1]]),f.push(k)}return f.length?{mode:"stacktrace",name:a.name,message:a.message,url:document.location.href,stack:f,useragent:navigator.userAgent}:null}function q(c){var d=c.message.split("\n");if(d.length<4)return null;var e,g,j,m,n=/^\s*Line (\d+) of linked script ((?:file|https?)\S+)(?:: in function (\S+))?\s*$/i,o=/^\s*Line (\d+) of inline#(\d+) script in ((?:file|https?)\S+)(?:: in function (\S+))?\s*$/i,p=/^\s*Line (\d+) of function script\s*$/i,q=[],r=document.getElementsByTagName("script"),s=[];for(g in r)b(r,g)&&!r[g].src&&s.push(r[g]);for(g=2,j=d.length;j>g;g+=2){var t=null;if(e=n.exec(d[g]))t={url:e[2],func:e[3],line:+e[1]};else if(e=o.exec(d[g])){t={url:e[3],func:e[4]};var u=+e[1],v=s[e[2]-1];if(v&&(m=f(t.url))){m=m.join("\n");var w=m.indexOf(v.innerText);w>=0&&(t.line=u+m.substring(0,w).split("\n").length)}}else if(e=p.exec(d[g])){var x=a.location.href.replace(/#.*$/,""),y=e[1],z=new RegExp(k(d[g+1]));m=l(z,[x]),t={url:x,line:m?m.line:y,func:""}}if(t){t.func||(t.func=h(t.url,t.line));var A=i(t.url,t.line),B=A?A[Math.floor(A.length/2)]:null;t.context=A&&B.replace(/^\s*/,"")===d[g+1].replace(/^\s*/,"")?A:[d[g+1]],q.push(t)}}return q.length?{mode:"multiline",name:c.name,message:d[0],url:document.location.href,stack:q,useragent:navigator.userAgent}:null}function r(a,b,c,d){var e={url:b,line:c};if(e.url&&e.line){a.incomplete=!1,e.func||(e.func=h(e.url,e.line)),e.context||(e.context=i(e.url,e.line));var f=/ '([^']+)' /.exec(d);if(f&&(e.column=m(f[1],e.url,e.line)),a.stack.length>0&&a.stack[0].url===e.url){if(a.stack[0].line===e.line)return!1;if(!a.stack[0].line&&a.stack[0].func===e.func)return a.stack[0].line=e.line,a.stack[0].context=e.context,!1}return a.stack.unshift(e),a.partial=!0,!0}return a.incomplete=!0,!1}function s(a,b){for(var c,e,f,i=/function\s+([_$a-zA-Z\xA0-\uFFFF][_$a-zA-Z0-9\xA0-\uFFFF]*)?\s*\(/i,j=[],k={},l=!1,o=s.caller;o&&!l;o=o.caller)if(o!==t&&o!==d.report){if(e={url:null,func:g,line:null,column:null},o.name?e.func=o.name:(c=i.exec(o.toString()))&&(e.func=c[1]),"undefined"==typeof e.func)try{e.func=c.input.substring(0,c.input.indexOf("{"))}catch(p){}if(f=n(o)){e.url=f.url,e.line=f.line,e.func===g&&(e.func=h(e.url,e.line));var q=/ '([^']+)' /.exec(a.message||a.description);q&&(e.column=m(q[1],f.url,f.line))}k[""+o]?l=!0:k[""+o]=!0,j.push(e)}b&&j.splice(0,b);var u={mode:"callers",name:a.name,message:a.message,url:document.location.href,stack:j,useragent:navigator.userAgent};return r(u,a.sourceURL||a.fileName,a.line||a.lineNumber,a.message||a.description),u}function t(a,b){var c=null;b=null==b?0:+b;try{if(c=p(a))return c}catch(d){if(v)throw d}try{if(c=o(a))return c}catch(d){if(v)throw d}try{if(c=q(a))return c}catch(d){if(v)throw d}try{if(c=s(a,b+1))return c}catch(d){if(v)throw d}return{mode:"failed"}}function u(a){a=(null==a?0:+a)+1;try{throw new Error}catch(b){return t(b,a+1)}}var v=!1,w={};return t.augmentStackTraceWithInitialElement=r,t.guessFunctionName=h,t.gatherContext=i,t.ofCaller=u,t.getSource=f,t}(),d.extendToAsynchronousCallbacks=function(){var b=function(b){var c=a[b];a[b]=function(){var a=f.call(arguments),b=a[0];return"function"==typeof b&&(a[0]=d.wrap(b)),c.apply?c.apply(this,a):c(a[0],a[1])}};b("setTimeout"),b("setInterval")},d.remoteFetching||(d.remoteFetching=!0),d.collectWindowErrors||(d.collectWindowErrors=!0),(!d.linesOfContext||d.linesOfContext<1)&&(d.linesOfContext=11),a.TraceKit=d}}("undefined"!=typeof window?window:global),function(a,b){"use strict";if(a){var c=a.event.add;a.event.add=function(d,e,f,g,h){if("function"!=typeof f&&"function"!=typeof f.handler)return c.call(this,d,e,f,g,h);var i;return f.handler?(i=f.handler,f.handler=b.wrap(f.handler)):(i=f,f=b.wrap(f)),f.guid=i.guid?i.guid:i.guid=a.guid++,c.call(this,d,e,f,g,h)};var d=a.fn.ready;a.fn.ready=function(a){return d.call(this,b.wrap(a))};var e=a.ajax;a.ajax=function(c,d){"object"==typeof c&&(d=c,c=void 0),d=d||{};for(var f,g=["complete","error","success"];f=g.pop();)a.isFunction(d[f])&&(d[f]=b.wrap(d[f]));try{return c?e.call(this,c,d):e.call(this,d)}catch(h){throw b.report(h),h}}}}(window.jQuery,window.TraceKit),function(a,b,c,d){function e(a){var b=a,c=a.split("//")[1];if(c){var d=c.indexOf("?"),e=c.toString().substring(0,d),f=e.split("/").slice(0,4).join("/"),g=e.substring(0,48);b=f.length<g.length?f:g,b!==e&&(b+="..")}return b}function f(a,b,c,f){if(K&&(L||b.getAllResponseHeaders())){var g="AJAX Error: "+(b.statusText||"unknown")+" "+(c.type||"unknown")+" "+(e(c.url)||"unknown");V.send(f||a.type,{status:b.status,statusText:b.statusText,type:c.type,url:c.url,ajaxErrorMessage:g,contentType:c.contentType,requestData:c.data&&c.data.slice?c.data.slice(0,10240):d,responseData:b.responseText&&b.responseText.slice?b.responseText.slice(0,10240):d,activeTarget:a.target&&a.target.activeElement?a.target.activeElement.outerHTML:d})}}function g(){return o&&""!==o?!0:(R.log("Atatus API key has not been configured, make sure you call atatus.config(yourApiKey)"),!1)}function h(){var c=b.documentElement,d=b.getElementsByTagName("body")[0],e=a.innerWidth||c.clientWidth||d.clientWidth,f=a.innerHeight||c.clientHeight||d.clientHeight;return{width:e,height:f}}function i(a){var b=(new Date).toJSON();try{var c="atatusjs="+b+"="+R.getRandomInt();"undefined"==typeof localStorage[c]&&(localStorage[c]=a)}catch(d){R.log("Atatus: LocalStorage full, cannot save exception")}}function j(){try{return"localStorage"in a&&null!==a.localStorage}catch(b){return!1}}function k(){if(j()&&localStorage.length>0)for(var a in localStorage)if("atatusjs="===a.substring(0,9)){try{var b=JSON.parse(localStorage[a]);"apikey"in b&&m(N,b)}catch(c){R.log("Atatus: Invalid JSON object in LocalStorage")}localStorage.removeItem(a)}}function l(a,c){if(c=c||{},!a.stack||!a.stack.length)return void R.log("Atatus: Canceling send due to no stacktrace.");R.isEmpty(c.customData)&&(c.customData="function"==typeof p?p():p),R.isEmpty(c.tags)&&(c.tags=E);var d=c.customData&&c.customData.ajaxErrorMessage||a.message;if(d&&0===d.indexOf("Uncaught ")&&(d=a.message.substring(9)),d=d||c.status||"Script error.",w&&w.test(d))return void R.log("Atatus: canceling send due to ignore errors");var e=[];a.stack&&a.stack.length&&R.forEach(a.stack,function(a,b){R.endsWith(b.url,"/atatus.js")||e.push({ln:b.line||0,cn:b.column||0,f:b.url||"anonymous",m:b.func||"[anonymous]"})});var f=[a.name,d,JSON.stringify(e)].join("|");if(f===x)return void R.log("Atatus: canceling send due to duplicate errors");x=f;var g=c.customData;try{JSON.stringify(g)}catch(h){var i="Cannot add custom data; may contain circular reference";g={error:i},R.log("Atatus: "+i)}var j=U.getAllEvents();S.clear();var k={"class":a.name,name:d,backTraces:e,userActions:j,net:null,customData:g||null,tags:c.tags,sourcemap:J,request:{url:b.location.href,ua:navigator.userAgent}};if("function"==typeof y&&(k.groupingKey=y(k)),"function"==typeof z){var l=z(k);l&&m(N,k)}else m(N,k)}function m(c,d){if(G&&G.length&&-1===G.indexOf(location.host))return void R.log("Atatus: canceling send due to not a allowed domain");if(g()){if(!d.ts){var e=a.screen||h();d.ts=(new Date).getTime(),d.apikey=o,d.request=d.request||{},d.request.url=d.request.url||b.location.href,d.request.ua=d.request.ua||navigator.userAgent,d.request.w=e.width,d.request.h=e.height,d.v=r||"",d._v=B||""}q&&(d.cid=q.userId||null),R.log("Sending data to Atatus Receiver:",d),n(c,JSON.stringify(d))}}function n(a,b){var c=new Image,d=M+a+"?data="+encodeURIComponent(b);c.crossOrigin="anonymous",c.onload=function(){k()},c.onerror=c.onabort=function(){I&&a===N&&i(b)},c.src=d}var o,p,q,r,s,t,u,v,w,x,y,z,A,B="2.3.12",C=TraceKit.noConflict(),D=a.atatus,E=[],F=!1,G=[],H=!1,I=!1,J=!1,K=!1,L=!1,M="https://br-rx.atatus.com",N="/track/browser/errors",O="/track/browser/perf",P="/track/browser/perf/ajax",Q="/track/browser/perf/txn";c&&(A=c(b));var R={isBoolean:function(a){return"undefined"!=typeof a&&"boolean"==typeof a},isString:function(a){return"string"==typeof a},isArray:function(a){return"[object Array]"===Object.prototype.toString.call(a)},endsWith:function(a,b){return a&&b?-1!==a.indexOf(b,a.length-b.length):!1},joinRegExp:function(a){for(var b,c=[],d=0,e=a.length;e>d;d++)b=a[d],R.isString(b)?c.push(b.replace(/([.*+?\^=!:${}()|\[\]\/\\])/g,"\\$1")):b&&b.source&&c.push(b.source);return new RegExp(c.join("|"),"i")},getTargetUrl:function(b){return a.XDomainRequest&&H&&(b=b.slice(6)),b},now:function(){return(new Date).getTime()},pad:function(a){return a=String(a),1===a.length&&(a="0"+a),a},merge:function(a,b){var c,d={};for(c in a)d[c]=a[c];for(c in b)d[c]=b[c];return d},mergeArray:function(a,b){return null!=b?a.concat(b):a},forEach:function(a,b){for(var c=0;c<a.length;c++)b.call(null,c,a[c])},isEmpty:function(a){for(var b in a)if(a.hasOwnProperty(b))return!1;return!0},getRandomInt:function(){return Math.floor(9007199254740992*Math.random())},log:function(b,c){F&&a.console&&a.console.log&&(a.console.log(b),c&&a.console.log(c))},bind:function(a,b){return function(){return a.apply(b,Array.prototype.slice.call(arguments))}},canAllowInsecureSubmissions:function(){var b=a.navigator.userAgent,c=b.match(/Trident\/([\d.]+)/),d=c&&"7.0"===c[1]?11:(b=b.match(/MSIE ([\d.]+)/))?parseInt(b[1],10):!1;return d&&9>=d},uuid4:function(){return"xxxxxxxxxxxx4xxxyxxxxxxxxxxxxxxx".replace(/[xy]/g,function(a){var b=16*Math.random()|0,c="x"===a?b:3&b|8;return c.toString(16)})},addEventListener:function(b,c,d){return"undefined"!=typeof a.attachEvent?a.attachEvent("on"+b,c):a.addEventListener?a.addEventListener(b,c,d):void 0},arrayFromObject:function(a){var b=[];for(var c in a)a.hasOwnProperty(c)&&b.push(a[c]);return b}},S={eventObject:{},all:function(a){for(var b=this.getEventObject(a),c=[],d=0;d<b.length;d++)c.push(b[d].value);return c},clear:function(){for(var a in this.eventObject)this.eventObject.hasOwnProperty(a)&&(this.eventObject[a].length=0)},add:function(a,b){var c=this.getEventObject(a),d=R.uuid4();return c.push({key:d,value:b}),this.truncateEventObject(a,10),d},get:function(a,b){for(var c=this.getEventObject(a),d=0;d<c.length;d++)if(c[d].key===b)return c[d].value;return!1},getEventObject:function(a){return this.eventObject[a]||(this.eventObject[a]=[]),this.eventObject[a]},truncateEventObject:function(a,b){var c=this.getEventObject(a);c.length>b&&(this.eventObject[a]=c.slice(c.length-b))}},T={attach:function(b,c,d,e,f){b=b||a.console||{};for(var g=f||["log","debug","info","warn","error"],h=g.pop(),i=function(a,b,d){c&&S.add("user",{ts:R.now(),c:"console",l:a,m:b}),"error"===a&&e&&V.notify(new Error(b),d)};h;)this.wrapConsoleMethod(b,h,d,i),h=g.pop()},wrapConsoleMethod:function(a,b,c,d){var e=a[b],f=a;b in a&&(a[b]=function(){var a=[].slice.call(arguments),g=""+a.join(" "),h={level:b,logger:"console"};d&&d(b,g,h),e&&c&&Function.prototype.apply.call(e,f,a)})}},U={attach:function(){var a=R.bind(this.onDocumentClicked,this),c=R.bind(this.onInputChanged,this);b.addEventListener?(b.addEventListener("click",a,!0),b.addEventListener("blur",c,!0)):b.attachEvent&&(b.attachEvent("onclick",a),b.attachEvent("onfocusout",c))},writeUserEvent:function(a,b,c,d){"password"===this.getElementType(a)&&(c=void 0),S.add("user",{ts:R.now(),a:b,e:this.getOuterHTML(a),v:this.getValueKind(c,d)})},onDocumentClicked:function(a){var b=this.getElementFromEvent(a);b&&b.tagName&&(this.isTarget(b,"a")||this.isTarget(b,"button")||this.isTarget(b,"input",["button","submit"])?this.writeUserEvent(b,"click"):this.isTarget(b,"input",["checkbox","radio"])&&this.writeUserEvent(b,"check",b.value,b.checked))},onInputChanged:function(a){var b=this.getElementFromEvent(a);b&&b.tagName&&(this.isTarget(b,"textarea")?this.writeUserEvent(b,"input",b.value):this.isTarget(b,"select")&&b.options&&b.options.length?this.onSelectInputChanged(b):this.isTarget(b,"input")&&!this.isTarget(b,"input",["button","submit","hidden","checkbox","radio"])&&this.writeUserEvent(b,"input",b.value))},onSelectInputChanged:function(a){if(a.multiple){for(var b=0;b<a.options.length;b++)if(a.options[b].selected){this.writeUserEvent(a,"select",a.options[b].value);break}}else 0<=a.selectedIndex&&a.options[a.selectedIndex]&&this.writeUserEvent(a,"select",a.options[a.selectedIndex].value)},getElementFromEvent:function(a){return a.target||b.elementFromPoint(a.clientX,a.clientY)},isTarget:function(a,b,c){if(a.tagName.toLowerCase()!==b.toLowerCase())return!1;if(!c)return!0;for(var d=this.getElementType(a),e=0;e<c.length;e++)if(c[e]===d)return!0;return!1},getElementType:function(a){return(a.getAttribute("type")||"").toLowerCase()},getOuterHTML:function(a){for(var b="<"+a.tagName.toLowerCase(),c=a.attributes,d=0,e=c.length;e>d;d++){var f=c[d].name;"value"!==f.toLowerCase()&&(b+=" "+f+'="'+c[d].value+'"')}return b+=" >"},getValueKind:function(a,b){return null==a?null:{length:a.length,checked:b,pattern:this.matchInputPattern(a)}},matchInputPattern:function(a){return""===a?"empty":/^[a-z0-9!#$%&'*+=?\^_`{|}~\-]+(?:\.[a-z0-9!#$%&'*+=?\^_`{|}~\-]+)*@(?:[a-z0-9](?:[a-z0-9\-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9\-]*[a-z0-9])?$/.test(a)?"email":/^(0?[1-9]|[12][0-9]|3[01])[\/\-](0?[1-9]|1[012])[\/\-]\d{4}$/.test(a)||/^(\d{4}[\/\-](0?[1-9]|1[012])[\/\-]0?[1-9]|[12][0-9]|3[01])$/.test(a)?"date":/^(?:(?:\+?1\s*(?:[.\-]\s*)?)?(?:\(\s*([2-9]1[02-9]|[2-9][02-8]1|[2-9][02-8][02-9])\s*\)|([2-9]1[02-9]|[2-9][02-8]1|[2-9][02-8][02-9]))\s*(?:[.\-]\s*)?)?([2-9]1[02-9]|[2-9][02-9]1|[2-9][02-9]{2})\s*(?:[.\-]\s*)?([0-9]{4})(?:\s*(?:#|x\.?|ext\.?|extension)\s*(\d+))?$/.test(a)?"phone":/^\s*$/.test(a)?"whitespace":/^\d*$/.test(a)?"numeric":"character"},getAllEvents:function(){return S.all("user")}},V={noConflict:function(){return a.atatus=D,V},isConfigured:function(){return!!o},config:function(b,c){return c=c||{},o=b,C.remoteFetching=!1,w=[],c&&(p=c.customData,E=c.tags||[],J=!(!c.enableSourcemap&&!c.sourcemap),s=!!c.disableUserActions,t=!!c.disableAjaxMonitoring,u=!!c.disableRUM,F=!!c.debugMode,c.ignoreErrors&&R.isArray(c.ignoreErrors)&&(w=c.ignoreErrors),V.setAllowedDomains(c.allowedDomains),V.setVersion(c.version),V.enableOffline(c.enableOffline||c.offline),V.onBeforeErrorSend(c.beforeErrorSend),V.setGroupingKeyCallback(c.groupingKeyCallback)),H=R.canAllowInsecureSubmissions(),w.push(/^Script error\.?$/),w.push(/^Javascript error: Script error\.? on line 0$/),w=R.joinRegExp(w),k(),v={enabled:!0,timeline:!0,display:!0,error:!0,levels:null},R.isBoolean(c.console)&&(v.enabled=c.console),R.isBoolean(c.consoleTimeline)&&(v.timeline=c.consoleTimeline),R.isBoolean(c.consoleDisplay)&&(v.display=c.consoleDisplay),R.isBoolean(c.consoleErrorNotify)&&(v.error=c.consoleErrorNotify),R.isArray(c.consoleTimelineLevels)&&(v.levels=c.consoleTimelineLevels),v.enabled&&"console"in a&&a.console.log&&T.attach(a.console,v.timeline,v.display,v.error,v.levels),s||U.attach(),t||u||V.__attachAjaxHooks(),V},install:function(){return g()?(C.report.subscribe(l),C.extendToAsynchronousCallbacks(),A&&K&&A.ajaxError(f),V):void 0},uninstall:function(){return o=null,C.report.unsubscribe(l),A&&K&&A.unbind("ajaxError",f),V},setCustomData:function(a){return p=a,V},setTags:function(a){return E=a,V},setAllowedDomains:function(a){return a&&R.isArray(a)&&(G=a),V},getAllowedDomains:function(){return G},setUser:function(a,b,c,d){return q={},a&&(q.userId=""+a),b&&(q.email=""+b),c&&(q.firstName=""+c),d&&(q.lastName=""+d),V},setVersion:function(a){return a&&(r=""+a),V},enableOffline:function(a){return R.isBoolean(a)&&(I=a),V},onBeforeErrorSend:function(a){return"function"==typeof a&&(z=a),V},setGroupingKeyCallback:function(a){return"function"==typeof a&&(y=a),V},setAPIEndpoint:function(a){return M=a,V},init:function(a,b,c){return c&&(b=b||{},b.customData=c),V.config(a,b)},withCustomData:function(a){return V.setCustomData(a)},withTags:function(a){return V.setTags(a)},attach:function(){return V.install()},detach:function(){return V.uninstall()},notify:function(a,b,c){return V.send(a,b,c)},sendPerf:function(a){return u?void R.log("RUM is disabled. Please enable it in the config options."):m(O,a)},sendAjaxPerf:function(a){return u?void R.log("RUM is disabled. Please enable it in the config options."):m(P,a)},sendTxnPerf:function(a){return m(Q,a)},send:function(a,b,c){try{l(C.computeStackTrace(a),{customData:R.merge(p,b),tags:R.mergeArray(E,c)})}catch(d){if(a!==d)throw d}return V},_helper:R};a.atatus=V}(window,document,window.jQuery),function(a,b,c){function d(a){a.pl<=0||atatus.sendPerf(a)}function e(){var b=a.performance||a.mozPerformance||a.msPerformance||a.webkitPerformance,c=b.timing,e=b.navigation;if(0===c.loadEventEnd)return!1;clearInterval(i),i=null;var f=c.navigationStart;0>=f&&(f=c.fetchStart);var g={};for(var h in j)g[j[h]]=-1,h in c&&(c[h]<=0||(g[j[h]]=c[h]-f));var k={nty:e.type,rc:e.redirectCount,nt:g.rps-g.ns,dp:g.dce-g.rps,pr:g.le-g.dce,fe:g.le-g.rps,pl:g.le-g.ns};d(k)}function f(){if(!h||!h.bDone)return!1;clearInterval(i),i=!1;var a=h.getMeasures();if(null!=a&&null!=a.backend&&null!=a.frontend&&null!=a["page load time"]&&null!=a["total load time"]){var b=a.backend,c=a.backend+a.frontend,e={nty:0,rc:0,nt:b,dp:c-b,pr:a["total load time"]-c,fe:a["total load time"]-b,pl:a["total load time"]};d(e)}}var g=(new Date).getTime(),h=h||{};h.q=h.q||[],h.version="0.3",h.targetOrigin=b.location.protocol+"//"+b.location.hostname,h.bPostMessage=!1,h.beaconUrl=h.beaconUrl||"/images/beacon.gif",h.autorun=!1,h.init=function(){if(h.bDone=!1,h.bUnloaded=!1,h.marks={},h.measures={},h.starts={},h.findStartTime(),h.addEventListener("beforeunload",h.beforeUnload,!1),h.addEventListener("pagehide",h.beforeUnload,!1),h.addEventListener("unload",h.beforeUnload,!1),h.processQ(),"complete"===b.readyState){var c=a.performance||a.mozPerformance||a.msPerformance||a.webkitPerformance;c&&"undefined"!=typeof c.timing&&"undefined"!=typeof c.timing.loadEventEnd&&(h.mark("firstbyte",c.timing.responseStart),h.mark("onload",c.timing.loadEventEnd)),h.done()}else h.addEventListener("load",h.onload,!1)},h.processQ=function(){for(var a=h.q.length,b=0;a>b;b++){var c=h.q[b],d=c[0];"mark"===d?h.mark(c[1],c[2]):"measure"===d?h.measure(c[1],c[2],c[3]):"done"===d&&h.done(c[1])}},h.mark=function(b,c){return h.dprint("RUM_EPISODES.mark: "+b+", "+c),b?(h.marks[b]=parseInt(c||(new Date).getTime()),h.bPostMessage&&a.postMessage("RUM_EPISODES:mark:"+b+":"+c,h.targetOrigin),void("firstbyte"===b?h.measure("backend","starttime","firstbyte"):"onload"===b?(h.measure("frontend","firstbyte","onload"),h.measure("page load time","starttime","onload")):"done"===b&&h.measure("total load time","starttime","done"))):void h.dprint("Error: markName is undefined in RUM_EPISODES.mark.")},h.measure=function(b,c,d){if(h.dprint("RUM_EPISODES.measure: "+b+", "+c+", "+d),!b)return void h.dprint("Error: episodeName is undefined in RUM_EPISODES.measure.");var e;if("undefined"==typeof c)e="number"==typeof h.marks[b]?h.marks[b]:(new Date).getTime();else if("number"==typeof h.marks[c])e=h.marks[c];else{if("number"!=typeof c)return void h.dprint("Error: unexpected startNameOrTime in RUM_EPISODES.measure: "+c);e=c}var f;if("undefined"==typeof d)f=(new Date).getTime();else if("number"==typeof h.marks[d])f=h.marks[d];else{if("number"!=typeof d)return void h.dprint("Error: unexpected endNameOrTime in RUM_EPISODES.measure: "+d);f=d}h.starts[b]=parseInt(e),h.measures[b]=parseInt(f-e),h.bPostMessage&&a.postMessage("RUM_EPISODES:measure:"+b+":"+e+":"+f,h.targetOrigin)},h.done=function(b){h.bDone=!0,h.mark("done"),h.bPostMessage&&a.postMessage("RUM_EPISODES:done",h.targetOrigin),"function"==typeof b&&b()},h.getMarks=function(){return h.marks},h.getMeasures=function(){return h.measures},h.getStarts=function(){return h.starts},h.findStartTime=function(){var a=h.findStartWebTiming()||h.findStartCookie();a&&h.mark("starttime",a)},h.findStartWebTiming=function(){var b,c=a.performance||a.mozPerformance||a.msPerformance||a.webkitPerformance;return c&&"undefined"!=typeof c.timing&&"undefined"!=typeof c.timing.navigationStart&&(b=c.timing.navigationStart,h.dprint("RUM_EPISODES.findStartWebTiming: startTime = "+b)),b},h.findStartCookie=function(){for(var d=b.cookie.split(" "),e=0;e<d.length;e++)if(0===d[e].indexOf("RUM_EPISODES=")){for(var f,g,i=d[e].substring("RUM_EPISODES=".length).split("&"),j=0;j<i.length;j++)if(0===i[j].indexOf("s="))f=i[j].substring(2);else if(0===i[j].indexOf("r=")){var k=i[j].substring(2);k=k.replace(/;$/,""),g=a.escape(b.referrer)===k}if(g&&f)return h.dprint("RUM_EPISODES.findStartCookie: startTime = "+f),f}return c},h.beforeUnload=function(){h.bUnloaded||(b.cookie="RUM_EPISODES=s="+Number(new Date)+"&r="+a.escape(b.location)+"; path=/",h.bUnloaded=!0)},h.onload=function(){h.mark("onload"),h.done()},h.addEventListener=function(b,c,d){return"undefined"!=typeof a.attachEvent?a.attachEvent("on"+b,c):a.addEventListener?a.addEventListener(b,c,d):void 0},h.dprint=function(){},h.init();var i=null,j={navigationStart:"ns",redirectStart:"rds",redirectEnd:"rde",unloadEventStart:"us",unloadEventEnd:"ue",fetchStart:"fs",domainLookupStart:"dls",domainLookupEnd:"dle",connectStart:"cs",secureConnectionStart:"scs",connectEnd:"ce",handshakeStart:"hs",requestStart:"rqs",responseStart:"rps",responseEnd:"rpe",domLoading:"dl",domInteractive:"di",domContentLoadedEventStart:"dcs",domContentLoadedEventEnd:"dce",domComplete:"dc",loadEventStart:"ls",loadEventEnd:"le"},k=a.performance||a.mozPerformance||a.msPerformance||a.webkitPerformance;k&&"undefined"!=typeof k.timing&&"undefined"!=typeof k.navigation?i=setInterval(e,100):(h.mark("firstbyte",g),i=setInterval(f,100))}(window,document),atatus.__attachAjaxHooks=function(){!function(a,b){var c=atatus._helper,d={queue:[],batchSize:25,processing:!1,bUnloaded:!1,push:function(a){"string"==typeof a.url&&a.url.indexOf(".html")>0||(this.queue.push(a),this.queue.length>=this.batchSize&&this._processQueue())},_processQueue:function(){if(!this.processing&&this.queue.length){this.processing=!0;try{for(var a={},b={},d=0;d<this.queue.length;d++){var e,f=this.queue[d];if(f.status<400){e=f.method+f.url;var g=f.respAvailTime-f.sendTime,h=f.respProcTime-f.respAvailTime,i=f.receivedSize,j=f.sendSize,k=a[e];if(k){k.c++;var l=k.re;l.t=l.t+g,l.lo=l.lo<g?l.lo:g,l.hi=l.hi>g?l.hi:g,l.ssq=l.ssq+g*g;var m=k.cb;m.t=m.t+h,m.lo=m.lo<h?m.lo:h,m.hi=m.hi>h?m.hi:h,m.ssq=m.ssq+h*h;var n=k.rs;n.t=n.t+i,n.lo=n.lo<i?n.lo:i,n.hi=n.hi>i?n.hi:i,n.ssq=n.ssq+i*i;var o=k.ss;o.t=o.t+j,o.lo=o.lo<j?o.lo:j,o.hi=o.hi>j?o.hi:j,o.ssq=o.ssq+j*j}else a[e]={m:f.method,url:f.url,c:1,re:{t:g,lo:g,hi:g,ssq:g*g},cb:{t:h,lo:h,hi:h,ssq:h*h},rs:{t:f.receivedSize,lo:f.receivedSize,hi:f.receivedSize,ssq:f.receivedSize*f.receivedSize},ss:{t:f.sendSize,lo:f.sendSize,hi:f.sendSize,ssq:f.sendSize*f.sendSize}}}else e=f.method+f.status+f.url,b[e]?b[e].c++:b[e]={m:f.method,url:f.url,st:f.status,c:1}}var p={xhr:c.arrayFromObject(a),xhrError:c.arrayFromObject(b)};atatus.sendAjaxPerf(p)}catch(q){c.log("Error while processing queue: ",q)}finally{this.queue=[],this.processing=!1}}},beforeUnload:function(){d.bUnloaded||(d._processQueue(),d.bUnloaded=!0)}};c.addEventListener("beforeunload",d.beforeUnload,!1);var e={support:function(a){return!a||"apply"in a},around:function(a,b,d,e){return a=a||function(){},function(){var f,g=Array.prototype.slice.call(arguments);try{b&&(f=b.apply(this,g))}catch(h){c.log(e,h)}var i;try{i=a.apply(this,f||g)}finally{try{d&&d.apply(this,g)}catch(h){c.log(e,h)}}return i}},before:function(a,b){return e.around(a,b)},after:function(a,b){return e.around(a,null,b)},timeout:function(a){setTimeout(a,0)},wrapAddEventListener:function(){return function(a,b){if(("load"===a||"error"===a)&&b&&this._atrumXhrData){var c;b.__atrumInterceptor?c=b.__atrumInterceptor:e.support(b)?(c=g.wrapXHR(b,this,"XHR.invokeEventListener"),b.__atrumInterceptor=c):c=null;var d;return c&&(d=Array.prototype.slice.call(arguments),d[1]=c),d}}},wrapRemoveEventListener:function(){return function(a,b){if(this._atrumXhrData){var c=Array.prototype.slice.call(arguments);return b.__atrumInterceptor&&(c[1]=b.__atrumInterceptor),c}}},aroundWithHandleEvent:function(a,b,c,d){var f=a;return a&&"object"==typeof a&&"toString"in a&&"[xpconnect wrapped nsIDOMEventListener]"===a.toString()&&"handleEvent"in a&&(f=function(){a.handleEvent.apply(this,Array.prototype.slice.call(arguments))}),e.around(f,b,c,d)},getFullyQualifiedUrl:function(a){var c=b.createElement("a");return c.href=a,c.href}};if(a.XMLHttpRequest&&a.XMLHttpRequest.prototype){var f=a.XMLHttpRequest.prototype;if(!("open"in f&&"send"in f))return;if(!e.support(f.open)||!e.support(f.send))return;var g={};g.captureAjaxTimings=function(a){var b=a._atrumXhrData;if(b){var c=(new Date).getTime();2===a.readyState?b.firstByteTime=b.firstByteTime||c:4===a.readyState&&(b.respAvailTime=b.respAvailTime||c,b.firstByteTime=b.firstByteTime||c)}},g.sendPayload=function(a,b){b.receivedSize=0,a.responseType&&"text"!==a.responseType||"string"==typeof a.responseText&&(b.receivedSize=a.responseText.length),b.status=a.status,d.push(b)},g.wrapXHR=function(a,b,c){return e.aroundWithHandleEvent(a,function(){g.captureAjaxTimings(this)},function(){var a=b._atrumXhrData;if(a&&4===b.readyState){var c=(new Date).getTime();a.respProcTime=a.respProcTime||c,g.sendPayload(b,a),delete b._atrumXhrData}},c)},g.ajaxDone=function(a){if(a._atrumXhrData){var b=(new Date).getTime()+3e4,c=function(){g.captureAjaxTimings(a);var d=a._atrumXhrData;if(d){var e=(new Date).getTime();4===a.readyState?(d.respProcTime=d.respProcTime||e,g.sendPayload(a,d),delete a._atrumXhrData):b>e?setTimeout(c,50):delete a._atrumXhrData}};c()}},f.open=e.around(f.open,function(){var a=1<=arguments.length?String(arguments[0]):"",b=2<=arguments.length?String(arguments[1]):"",c=atatus.getAllowedDomains(),d=!0;if(b=e.getFullyQualifiedUrl(b),b&&c&&c.length){d=!1;for(var f=0;f<c.length;f++){var g=c[f];if(g&&b.indexOf(g)>-1){d=!0;break}}}d&&(b=b&&b.split("?")[0],this._atrumXhrData={method:a,url:b,sendTime:null,sendSize:null,firstByteTime:null,respAvailTime:null,respProcTime:null,receivedSize:null,parentPhase:null})},null,"XHR.open"),f.send=e.around(f.send,function(){var a=this,b=a._atrumXhrData;if(b){var c=(new Date).getTime();b.sendTime=b.sendTime||c,b.sendSize=1<=arguments.length&&arguments[0]?arguments[0].length||0:0;var d=0,f=function(){if(4===a.readyState)g.ajaxDone(a);else{var b=null;try{b=a.onreadystatechange}catch(c){return void g.ajaxDone(a)}d++,b?e.support(b)?a.onreadystatechange=g.wrapXHR(b,a,"XHR.onReadyStateChange"):g.ajaxDone(a):5>d?e.timeout(f):g.ajaxDone(a)}};f()}},null,"XHR.send"),"addEventListener"in f&&"removeEventListener"in f&&e.support(f.addEventListener)&&e.support(f.removeEventListener)&&(f.addEventListener=e.around(f.addEventListener,e.wrapAddEventListener(),null,"XHR.addEventListener"),f.removeEventListener=e.around(f.removeEventListener,e.wrapRemoveEventListener(),null,"XHR.removeEventListener"))}}(window,document)},function(a){function b(a,b,c){if(!(0>=b)){var d={name:a,dur:b,st:c};atatus.sendTxnPerf(d)}}function c(a){return h+" "+a}function d(){try{return"localStorage"in a&&null!==a.localStorage;}catch(b){return!1}}function e(a){var b=i.now();try{localStorage.setItem(c(a),b)}catch(d){}}function f(a){var b=null,d=c(a);try{b=localStorage.getItem(d),localStorage.removeItem(d)}catch(e){}var f=0;return b&&(f=i.now()-b),f}function g(a){try{var b=c(a);localStorage.removeItem(b)}catch(d){}}var h="atatus.com/",i=atatus._helper,j=1,k=0;atatus.beginTransaction=function(a){d()&&e(a)},atatus.endTransaction=function(a){if(d()){var c=f(a);b(a,c,j)}},atatus.failTransaction=function(a){if(d()){var c=f(a);b(a,c,k)}},atatus.cancelTransaction=function(a){d()&&g(a)}}(window,document);
/*! https://github.com/ttaubert/node-arraybuffer-slice
 * (c) 2014 Tim Taubert <tim@timtaubert.de>
 * arraybuffer-slice may be freely distributed under the MIT license.*/
!function(r){"use strict";function t(r,t){return r=0|r||0,r<0?Math.max(r+t,0):Math.min(r,t)}ArrayBuffer.prototype.slice||(ArrayBuffer.prototype.slice=function(e,n){var f=this.byteLength,i=t(e,f),a=f;if(n!==r&&(a=t(n,f)),i>a)return new ArrayBuffer(0);var u=a-i,y=new ArrayBuffer(u),o=new Uint8Array(y),s=new Uint8Array(this,i,u);return o.set(s),y})}();
!function(t){function e(r){if(i[r])return i[r].t;var n=i[r]={t:{},id:r,loaded:!1};return t[r].call(n.t,n,n.t,e),n.loaded=!0,n.t}var i={};return e.i=t,e.c=i,e.o="",e(0)}([function(t,e,i){"use strict";var r=this&&this.__extends||function(t,e){function i(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)},n=i(24),o=i(7),s=i(10),a=i(1);if("undefined"==typeof c)var c=3e4;var h=function(t){function e(e,i){var r=this;t.call(this,i),this.pluginName="bitmovin",this.version="3.0.7",this.s=!1,this.player=e,this.player.initSession=function(t){return r.h(),r.p(t).timeout(c,r.u+" Hive Plugin initialization timeout").then(function(t){return r.l(),t.v()})["catch"](function(t){return r.g(),r.h(),r.m().debug(r.u+" error occurred resolving the ticket - "+t.stack),a.reject(t)})},this.m().notice(this.u+"registered plugin [name:"+this.T()+"][id: "+this.S()+"][version: "+this.I()+"]")}return r(e,t),e.prototype.l=function(){var t=this;this.s||(this.player.addEventHandler("onReady",function(){if(t.m().debug("bitmovin.player.EVENT.ON_READY"),t.R()){var e=!!t.player.getConfig().playback&&t.player.getConfig().playback.auto;e&&t.k(!1),t.C()&&(t.O=new o.P)}}),this.player.addEventHandler("onPlay",function(){t.m().debug("bitmovin.player.EVENT.ON_PLAY"),t.A(s.B._.N)}),this.player.addEventHandler("onError",function(e){t.m().debug("bitmovin.player.EVENT.ON_ERROR");var i=-1,r=null;if(null!=e)try{i=e.code,r=JSON.stringify(e,null)}catch(n){r=e}t.onError(i,r)}),this.player.addEventHandler("onPlaybackFinished",function(){t.m().debug("bitmovin.player.EVENT.ON_PLAYBACK_FINISHED"),t.F(s.B._.D,{code:1}),t.H()}),this.player.addEventHandler("onSeek",function(){t.m().debug("bitmovin.player.EVENT.ON_SEEK"),t.F(s.B._.j)}),this.player.addEventHandler("onFullscreenEnter",function(){t.m().debug("bitmovin.player.EVENT.ON_FULLSCREEN_ENTER"),t.F(s.B._.L,{value:!0})}),this.player.addEventHandler("onFullscreenExit",function(){t.m().debug("bitmovin.player.EVENT.ON_FULLSCREEN_EXIT"),t.F(s.B._.L,{value:!1})}),this.player.addEventHandler("onSegmentRequestFinished",function(e){var i=e.mimeType.indexOf("video")>=0;if(e.success){var r=8*e.size/e.downloadTime;t.O.M(i,t.U,e.size),t.O.V(r)}else t.O.q(i,t.U)}),0===this.J().indexOf("7")?this.K():0===this.J().indexOf("6")&&this.G(),this.s=!0)},e.prototype.G=function(){var t=this;this.player.addEventHandler("onStartBuffering",function(){t.m().debug("bitmovin.player.EVENT.ON_START_BUFFERING"),t.k()}),this.player.addEventHandler("onStopBuffering",function(){t.m().debug("bitmovin.player.EVENT.ON_STOP_BUFFERING"),t.W()}),this.player.addEventHandler("onPause",function(){t.m().debug("bitmovin.player.EVENT.ON_PAUSE"),t.A(s.B._.$)}),this.player.addEventHandler("onVideoDownloadQualityChange",function(e){var i=t.Y();i===StreamProtocol.X?t.Z(e.targetQuality):t.Z(e.targetQuality.split("br")[1])})},e.prototype.K=function(){var t=this;this.player.addEventHandler("onStallStarted",function(){t.m().debug("bitmovin.player.EVENT.ON_STALL_STARTED"),t.k()}),this.player.addEventHandler("onStallEnded",function(){t.m().debug("bitmovin.player.EVENT.ON_STALL_ENDED"),t.W()}),this.player.addEventHandler("onPaused",function(){t.m().debug("bitmovin.player.EVENT.ON_PAUSED"),t.A(s.B._.$)}),this.player.addEventHandler("onVideoDownloadQualityChanged",function(e){t.Z(e.targetQualityId.bitrate)})},e.prototype.Z=function(t){this.m().debug("newBitrate",t),this.U&&t>this.U?this.O.tt():this.U&&this.U>t&&this.O.et(),this.U=t},e.prototype.A=function(t){"undefined"!=typeof this.it&&this.it!==t&&(this.F(t),this.it=t)},e.prototype.rt=function(){var t=this.Y();return t===StreamProtocol.X?this.player.getConfig().source.hls:t===StreamProtocol.nt?this.player.getConfig().source.dash:void 0},e.prototype.getCurrentTime=function(){return null!=this.player?Math.round(1e3*this.player.getCurrentTime()):0},e.prototype.ot=function(){return null!=this.player&&null!=this.player.getVideoBufferLength&&this.player.getVideoBufferLength()>0?Math.max(0,Math.round(1e3*this.player.getVideoBufferLength())):0},e.prototype.st=function(){if(this.player){var t=this.player.getFigure();return{width:t.offsetWidth,height:t.offsetHeight}}},e.prototype.isFullscreen=function(){return this.player.isFullscreen()},e.prototype.isLive=function(){return this.player.isLive()},e.prototype.at=function(){return!0},e.prototype.Y=function(){if(this.player){var t=this.player.getStreamType();if("hls"===t)return StreamProtocol.X;if("dash"===t)return StreamProtocol.nt}return null},e.prototype.ct=function(){var t=this.O;return this.O=new o.P,t},e.prototype.T=function(){return this.pluginName},e.prototype.I=function(){return this.version},e.prototype.ht=function(){if(this.player)return this.player.getPlayerType()},e.prototype.J=function(){return"undefined"!=typeof bitmovin.player.version?bitmovin.player.version:this.player.getVersion()},e}(n.pt.Plugin);e.ut=h;var p=function(t,e){new h(t,e)};bitmovin.initHiveSDN=p},function(t,e,i){/*!
	 *
	 * Copyright 2009-2016 Kris Kowal under the terms of the MIT
	 * license found at https://github.com/kriskowal/q/blob/v1/LICENSE
	 *
	 * With parts by Tyler Close
	 * Copyright 2007-2009 Tyler Close under the terms of the MIT X license found
	 * at http://www.opensource.org/licenses/mit-license.html
	 * Forked at ref_send.js version: 2009-05-11
	 *
	 * With parts by Mark Miller
	 * Copyright (C) 2011 Google Inc.
	 *
	 * Licensed under the Apache License, Version 2.0 (the "License");
	 * you may not use this file except in compliance with the License.
	 * You may obtain a copy of the License at
	 *
	 * http://www.apache.org/licenses/LICENSE-2.0
	 *
	 * Unless required by applicable law or agreed to in writing, software
	 * distributed under the License is distributed on an "AS IS" BASIS,
	 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
	 * See the License for the specific language governing permissions and
	 * limitations under the License.
	 *
	 */
!function(e){"use strict";if("function"==typeof bootstrap)bootstrap("promise",e);else{t.t=e()}}(function(){"use strict";function t(t){return function(){return z.apply(t,arguments)}}function e(t){return t===Object(t)}function i(t){return"[object StopIteration]"===it(t)||t instanceof q}function r(t,e){if(U&&e.stack&&"object"==typeof t&&null!==t&&t.stack&&t.stack.indexOf(rt)===-1){for(var i=[],r=e;r;r=r.source)r.stack&&i.unshift(r.stack);i.unshift(t.stack);var o=i.join("\n"+rt+"\n");t.stack=n(o)}}function n(t){for(var e=t.split("\n"),i=[],r=0;r<e.length;++r){var n=e[r];a(n)||o(n)||!n||i.push(n)}return i.join("\n")}function o(t){return t.indexOf("(module.js:")!==-1||t.indexOf("(node.js:")!==-1}function s(t){var e=/at .+ \((.+):(\d+):(?:\d+)\)$/.exec(t);if(e)return[e[1],Number(e[2])];var i=/at ([^ ]+):(\d+):(?:\d+)$/.exec(t);if(i)return[i[1],Number(i[2])];var r=/.*@(.+):(\d+)$/.exec(t);return r?[r[1],Number(r[2])]:void 0}function a(t){var e=s(t);if(!e)return!1;var i=e[0],r=e[1];return i===Q&&r>=J&&r<=ct}function c(){if(U)try{throw new Error}catch(t){var e=t.stack.split("\n"),i=e[0].indexOf("@")>0?e[1]:e[2],r=s(i);if(!r)return;return Q=r[0],r[1]}}function h(t,e,i){return function(){return"undefined"!=typeof console&&"function"==typeof console.warn&&console.warn(e+" is deprecated, use "+i+" instead.",new Error("").stack),t.apply(t,arguments)}}function p(t){return t instanceof f?t:m(t)?C(t):k(t)}function u(){function t(t){e=t,p.lt&&U&&(o.source=t),$(i,function(e,i){p.dt(function(){t.ft.apply(t,i)})},void 0),i=void 0,r=void 0}var e,i=[],r=[],n=Z(u.prototype),o=Z(f.prototype);if(o.ft=function(t,n,o){var s=W(arguments);i?(i.push(s),"when"===n&&o[1]&&r.push(o[1])):p.dt(function(){e.ft.apply(e,s)})},o.valueOf=function(){if(i)return o;var t=g(e);return y(t)&&(e=t),t},o.vt=function(){return e?e.vt():{state:"pending"}},p.lt&&U)try{throw new Error}catch(s){o.stack=s.stack.substring(s.stack.indexOf("\n")+1)}return n.gt=o,n.resolve=function(i){e||t(p(i))},n.yt=function(i){e||t(k(i))},n.reject=function(i){e||t(R(i))},n.notify=function(t){e||$(r,function(e,i){p.dt(function(){i(t)})},void 0)},n}function l(t){if("function"!=typeof t)throw new TypeError("resolver must be a function.");var e=u();try{t(e.resolve,e.reject,e.notify)}catch(i){e.reject(i)}return e.gt}function d(t){return l(function(e,i){for(var r=0,n=t.length;r<n;r++)p(t[r]).then(e,i)})}function f(t,e,i){void 0===e&&(e=function(t){return R(new Error("Promise does not support operation: "+t))}),void 0===i&&(i=function(){return{state:"unknown"}});var r=Z(f.prototype);if(r.ft=function(i,n,o){var s;try{s=t[n]?t[n].apply(r,o):e.call(r,n,o)}catch(a){s=R(a)}i&&i(s)},r.vt=i,i){var n=i();"rejected"===n.state&&(r.exception=n.reason),r.valueOf=function(){var t=i();return"pending"===t.state||"rejected"===t.state?r:t.value}}return r}function v(t,e,i,r){return p(t).then(e,i,r)}function g(t){if(y(t)){var e=t.vt();if("fulfilled"===e.state)return e.value}return t}function y(t){return t instanceof f}function m(t){return e(t)&&"function"==typeof t.then}function w(t){return y(t)&&"pending"===t.vt().state}function T(t){return!y(t)||"fulfilled"===t.vt().state}function S(t){return y(t)&&"rejected"===t.vt().state}function b(){nt.length=0,ot.length=0,at||(at=!0)}function E(t,e){at&&("object"==typeof process&&"function"==typeof process.emit&&p.dt.wt(function(){Y(ot,t)!==-1&&(process.emit("unhandledRejection",e,t),st.push(t))}),ot.push(t),e&&"undefined"!=typeof e.stack?nt.push(e.stack):nt.push("(no stack) "+e))}function I(t){if(at){var e=Y(ot,t);e!==-1&&("object"==typeof process&&"function"==typeof process.emit&&p.dt.wt(function(){var i=Y(st,t);i!==-1&&(process.emit("rejectionHandled",nt[e],t),st.splice(i,1))}),ot.splice(e,1),nt.splice(e,1))}}function R(t){var e=f({when:function(e){return e&&I(this),e?e(t):this}},function(){return this},function(){return{state:"rejected",reason:t}});return E(e,t),e}function k(t){return f({when:function(){return t},get:function(e){return t[e]},set:function(e,i){t[e]=i},"delete":function(e){delete t[e]},Tt:function(e,i){return null===e||void 0===e?t.apply(void 0,i):t[e].apply(t,i)},apply:function(e,i){return t.apply(e,i)},keys:function(){return et(t)}},void 0,function(){return{state:"fulfilled",value:t}})}function C(t){var e=u();return p.dt(function(){try{t.then(e.resolve,e.reject,e.notify)}catch(i){e.reject(i)}}),e.gt}function O(t){return f({St:function(){}},function(e,i){return B(t,e,i)},function(){return p(t).vt()})}function P(t,e,i){return p(t).bt(e,i)}function A(t){return function(){function e(t,e){var s;if("undefined"==typeof StopIteration){try{s=r[t](e)}catch(a){return R(a)}return s.done?p(s.value):v(s.value,n,o)}try{s=r[t](e)}catch(a){return i(a)?p(a.value):R(a)}return v(s,n,o)}var r=t.apply(this,arguments),n=e.bind(e,"next"),o=e.bind(e,"throw");return n()}}function N(t){p.done(p.async(t)())}function x(t){throw new q(t)}function _(t){return function(){return P([this,F(arguments)],function(e,i){return t.apply(e,i)})}}function B(t,e,i){return p(t).Et(e,i)}function F(t){return v(t,function(t){var e=0,i=u();return $(t,function(r,n,o){var s;y(n)&&"fulfilled"===(s=n.vt()).state?t[o]=s.value:(++e,v(n,function(r){t[o]=r,0===--e&&i.resolve(t)},i.reject,function(t){i.notify({index:o,value:t})}))},void 0),0===e&&i.resolve(t),i.gt})}function D(t){if(0===t.length)return p.resolve();var e=p.defer(),i=0;return $(t,function(r,n,o){function s(t){e.resolve(t)}function a(t){i--,0===i&&(t.message="Q can't get fulfillment value from any promise, all promises were rejected. Last error message: "+t.message,e.reject(t))}function c(t){e.notify({index:o,value:t})}var h=t[o];i++,v(h,s,a,c)},void 0),e.gt}function H(t){return v(t,function(t){return t=X(t,p),v(F(X(t,function(t){return v(t,K,K)})),function(){return t})})}function j(t){return p(t).It()}function L(t,e){return p(t).then(void 0,void 0,e)}function M(t,e){return p(t).Rt(e)}var U=!1;try{throw new Error}catch(V){U=!!V.stack}var Q,q,J=c(),K=function(){},G=function(){function t(){for(var t,r;i.next;)i=i.next,t=i.kt,i.kt=void 0,r=i.domain,r&&(i.domain=void 0,r.enter()),e(t,r);for(;h.length;)t=h.pop(),e(t);n=!1}function e(e,i){try{e()}catch(r){if(s)throw i&&i.exit(),setTimeout(t,0),i&&i.enter(),r;setTimeout(function(){throw r},0)}i&&i.exit()}var i={kt:void 0,next:null},r=i,n=!1,o=void 0,s=!1,a=!1;try{a=navigator&&("Microsoft Internet Explorer"===navigator.appName||null!=navigator.appVersion.match(/(trident).+rv[:\s]([\w\.]+).+like\sgecko/i))}catch(c){}var h=[];if(G=function(t){"undefined"!=typeof Framework&&Framework.Ct()?Framework.setTimeout(t,0):(r=r.next={kt:t,domain:s&&process.domain,next:null},n||(n=!0,o()))},"object"==typeof process&&"[object process]"===process.toString()&&process.dt)s=!0,o=function(){process.dt(t)};else if("function"!=typeof setImmediate||a)if("undefined"==typeof MessageChannel||a)o=function(){setTimeout(t,0)};else{var p=new MessageChannel;p.port1.onmessage=function(){o=u,p.port1.onmessage=t,t()};var u=function(){p.port2.postMessage(0)};o=function(){setTimeout(t,0),u()}}else o="undefined"!=typeof window?setImmediate.bind(window,t):function(){setImmediate(t)};return G.wt=function(t){h.push(t),n||(n=!0,o())},G}(),z=Function.call,W=t(Array.prototype.slice),$=t(Array.prototype.reduce||function(t,e){var i=0,r=this.length;if(1===arguments.length)for(;;){if(i in this){e=this[i++];break}if(++i>=r)throw new TypeError}for(;i<r;i++)i in this&&(e=t(e,this[i],i));return e}),Y=t(Array.prototype.indexOf||function(t){for(var e=0;e<this.length;e++)if(this[e]===t)return e;return-1}),X=t(Array.prototype.map||function(t,e){var i=this,r=[];return $(i,function(n,o,s){r.push(t.call(e,o,s,i))},void 0),r}),Z=Object.create||function(t){function e(){}return e.prototype=t,new e},tt=t(Object.prototype.hasOwnProperty),et=Object.keys||function(t){var e=[];for(var i in t)tt(t,i)&&e.push(i);return e},it=t(Object.prototype.toString);q="undefined"!=typeof ReturnValue?ReturnValue:function(t){this.value=t};var rt="From previous event:";p.resolve=p,p.dt=G,p.lt=!1,"object"==typeof process&&process&&process.Ot&&process.Ot.Q_DEBUG&&(p.lt=!0),p.defer=u,u.prototype.Pt=function(){var t=this;return function(e,i){e?t.reject(e):arguments.length>2?t.resolve(W(arguments,1)):t.resolve(i)}},p.Promise=l,p.gt=l,l.race=d,l.all=F,l.reject=R,l.resolve=p,p.At=function(t){return t},f.prototype.At=function(){return this},p.join=function(t,e){return p(t).join(e)},f.prototype.join=function(t){return p([this,t]).bt(function(t,e){if(t===e)return t;throw new Error("Q can't join: not the same: "+t+" "+e)})},p.race=d,f.prototype.race=function(){return this.then(p.race)},p.Nt=f,f.prototype.toString=function(){return"[object Promise]"},f.prototype.then=function(t,e,i){function n(e){try{return"function"==typeof t?t(e):e}catch(i){return R(i)}}function o(t){if("function"==typeof e){r(t,a);try{return e(t)}catch(i){return R(i)}}return R(t)}function s(t){return"function"==typeof i?i(t):t}var a=this,c=u(),h=!1;return p.dt(function(){a.ft(function(t){h||(h=!0,c.resolve(n(t)))},"when",[function(t){h||(h=!0,c.resolve(o(t)))}])}),a.ft(void 0,"when",[void 0,function(t){var e,i=!1;try{e=s(t)}catch(r){if(i=!0,!p.onerror)throw r;p.onerror(r)}i||c.notify(e)}]),c.gt},p.xt=function(t,e){return p(t).xt(e)},f.prototype.xt=function(t){return t=p(t),this.then(function(e){return t.Bt(e)._t(e)})},p.when=v,f.prototype._t=function(t){return this.then(function(){return t})},p._t=function(t,e){return p(t)._t(e)},f.prototype.Ft=function(t){return this.then(function(){throw t})},p.Ft=function(t,e){return p(t).Ft(e)},p.Dt=g,p.Ht=y,p.jt=m,p.Lt=w,f.prototype.Lt=function(){return"pending"===this.vt().state},p.Mt=T,f.prototype.Mt=function(){return"fulfilled"===this.vt().state},p.Ut=S,f.prototype.Ut=function(){return"rejected"===this.vt().state};var nt=[],ot=[],st=[],at=!0;p.Vt=b,p.Qt=function(){return nt.slice()},p.qt=function(){b(),at=!1},b(),p.reject=R,p.yt=k,p.Jt=O,p.bt=P,f.prototype.bt=function(t,e){return this.all().then(function(e){return t.apply(void 0,e)},e)},p.async=A,p.Kt=N,p["Gt"]=x,p.zt=_,p.Et=B,f.prototype.Et=function(t,e){var i=this,r=u();return p.dt(function(){i.ft(r.resolve,t,e)}),r.gt},p.get=function(t,e){return p(t).Et("get",[e])},f.prototype.get=function(t){return this.Et("get",[t])},p.set=function(t,e,i){return p(t).Et("set",[e,i])},f.prototype.set=function(t,e){return this.Et("set",[t,e])},p.Wt=p["delete"]=function(t,e){return p(t).Et("delete",[e])},f.prototype.Wt=f.prototype["delete"]=function(t){return this.Et("delete",[t])},p.$t=p.Tt=function(t,e,i){return p(t).Et("post",[e,i])},f.prototype.$t=f.prototype.Tt=function(t,e){return this.Et("post",[t,e])},p.send=p.Yt=p.Xt=function(t,e){return p(t).Et("post",[e,W(arguments,2)])},f.prototype.send=f.prototype.Yt=f.prototype.Xt=function(t){return this.Et("post",[t,W(arguments,1)])},p.Zt=function(t,e){return p(t).Et("apply",[void 0,e])},f.prototype.Zt=function(t){return this.Et("apply",[void 0,t])},p["te"]=p.Bt=function(t){return p(t).Et("apply",[void 0,W(arguments,1)])},f.prototype.Bt=function(){return this.Et("apply",[void 0,W(arguments)])},p.ee=function(t){var e=p(t),i=W(arguments,1);return function(){return e.Et("apply",[this,i.concat(W(arguments))])}},f.prototype.ee=function(){var t=this,e=W(arguments);return function(){return t.Et("apply",[this,e.concat(W(arguments))])}},p.keys=function(t){return p(t).Et("keys",[])},f.prototype.keys=function(){return this.Et("keys",[])},p.all=F,f.prototype.all=function(){return F(this)},p.ie=D,f.prototype.ie=function(){return D(this)},p.re=h(H,"allResolved","allSettled"),f.prototype.re=function(){return H(this)},p.It=j,f.prototype.It=function(){return this.then(function(t){return F(X(t,function(t){function e(){return t.vt()}return t=p(t),t.then(e,e)}))})},p.fail=p["catch"]=function(t,e){return p(t).then(void 0,e)},f.prototype.fail=f.prototype["catch"]=function(t){return this.then(void 0,t)},p.progress=L,f.prototype.progress=function(t){return this.then(void 0,void 0,t)},p.ne=p["oe"]=function(t,e){return p(t)["oe"](e)},f.prototype.ne=f.prototype["oe"]=function(t){if(!t||"function"!=typeof t.apply)throw new Error("Q can't apply finally callback");return t=p(t),this.then(function(e){return t.Bt().then(function(){return e})},function(e){return t.Bt().then(function(){throw e})})},p.done=function(t,e,i,r){return p(t).done(e,i,r)},f.prototype.done=function(t,e,i){var n=function(t){p.dt(function(){if(r(t,o),!p.onerror)throw t;p.onerror(t)})},o=t||e||i?this.then(t,e,i):this;"object"==typeof process&&process&&process.domain&&(n=process.domain.bind(n)),o.then(void 0,n)},p.timeout=function(t,e,i){return p(t).timeout(e,i)},f.prototype.timeout=function(t,e){var i=u(),r=setTimeout(function(){e&&"string"!=typeof e||(e=new Error(e||"Timed out after "+t+" ms"),e.code="ETIMEDOUT"),i.reject(e)},t);return this.then(function(t){clearTimeout(r),i.resolve(t)},function(t){clearTimeout(r),i.reject(t)},i.notify),i.gt},p.delay=function(t,e){return void 0===e&&(e=t,t=void 0),p(t).delay(e)},f.prototype.delay=function(t){return this.then(function(e){var i=u();return setTimeout(function(){i.resolve(e)},t),i.gt})},p.se=function(t,e){return p(t).se(e)},f.prototype.se=function(t){var e=u(),i=W(t);return i.push(e.Pt()),this.Zt(i).fail(e.reject),e.gt},p.ae=function(t){var e=W(arguments,1);return p(t).se(e)},f.prototype.ae=function(){var t=W(arguments),e=u();return t.push(e.Pt()),this.Zt(t).fail(e.reject),e.gt},p.ce=p.he=function(t){if(void 0===t)throw new Error("Q can't wrap an undefined function");var e=W(arguments,1);return function(){var i=e.concat(W(arguments)),r=u();return i.push(r.Pt()),p(t).Zt(i).fail(r.reject),r.gt}},f.prototype.ce=f.prototype.he=function(){var t=W(arguments);return t.unshift(this),p.he.apply(void 0,t)},p.pe=function(t,e){var i=W(arguments,2);return function(){function r(){return t.apply(e,arguments)}var n=i.concat(W(arguments)),o=u();return n.push(o.Pt()),p(r).Zt(n).fail(o.reject),o.gt}},f.prototype.pe=function(){var t=W(arguments,0);return t.unshift(this),p.pe.apply(void 0,t)},p.ue=p.le=function(t,e,i){return p(t).le(e,i)},f.prototype.ue=f.prototype.le=function(t,e){var i=W(e||[]),r=u();return i.push(r.Pt()),this.Et("post",[t,i]).fail(r.reject),r.gt},p.de=p.fe=p.ve=function(t,e){var i=W(arguments,2),r=u();return i.push(r.Pt()),p(t).Et("post",[e,i]).fail(r.reject),r.gt},f.prototype.de=f.prototype.fe=f.prototype.ve=function(t){var e=W(arguments,1),i=u();return e.push(i.Pt()),this.Et("post",[t,e]).fail(i.reject),i.gt},p.Rt=M,f.prototype.Rt=function(t){return t?void this.then(function(e){p.dt(function(){t(null,e)})},function(e){p.dt(function(){t(e)})}):this},p.ge=function(){throw new Error("Q.noConflict only works when Q is used as a global")};var ct=c();return p})},function(t,e,i){"use strict";var r,n=i(16),o=i(5),s=o.ye;!function(t){function e(e){P&&console.log("Framework already initialized"),C=new Date,t.me(),e.apply(x),P=x.resolve(E.we),N=x.resolve(E.Te),B=P.Ct()}function i(){A=x.resolve(E.Se),A.init()}function r(){return A}function o(){return N}function a(){return P}function c(t){return _.get(t)}function h(t,e){var i=new I(t);return i.apply(e),_.set(t,i),i}function p(e){k=t.be(e)}function u(t){return null!=k?k.context.resolve(t):(console.warn("undefined context"),null)}function l(){return k}function d(){return P.time()}function f(t,e){return P.setTimeout(t,e)}function v(t){return P.clearTimeout(t)}function g(){P.Ee()}function y(){x.Ie()}function m(t){O=t}function w(){return O||(O=(new Date).getTime()),O=(9301*O+49297)%233280,O/233280}function T(){return C}function S(){return B}var b=function(){function t(){}return t.Re="ws://127.0.0.1:8000/hive",t}();t.ke=b;var E=function(){function t(){}return t.we="TimerScheduler",t.Ce="identityProvider",t.Se="NetworkComponent",t.Oe="rtcManager",t.Pe="transport",t.Ae="httpManager",t.Ne="httpRequest",t.Te="logger",t.xe="serverManager",t._e="servicesClient",t}();t.Be=E;var I=function(){function t(t){this.id=t,this.context=new n.Fe}return t.prototype.apply=function(t){t.apply(this.context)},t}();t.De=I,function(t){t[t.He=0]="HTTP",t[t.je=1]="RTC"}(t.Le||(t.Le={}));var R;t.Le;!function(e){function i(){return"["+d()+"] ["+t.Me().id+"]"}e.Ue=i}(R=t.Ve||(t.Ve={}));var k,C,O,P,A,N,x=new n.Fe,_=new s,B=!1;t.Qe=e,t.qe=i,t.Je=r,t.m=o,t.Ke=a,t.be=c,t.Ge=h,t.ze=p,t.resolve=u,t.Me=l,t.time=d,t.setTimeout=f,t.clearTimeout=v,t.Ee=g,t.me=y,t.We=m,t.random=w,t.$e=T,t.Ct=S}(r=e.Framework||(e.Framework={})),"undefined"!=typeof global&&(global.Framework=r)},function(t,e){"use strict";var i=!0,r={Ye:function(t){return"boolean"!=typeof t?new Error("Argument type: "+typeof t+". Please use a boolean."):(i=t,t?"adapter.js logging disabled":"adapter.js logging enabled")},log:function(){if("object"==typeof window){if(i)return;"undefined"!=typeof console&&"function"==typeof console.log&&console.log.apply(console,arguments)}},Xe:function(t,e,i){var r=t.match(e);return r&&r.length>=i&&parseInt(r[i],10)},Ze:function(){var t={};if(t.ti=null,t.version=null,"undefined"==typeof window||!window.navigator)return t.ti="Not a browser.",t;if(navigator.mozGetUserMedia)t.ti="firefox",t.version=this.Xe(navigator.userAgent,/Firefox\/(\d+)\./,1);else if(navigator.webkitGetUserMedia)if(window.webkitRTCPeerConnection)t.ti="chrome",t.version=this.Xe(navigator.userAgent,/Chrom(e|ium)\/(\d+)\./,2);else{if(!navigator.userAgent.match(/Version\/(\d+).(\d+)/))return t.ti="Unsupported webkit-based browser with GUM support but no WebRTC support.",t;t.ti="safari",t.version=this.Xe(navigator.userAgent,/AppleWebKit\/(\d+)\./,1)}else if(navigator.mediaDevices&&navigator.userAgent.match(/Edge\/(\d+).(\d+)$/))t.ti="edge",t.version=this.Xe(navigator.userAgent,/Edge\/(\d+).(\d+)$/,2);else{if(!navigator.mediaDevices||!navigator.userAgent.match(/AppleWebKit\/(\d+)\./))return t.ti="Not a supported browser.",t;t.ti="safari",t.version=this.Xe(navigator.userAgent,/AppleWebKit\/(\d+)\./,1)}return t},ei:function(){if("object"==typeof window&&window.HTMLMediaElement&&"srcObject"in window.HTMLMediaElement.prototype){var t=URL.createObjectURL.bind(URL),e=URL.revokeObjectURL.bind(URL),i=new Map,r=0;URL.createObjectURL=function(e){if("getTracks"in e){var n="polyblob:"+ ++r;return i.set(n,e),console.log("URL.createObjectURL(stream) is deprecated! Use elem.srcObject = stream instead!"),n}return t(e)},URL.revokeObjectURL=function(t){e(t),i["delete"](t)};var n=Object.getOwnPropertyDescriptor(window.HTMLMediaElement.prototype,"src");Object.defineProperty(window.HTMLMediaElement.prototype,"src",{get:function(){return n.get.apply(this)},set:function(t){return this.ii=i.get(t)||null,n.set.apply(this,[t])}});var o=HTMLMediaElement.prototype.setAttribute;HTMLMediaElement.prototype.setAttribute=function(){return 2===arguments.length&&"src"===(""+arguments[0]).toLowerCase()&&(this.ii=i.get(arguments[1])||null),o.apply(this,arguments)}}}};t.t={log:r.log,Ye:r.Ye,ri:r.Ze(),Xe:r.Xe,ei:r.ei,Ze:r.Ze.bind(r)}},function(t,e){t.t=function(){return new Function}},function(t,e,i){var r=i(32);t.t={ye:r.Map,ni:r.ni,oi:r.oi}},function(t,e,i){"use strict";var r,n=i(18),o=i(25),s=i(14),a=i(27),c=a.pt.si;!function(t){var e;!function(t){var e=function(){function t(){this.monitorPort=o.ke.ai?s.hi.ci:s.hi.pi,this.playerPort=o.ke.ai?s.hi.ui:s.hi.li,this.feedbackPeriod=2e3,this.useSessionCheck=o.ke.di,this.debugLevel="notice",this.telemetryId=null,this.silent=!1,this.loggerTimestamp=n.HiveConfig.Framework.LoggerTimestamp,this.onSourceSetCompleted=function(t){},this.onLoadingCompleted=function(t){},this.hiveTechOrder=[],this.hiveTechOrder.push(c[c.HiveJava]),this.hiveTechOrder.push(c[c.StatsJS])}return t}();t.fi=e;var i=function(){function t(){this.initTimeout=3e4,this.onError=function(t){return!0},this.onActiveSession=function(t){}}return t}();t.vi=i;var r=function(){function t(){this.hivePlayerPort="playerPort",this.hiveMonitorPort="monitorPort",this.hiveSilent="silent",this.hiveDebugLevel="debugLevel",this.hiveDebugTimestamp="loggerTimestamp",this.hiveSetupTimeout="setupTimeout",this.hiveJavaTimeout="initTimeout",this.hiveWarnJavaTimeout="warnSlowRespTimeout"}return t}();t.gi=r}(e=t.fi||(t.fi={}))}(r=e.pt||(e.pt={}));var h;!function(t){var e=function(){function t(){}return t.enabledRUM=!1,t.enableKeyCombination=!0,t.enabledErrorFilter=!0,t}();t.ErrorMonitor=e}(h=e.HiveConfig||(e.HiveConfig={})),"undefined"!=typeof window&&("undefined"==typeof window.HiveConfig&&(window.HiveConfig={}),window.HiveConfig.ErrorMonitor=h.ErrorMonitor)},function(t,e,i){"use strict";function r(t,e){function i(){return t()?void g.when(e(),i,r.reject):r.resolve(!0)}var r=g.defer();return g.dt(i),r.gt}function n(t,e,i){return void 0===i&&(i=!0),o("GET",t,e,i)}function o(t,e,i,r){void 0===r&&(r=!0);var n=g.defer();try{var o=new XMLHttpRequest;o.open(t,e,r),void 0!=i&&null!=i&&o.setRequestHeader("Content-Type",i),o.onload=function(){200==o.status?n.resolve(o.response):n.reject({status:o.status,reason:o.statusText,body:o.responseText})},o.onerror=function(t){n.reject({status:-1,reason:"Network Error"})},o.send()}catch(s){n.reject({status:-1,reason:s})}return n.gt}function s(t,e,i,r){void 0===r&&(r=!0);var n=g.defer();try{var o=new XMLHttpRequest;o.open("POST",t,r),void 0!=i&&null!=i&&o.setRequestHeader("Content-Type",i),o.onload=function(){200==o.status?n.resolve(o.response):n.reject({status:o.status,reason:o.statusText})},o.onerror=function(t){n.reject({status:-1,reason:"Network Error"})},o.send(e)}catch(s){n.reject({status:-1,reason:s})}return n.gt}function a(t,e){var i,r,n=document.querySelector("base"),o=document.querySelector("head"),s=document.createElement("a"),a=n;return n?i=n.href:a=o.appendChild(document.createElement("base")),a.href=t,s.href=e,r=s.href,n?n.href=i:o.removeChild(a),r}function c(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];for(var i=t[0],r=1;r<t.length;r++){var n=new RegExp("\\{"+(r-1)+"\\}","gm");i=i.replace(n,t[r])}return i}function h(t,e){for(var i in t)i in e&&(e[i]=t[i])}function p(t,e,i){var r=v(t).yi(!0);for(var n in r)try{if(n in e&&e[n]in i){var o=e[n],s=r[n];i[o]=u(s,i[o])}}catch(a){}}function u(t,e){var i;switch(typeof e){case"number":i=parseInt(t);break;case"boolean":i="true"===t;break;default:i=t}return i}function l(t,e,i){var r=new m;return r.ticketUrl=t,r.code=e,r.message=w(e),r.detailedMessage=i,r}var d=i(5),f=d.ye,v=i(20),g=i(1),y=i(12),m=y.pt.HiveSessionError,w=y.pt.getHiveSessionErrorMessage,T=y.pt.HiveSession,S=function(){function t(t,e,i,r){this.ticketUrl=t,this.ticket=e,this.manifest=i,this.mi=r}return t.prototype.at=function(t){return null!==this.tech&&this.tech.at(t,this)},t.prototype.close=function(t){if(null!=this.tech)return this.tech.wi(this,t)},t.prototype.toString=function(){return this.ticket.toString()},t.prototype.v=function(){var t=new T;return t.id=this.id,t.ticketUrl=this.ticketUrl,t.manifest=this.manifest,t.tech=this.tech.Ti(),t},t}();e.Si=S;var b=function(){function t(){}return t}();e.bi=b;var E=function(){function t(){this.success=0,this.Ei=0,this.Ii=0}return t}();e.Ri=E;var I=function(){function t(){this.ki=0,this.Ci=0,this.Oi=new f,this.Pi=new f}return t.prototype.M=function(t,e,i,r){void 0===r&&(r=!0);var n=t?this.Oi:this.Pi;n.has(e)||n.set(e,new E);var o=n.get(e);o.Ii+=i,r&&o.success++},t.prototype.q=function(t,e){var i=t?this.Oi:this.Pi;i.has(e)||i.set(e,new E),i.get(e).Ei++},t.prototype.V=function(t){this.bandwidth=t},t.prototype.tt=function(){this.ki++},t.prototype.et=function(){this.Ci++},t.prototype.Ai=function(){return this.bandwidth},t.prototype.Ni=function(){return this.Oi},t.prototype.xi=function(){return this.Pi},t.prototype._i=function(){return this.ki},t.prototype.Bi=function(){return this.Ci},t}();e.P=I;var R=function(){function t(){var e=this;if(t.Fi)throw new Error("Error: Instantiation failed: Use VisibilityChangeListener.getInstance() instead of new.");var i,r;"undefined"!=typeof document.hidden?(i="hidden",r="visibilitychange"):"undefined"!=typeof document.msHidden?(i="msHidden",r="msvisibilitychange"):"undefined"!=typeof document.webkitHidden&&(i="webkitHidden",r="webkitvisibilitychange"),"undefined"!=typeof document.addEventListener&&"undefined"!=typeof document[i]?document.addEventListener(r,function(){var t=!document[i];e.Di.forEach(function(i){i.call(e,t)})},!1):t.m&&t.m.debug("warn - visibilityChange listener not supported"),this.Di=new Array}return t.Hi=function(e){return e&&(this.m=e),void 0===this.Fi&&(this.Fi=new t),this.Fi},t.prototype.ji=function(t){this.Di.push(t)},t}();e.Li=R,e.Mi=r,e.Ui=n,e.Vi=o,e.Qi=s,e.qi=a,e.Ji=c,e.Ki=h,e.Gi=p,e.zi=l;var k=function(){function t(){}return t.getItem=function(t){return window.sessionStorage?window.sessionStorage.getItem(t):null},t.setItem=function(t,e){return!!window.sessionStorage&&(window.sessionStorage.setItem(t,e),!0)},t.removeItem=function(t){window.sessionStorage&&window.sessionStorage.removeItem(t)},t}();e.Wi=k},function(t,e){"use strict";var i;!function(t){t.$i="statsClient",t._e="servicesClient",t.Yi="ticketResolver",t.Ce="identityProvider",t.Xi="connInfoProvider",t.Zi="streamInfoProvider",t.tr="reporting",t.er="statsStore",t.ir="trackManager",t.rr="trackClient"}(i=e.nr||(e.nr={}))},function(t,e){"use strict";var i;!function(t){if("undefined"==typeof e)var e=!1;t.or=e;var i=function(){function t(){}return t.sr="wss://bee.hivestreaming.com:443/v1/hivejs",t.ar="wss://bee-test.hivestreaming.com:443/v1/hivejs",t.cr={iceServers:[{url:"stun:stun.hivestreaming.com:3678"}]},t.hr=3e4,t.pr=3e5,t.ur=8e4,t.lr=3e4,t.dr=100,t.vr=1e4,t}();t.gr=i}(i=e.yr||(e.yr={}))},function(t,e,i){"use strict";var r,n=this&&this.__extends||function(t,e){function i(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)},o=i(19),s=i(1),a=i(2),c=i(8),h=i(9),p=i(11);!function(t){t.mr="hive-client-track",t.wr="trackevent",t.Tr="NULLID",t.Sr="";var e=function(){function t(){}return t.br=0,t.Er=1,t.Ir=2,t.Rr=100,t.kr=200,t}();t.Cr=e,function(t){t[t.N=0]="PLAYING",t[t.Or=1]="BUFFERING",t[t.$=2]="PAUSED",t[t.j=3]="SKIP",t[t.D=4]="STOPPED",t[t.ERROR=5]="ERROR",t[t.Pr=6]="WINDOW_SIZE",t[t.L=7]="FULLSCREEN",t[t.Ar=8]="VISIBLE",t[t.HIDDEN=9]="HIDDEN"}(t._||(t._={}));t._;!function(t){t[t.Nr=0]="JAVA_NOT_REACHABLE",t[t.xr=1]="JAVA_NOT_READY",t[t._r=2]="JAVA_WRONG_VERSION",t[t.Br=3]="JAVA_SESSION_BUSY",t[t.Fr=4]="JAVA_SESSION_ERROR",t[t.Dr=5]="JAVA_TICKET_TIMEOUT"}(t.Hr||(t.Hr={}));var i=(t.Hr,function(){function t(){}return t}());t.jr=i;var r=function(){function t(){}return t}();t.Lr=r;var u=function(){function t(){}return t}(),l=function(){function t(){this.type=e.Ir}return t}(),d=function(){function t(){this.sessions=new Array}return t.prototype.Mr=function(t,e){var i;this.sessions.forEach(function(e){e.sessionId==t&&(i=e)}),i||(i=new f,i.sessionId=t,this.sessions.push(i)),i.events.push(e)},t}();t.Ur=d;var f=function(){function t(){this.events=new Array}return t}();t.Vr=f;var v=function(){function e(){this.m=a.Framework.resolve(a.Framework.Be.Te).log(),this.Qr=a.Framework.resolve(c.nr.Xi),this.qr=new Array,this.Jr=new Array,this.Kr=new Array}return e.prototype.Gr=function(t){this.client=t},e.prototype.init=function(t,e){this.zr=t,this.Wr(e)},e.prototype.Wr=function(t){this.app=t},e.prototype.$r=function(t,e,i,r,n,o){this.Yr=new u,this.Yr.commVersion=t,this.Yr.pluginName=e,this.Yr.pluginVersion=i,this.Yr.playerTech=r,this.Yr.playerVersion=n,this.Yr.telemetryId=o},e.prototype.Xr=function(t){var e=new y(t);this.qr.push(e),this.Zr=null,this.client.tn(!0)},e.prototype.en=function(t,e,i){if(!this.Zr)for(var r=0;r<this.qr.length;r++){var n=this.qr[r];if(n.ticket.sessionId===t){this.m.debug("Activating Track for session "+t),this.Zr=n;break}}if(this.Zr){if(this.Zr.ticket.sessionId!=t)return void this.m.warn("ignoring manifest not matching event "+this.Zr.ticket.sessionId+" != "+t);if(!this.Zr.in){var o=new m(t,e,i);this.Zr.rn(o),this.client.tn()}}},e.prototype.nn=function(t,e,i){null!=this.Zr&&(this.Zr.in||this.Zr.sn.push(new b(t,e,i)))},e.prototype.an=function(t,e,i){this.Jr.push(new T(t,e,i)),this.client.tn()},e.prototype.cn=function(t,e,i){this.Kr.push(new S(t,e,i)),this.client.tn()},e.prototype.hn=function(t){var e=this;t&&t.forEach(function(t){e.Kr.push(t)})},e.prototype.pn=function(){var e=new r;this.Zr&&(e.partnerId=this.Zr.ticket.un(),e.customerId=this.Zr.ticket.ln()),e.version=this.app.app+"_"+this.app.version,e.installVersion=t.Sr;var i=new o;return i.dn(navigator.userAgent),e.os=i.fn().name+" "+i.fn().version,this.Yr&&(e.commVersion=this.Yr.commVersion,e.pluginName=this.Yr.pluginName,e.pluginVersion=this.Yr.pluginVersion,e.playerTech=this.Yr.playerTech,e.playerVersion=this.Yr.playerVersion,this.Yr.telemetryId&&(e.telemetryId=this.Yr.telemetryId)),e},e.prototype.vn=function(){return this.Zr?this.Zr:this.qr&&this.qr.length>0?this.qr[this.qr.length-1]:void 0},e.prototype.gn=function(){var e=this,r=s.defer();0==this.qr.length&&0==this.Jr.length&&r.reject("nothing to send");var n=new i;n.app=t.mr,n.createdAt=a.Framework.time(),n.guid=this.zr,n.name=t.wr;var o=this.vn();if(o){var c=o.ticket.yn().replace(/[\[\]]/g,"");n.tags=[c],n.tags.push(o.ticket.un()),n.tags.push(o.ticket.ln())}else n.tags=new Array;var h=new d;return h.peer=this.pn(),this.qr.forEach(function(t){t.in||h.Mr(t.ticket.sessionId,t)}),this.Jr.forEach(function(t){h.Mr(t.sessionId,t)}),this.Kr.forEach(function(t){h.Mr(t.sessionId,t)}),n.data=h,this.Qr.mn().then(function(t){var i=e.wn(t);h.Mr("null",i)})["oe"](function(){return r.resolve(n)}),r.gt},e.prototype.wn=function(t){var e=new l;return e.pubIp=t.publicIp,e.privIp=t.privateIp,e},e.prototype.reset=function(){this.qr=new Array,this.Jr=new Array},e.prototype.Tn=function(t){this.zr=t},e}();t.Sn=v;var g=function(){function t(){this.m=a.Framework.resolve(a.Framework.Be.Te).log(),this.bn=a.Framework.resolve(c.nr.ir),this.client=a.Framework.resolve(c.nr._e),this.bn.Gr(this)}return t.prototype.tn=function(t){void 0===t&&(t=!1);var e=t?h.yr.gr.ur:h.yr.gr.pr;if(this.En){var i=this.In-(new Date).getTime();i>e&&(a.Framework.clearTimeout(this.En),this.In=null,this.Rn(e))}else this.Rn(e)},t.prototype.Rn=function(t){var e=this;this.En=a.Framework.setTimeout(function(){e.kn()},t),this.In=(new Date).getTime()+t},t.prototype.kn=function(){var t=this;this.En=null,this.In=null,this.m.debug("TAKING A TRACK SNAPSHOT"),this.bn.gn().then(function(e){return t.forward(e)})["oe"](function(){return t.bn.reset()})},t.prototype.forward=function(t){if(this.client&&this.client.Cn()){var e=JSON.stringify(t);this.m.debug("TRACK EVENT:",e);var i=new p.On(Services.Pn,2,e);this.client.Cn().send(i)}},t}();t.An=g;var y=function(){function t(t){this.createdAt=(new Date).getTime(),this.in=!1,this.ticket=t,this.manifests=new Array,this.sn=new Array}return t.prototype.rn=function(t){this.manifests.push(t)},t.prototype.toJSON=function(){var t={};t.type=e.br,t.ticket={},t.ticket.url=this.ticket.ticketUrl,t.ticket.reqTs=this.ticket.Nn,t.ticket.respTs=this.ticket.xn,t.ticket.userAgent=navigator.userAgent,t.manifests=[],this.manifests.forEach(function(e){var i={};i.url=e.url,i.respTs=e.xn,i.respCode=e.respCode,t.manifests.push(i)});var i=-1,r=-1,n=-1;return this.sn.forEach(function(t){t._n>0&&(i==-1&&(i=t.ts,r=t._n),n=t._n)}),i!=-1&&(t.playTs=i),n!=-1&&(t.buffTime=n),r!=-1&&(t.initBuffTime=r),t},t}();t.Bn=y;var m=function(){function t(t,e,i){this.eventId=t,this.url=e,this.xn=(new Date).getTime(),this.respCode=i}return t}();t.Fn=m;var w=function(){function t(t,e,i,r){this.ts=(new Date).getTime(),this.sessionId=t,this.sessionId||(this.sessionId="null"),this.event=e,this.Dn=i,r&&(this.ts=r)}return t.prototype.toJSON=function(){var t={};return t.type=this.Hn+this.event,t.ts=this.ts,this.Dn&&(t.parameters=this.Dn),t},t}();t.jn=w;var T=function(t){function i(i,r,n,o){t.call(this,i,r,n,o),this.Hn=e.Rr}return n(i,t),i}(w);t.Ln=T;var S=function(t){function i(i,r,n,o){t.call(this,i,r,n,o),this.Hn=e.kr}return n(i,t),i}(w);t.Mn=S;var b=function(){function t(t,e,i){this.ts=(new Date).getTime(),this.Un=t,this.Vn=e,this._n=i}return t}();t.Qn=b}(r=e.B||(e.B={}))},function(t,e){"use strict";function i(){if(this.qn)return this.qn;var t=window&&window.window?window.window.Jn:void 0;
if("undefined"!=typeof t&&t.log&&t.debug&&t.info&&t.warn&&t.error&&(this.qn=t),!this.qn){var e=!("undefined"==typeof window.console),i=e?console.log.bind(console):function(){};this.qn={log:i,debug:e&&window.console.debug?window.console.debug.bind(console):i,info:e&&window.console.info?window.console.info.bind(console):i,warn:e&&window.console.warn?window.console.warn.bind(console):i,error:e&&window.console.error?window.console.error.bind(console):i}}return this.qn}e.u="[HiveServices] ";var r=function(){function t(){}return t.Kn=250,t}();e.ke=r;var n=function(){function t(t,e,i){this.msgId=e,this.service=t,this.msg=i}return t.prototype.Gn=function(){var t=new Uint8Array([this.service>>8,255&this.service]),e=new Uint8Array([this.msgId]),i=[t,e,this.msg];return new Blob(i,{type:"application/octet-binary"})},t.zn=function(e){var i=(String.fromCharCode.apply(null,new Uint8Array(e)),String.fromCharCode.apply(null,new Uint8Array(e.slice(3)))),r=new Uint8Array(e.slice(0,2)),n=new Uint8Array(e.slice(2,3)),o=(r[0]<<8)+r[1];return new t(o,n[0],i)},t}();e.On=n,e.m=i},function(t,e){"use strict";var i;!function(t){function e(t){return r[t]}var i=function(){function t(){}return t}();t.HiveSession=i,function(t){t[t.Wn=0]="GENERIC_ERROR",t[t.$n=1]="NO_TECH_AVAILABLE",t[t.Yn=2]="NO_TECH_RESOLVED",t[t.Xn=3]="TECH_ERROR",t[t.Zn=4]="TICKET_ERROR"}(t.to||(t.to={}));var r;t.to;!function(t){t[t["eo"]=0]="Generic Undefined Error",t[t["io"]=1]="No Tech available to resolve the ticket",t[t["ro"]=2]="No available Tech could resolved the ticket",t[t["no"]=3]="Stopped resolving session on last tech onError",t[t["oo"]=4]="The ticket could not be resolved"}(r||(r={}));var n=function(){function t(){}return t}();t.HiveSessionError=n;var o=function(){function t(t,e){this.code=t,this.message=e}return t}();t.HiveTechError=o,function(t){t[t.so=0]="NOT_READY",t[t.ao=1]="PLUGIN_ERROR",t[t.co=2]="SESSION_ERROR",t[t.Zn=3]="TICKET_ERROR",t[t.ho=4]="VERSION_ERROR",t[t.po=5]="TIMEOUT_ERROR"}(t.uo||(t.uo={}));t.uo;!function(t){t[t.lo=0]="OK",t[t.do=1]="HIVE_NOT_ALLOWED",t[t.fo=2]="TICKET_NOT_RESOLVED",t[t.vo=3]="TIMEOUT_RESOLVING_TICKET"}(t.yo||(t.yo={}));t.yo;t.getHiveSessionErrorMessage=e;var s=function(){function t(t){this.mo=t}return t.prototype.getPluginStatusCode=function(){return this.mo.wo()},t}();t.To=s}(i=e.pt||(e.pt={})),"undefined"!=typeof window&&("undefined"==typeof window.pt&&(window.pt={}),window.pt.getHiveSessionErrorMessage=i.getHiveSessionErrorMessage)},function(t,e,i){"use strict";var r=i(39),n=i(6),o=i(24);if("undefined"==typeof s)var s="592835a6b4204dd197c00488610003e0";if("undefined"==typeof a)var a="0.8";if("undefined"==typeof c)var c=!0;var h=function(){function t(){if(this.at=!1,t.Fi)throw new Error("Error: Instantiation failed: Use AtatusLogger.getInstance() instead of new.");var e,i=void 0!=n.HiveConfig.ErrorMonitor.key?n.HiveConfig.ErrorMonitor.key:s,r=1==n.HiveConfig.ErrorMonitor.enabledRUM,a=1==n.HiveConfig.ErrorMonitor.enableKeyCombination,h=1==n.HiveConfig.ErrorMonitor.enabledErrorFilter;h&&(e=this.So()),atatus&&(void 0==n.HiveConfig.ErrorMonitor.enabled&&c||void 0!=n.HiveConfig.ErrorMonitor.enabled&&1==n.HiveConfig.ErrorMonitor.enabled)&&(atatus.config(i,{enableSourcemap:!0,disableRUM:!r,version:o.version,beforeErrorSend:function(t){var i=!1;if(t&&t.customData&&"undefined"!=typeof t.customData.forceSend&&(i=t.customData.forceSend,delete t.customData.forceSend,0===Object.keys(t.customData).length&&(t.customData=null)),!h||i)return!0;if(!e)return!1;try{var r=!1;if(t.backTraces){for(var n=0,o=t.backTraces;n<o.length;n++){var s=o[n],a=s.f.indexOf(e)>-1;if(a&&s.ln>5){r=!0;break}}r&&(t.name=t.name.replace(/%s \[[0-9]{2}:[0-9]{2}:[0-9]{2}:[0-9]+] /,""),t.name.indexOf("Status Code Error:")>=0&&(t.tags=["Plugin Error Code",t.name.split(":")[1].trim()]))}return r}catch(c){return!1}}}).install(),a&&this.bo(),this.at=!0,window.console&&console.log("[HiveComm] Error Monitor installed [RUM:"+r+", KeyHandler:"+a+"]"),h&&!e&&this.Eo("Could not extract error filter"))}return t.Hi=function(){return void 0===this.Fi&&(this.Fi=new t),this.Fi},t.prototype.bo=function(){r.Ro.Hi().Io([16,17,88],function(){try{throw new Error("Upload console logs")}catch(t){atatus.notify(t),window.console&&console.log("[HiveComm] console log uploaded for debugging")}})},t.prototype.So=function(){try{throw new Error("test")}catch(t){var e=t.stack.match(/(\/\/.*\.js)/i);if(e&&e.length>0)return e[0]}},t.prototype.setUser=function(t){atatus&&this.at&&atatus.setUser(t)},t.prototype.ko=function(t){this.m=t},t.prototype.setCustomData=function(t){atatus&&this.at&&atatus.setCustomData(t)},t.prototype.Eo=function(t,e){if(this.m&&this.m.warn(t),atatus&&this.at)try{throw new Error(t)}catch(i){e||(e={}),e.forceSend=!0,atatus.notify(i,e)}},t.prototype.setTags=function(t){atatus&&this.at&&atatus.setTags(t)},t.prototype.notify=function(t,e){atatus&&this.at&&(e||(e={}),e.forceSend=!0,atatus.notify(t,e))},t}();e.ErrorMonitor=h},function(t,e){"use strict";var i=function(){function t(){}return t.Co="127.0.0.1",t.li=8999,t.ui=8998,t.pi=8899,t.ci=8898,t.Oo="//{0}:{1}/?callback={2}{3}hivePluginId={4}",t.di=!0,t.Po=/((http|https):\/\/(.*):([0-9]*)\/([0-9a-z-]*).ism\/)(.*)/,t.Ao="2013.1.1",t}();e.hi=i},function(t,e,i){"use strict";var r=i(20),n=i(21),o=i(34),s=o.No,a=o.xo,c=function(){function t(){this.SourceURLParams={}}return t.prototype._o=function(t){for(var e in t)if("SourceURLParams"===e)for(var i in t[e])this[e][i]=t[e][i];else this[e]=t[e];this.Bo()},t.prototype.Fo=function(){var t="b6614c3e4cd1d14eed6b39ef2bf6b9a3e3d6dfcd26699d7270d887923bcbf83efb3dadb717c0bafb1d48dce361eb369b7cc46e57405ebfbdd86c3175532fe56cc77f473d345b2cb6feafb5ab0e24f364a3d259f27e4a2fd97468265bddfd3ddd3ac64251db650ca0280af2b2c45e8b1c8f040f2c433ac0a157d2b3fd91517253",e="010001",i=this.ContentId+this.SiteId+this.CROId+this.SourceURL,r=new s;r.Do(t,e);var n=a(this.Signature);return r.Ho(i,n)},t.prototype.jo=function(t){this.ticketUrl=t;var e=r.parse(t),i=e.path.split("/").slice(3);if(this.SiteId=i[0],this.CROId=i[1],this.ContentId=i[2],this.Lo=i[3],e.yi)try{var n=e.yi.split("&");for(var o in n){var s=n[o].split(/=(.+)/);this.SourceURLParams[s[0]]=s[1]}}catch(a){}this.Mo=t.indexOf("api-test")>-1},t.prototype.un=function(){return this.SiteId},t.prototype.ln=function(){return this.CROId},t.prototype.Uo=function(){return this.ContentId},t.prototype.Vo=function(){return this.Lo},t.prototype.Qo=function(){return this.SourceURL},t.prototype.qo=function(){if(this.Jo=this.SourceURL,void 0!=this.SourceURLParams){var t=new Array;for(var e in this.SourceURLParams)t.push(e+"="+this.SourceURLParams[e]);t.length>0&&this.Jo&&(this.Jo+=(this.Jo.indexOf("?")>0?"&":"?")+t.join("&"))}},t.prototype.Bo=function(){this.sessionId=n.Ko()},t.prototype.Go=function(){return this.Jo||this.qo(),this.Jo},t.prototype.yn=function(){return"["+this.SiteId+"/"+this.CROId+"/"+this.ContentId+"]"},t.prototype.zo=function(){return[this.SiteId,this.CROId,this.ContentId]},t.prototype.Wo=function(){return this.SourceURL+"-["+this.SiteId+"/"+this.CROId+"/"+this.ContentId+"]"},t.prototype.toString=function(){return this.yn()},t.$o="^https?://api(?:-test)?.hivestreaming.com/v1/events/(?:wildcard/)?",t.Yo="CROId",t.Xo="SiteId",t.Zo="ContentId",t}();e.es=c},function(t,e,i){var r,r;!function(e){t.t=e()}(function(){return function t(e,i,n){function o(a,c){if(!i[a]){if(!e[a]){var h="function"==typeof r&&r;if(!c&&h)return r(a,!0);if(s)return s(a,!0);var p=new Error("Cannot find module '"+a+"'");throw p.code="MODULE_NOT_FOUND",p}var u=i[a]={t:{}};e[a][0].call(u.t,function(t){var i=e[a][1][t];return o(i?i:t)},u,u.t,t,e,i,n)}return i[a].t}for(var s="function"==typeof r&&r,a=0;a<n.length;a++)o(n[a]);return o}({1:[function(t,e,i){var r=t("./kernel");i.Fe=r.Fe;var n=t("./type_binding");i.rs=n.rs;var o=t("./type_binding_scope");i.ns=o.ns},{"./kernel":2,"./type_binding":4,"./type_binding_scope":5}],2:[function(t,e,i){var r=t("./type_binding_scope"),n=t("./lookup"),o=function(){function t(){this.ss=new n.as}return t.prototype.bind=function(t){this.ss.add(t.cs,t)},t.prototype.hs=function(t){try{this.ss.remove(t)}catch(e){throw new Error("Could not resolve service "+t)}},t.prototype.Ie=function(){this.ss=new n.as},t.prototype.resolve=function(t){var e;if(!this.ss.ps(t))return null;e=this.ss.get(t);var i=e[0];if(i.scope===r.ns.us&&null!==i.ls)return i.ls;var n=this.ds(i.fs);return i.ls=n,n},t.prototype.vs=function(t){var e,i,r,n,o,s;return o=/((\/\/.*$)|(\/\*[\s\S]*?\*\/))/gm,s=/([^\s,]+)/g,e=t.toString().replace(o,""),i=e.indexOf("(")+1,r=e.indexOf(")"),n="function"==typeof Map&&-1!==e.indexOf("class")&&-1===e.indexOf("constructor")?null:e.slice(i,r).match(s),null===n&&(n=[]),n},t.prototype.ds=function(t){var e=this.vs(t);if(0===e.length)return new t;for(var i=[],r=null,n=0;n<e.length;n++){var o=e[n];r=this.resolve(o),i.push(r)}return this.gs(t,i)},t.prototype.gs=function(t,e){return new(Function.prototype.bind.apply(t,[null].concat(e)))},t}();i.Fe=o},{"./lookup":3,"./type_binding_scope":5}],3:[function(t,e,i){var r=function(){function t(t,e){this.key=t,this.value=new Array,this.value.push(e)}return t}(),n=function(){function t(){this.ys=new Array}return t.prototype.ms=function(t){for(var e=-1,i=0;i<this.ys.length;i++){var r=this.ys[i];r.key===t&&(e=i)}return e},t.prototype.add=function(t,e){if(null===t||void 0===t)throw new Error("Argument Null");if(null===e||void 0===e)throw new Error("Argument Null");var i=this.ms(t);if(-1!==i){var n=this.ys[i];n.key===t&&n.value.push(e)}else this.ys.push(new r(t,e))},t.prototype.get=function(t){if(null===t||void 0===t)throw new Error("Argument Null");var e=this.ms(t);if(-1===e)throw new Error("Key Not Found");var i=this.ys[e];return i.key===t?i.value:void 0},t.prototype.remove=function(t){if(null===t||void 0===t)throw new Error("Argument Null");var e=this.ms(t);if(-1===e)throw new Error("Key Not Found");this.ys.splice(e,1)},t.prototype.ps=function(t){if(null===t||void 0===t)throw new Error("Argument Null");var e=this.ms(t);return-1!==e},t}();i.as=n},{}],4:[function(t,e,i){var r=t("./type_binding_scope"),n=function(){function t(t,e,i){if(this.cs=t,this.fs=e,this.ls=null,"undefined"==typeof i)this.scope=r.ns.ws;else{if(!r.ns[i]){var n="Invalid scope type "+i;throw new Error(n)}this.scope=i}}return t}();i.rs=n},{"./type_binding_scope":5}],5:[function(t,e,i){var r;!function(t){t[t.ws=0]="Transient",t[t.us=1]="Singleton"}(r||(r={})),i.ns=r},{}]},{},[1])(1)})},function(module,exports,__webpack_require__){var Thrift={Ts:"0.9.2",Ss:{bs:0,Es:1,BOOL:2,BYTE:3,Is:3,Rs:4,ks:6,Cs:8,Os:10,Ps:11,As:11,Ns:12,xs:13,_s:14,Bs:15,Fs:16,Ds:17},Hs:{js:1,Ls:2,Ms:3,Us:4},Vs:function(t){var e=0;for(var i in t)t.hasOwnProperty(i)&&e++;return e},Qs:function(t,e,i){function r(){}r.prototype=e.prototype,t.prototype=new r,t.prototype.name=i||""}};Thrift.qs=function(t){this.message=t},Thrift.Qs(Thrift.qs,Error,"TException"),Thrift.qs.prototype.Js=function(){return this.message},Thrift.Ks={Gs:0,zs:1,Ws:2,$s:3,Ys:4,Xs:5,Zs:6,ta:7,ea:8,ia:9,ra:10},Thrift.na=function(t,e){this.message=t,this.code="number"==typeof e?e:0},Thrift.Qs(Thrift.na,Thrift.qs,"TApplicationException"),Thrift.na.prototype.read=function(t){for(;;){var e=t.oa();if(e.sa==Thrift.Ss.bs)break;var i=e.aa;switch(i){case 1:e.sa==Thrift.Ss.Ps?(e=t.ca(),this.message=e.value):e=t.ha(e.sa);break;case 2:e.sa==Thrift.Ss.Cs?(e=t.pa(),this.code=e.value):e=t.ha(e.sa);break;default:e=t.ha(e.sa)}t.ua()}t.la()},Thrift.na.prototype.write=function(t){t.da("TApplicationException"),this.message&&(t.fa("message",Thrift.Ss.Ps,1),t.va(this.Js()),t.ga()),this.code&&(t.fa("type",Thrift.Ss.Cs,2),t.ya(this.code),t.ga()),t.ma(),t.wa()},Thrift.na.prototype.Ta=function(){return this.code},Thrift.Sa=Thrift.ba=function(t,e){this.url=t,this.Ea=0,this.Ia=0,this.Ra=e&&e.Ra,this.ka="",this.Ca=""},Thrift.ba.prototype={Oa:function(){try{return new XMLHttpRequest}catch(t){}try{return new ActiveXObject("Msxml2.XMLHTTP")}catch(e){}try{return new ActiveXObject("Microsoft.XMLHTTP")}catch(i){}throw"Your browser doesn't support XHR."},flush:function(t,e){var i=this;if(t&&!e||void 0===this.url||""===this.url)return this.ka;var r=this.Oa();if(r.overrideMimeType&&r.overrideMimeType("application/json"),e&&(r.onreadystatechange=function(){var t=e;return function(){4==this.readyState&&200==this.status&&(i.Pa(this.responseText),t())}}()),r.open("POST",this.url,!!t),r.send(this.ka),!t||!e){if(4!=r.readyState)throw"encountered an unknown ajax ready state: "+r.readyState;if(200!=r.status)throw"encountered a unknown request status: "+r.status;this.Ca=r.responseText,this.Aa=this.Ca.length,this.Ea=this.Ca.length,this.Ia=0}},Na:function(t,e,i,r){if("undefined"==typeof jQuery||"undefined"==typeof jQuery.Deferred)throw"Thrift.js requires jQuery 1.5+ to use asynchronous requests";var n=this,o=jQuery.ajax({url:this.url,data:e,type:"POST",ls:!1,contentType:"application/json",xa:"text thrift",_a:{Ba:function(e){n.Pa(e);var i=r.call(t);return i}},context:t,success:jQuery.makeArray(i).pop()});return o},Pa:function(t){this.Ca=t,this.Aa=this.Ca.length,this.Ea=this.Ca.length,this.Ia=0},isOpen:function(){return!0},open:function(){},close:function(){},read:function(t){var e=this.Ea-this.Ia;if(0===e)return"";var i=t;e<t&&(i=e);var r=this.read_buf.substr(this.Ia,i);return this.Ia+=i,r},Fa:function(){return this.Ca},write:function(t){this.ka=t},Da:function(){return this.ka}},Thrift.Ha=function(t){this.ja(t)},Thrift.Ha.prototype={ja:function(t){this.url=t,this.La=null,this.callbacks=[],this.Ma=[],this.ka="",this.Ca="",this.Ua=0,this.Va=0},flush:function(t,e){var i=this;this.isOpen()?(this.La.send(this.ka),this.callbacks.push(function(){var t=e;return function(e){i.Pa(e),t()}}())):this.Ma.push({Qa:this.ka,qa:e})},Ja:function(){var t=this;this.Ma.length>0&&(this.Ma.forEach(function(e){this.La.send(e.Qa),this.callbacks.push(function(){var i=e.qa;return function(e){t.Pa(e),i()}}())}),this.Ma=[])},Ka:function(t){this.ja(this.url)},Ga:function(t){this.callbacks.length&&this.callbacks.shift()(t.data)},za:function(t){console.log("Thrift WebSocket Error: "+t.toString()),this.La.close()},Pa:function(t){this.Ca=t,this.Aa=this.Ca.length,this.Ea=this.Ca.length,this.Ia=0},isOpen:function(){return this.La&&this.La.readyState==this.La.OPEN},open:function(){this.La&&this.La.readyState!=this.La.CLOSED||(this.La=new WebSocket(this.url),this.La.onopen=this.Ja.bind(this),this.La.onmessage=this.Ga.bind(this),this.La.onerror=this.za.bind(this),this.La.onclose=this.Ka.bind(this))},close:function(){this.La.close()},read:function(t){var e=this.Ea-this.Ia;if(0===e)return"";var i=t;e<t&&(i=e);var r=this.read_buf.substr(this.Ia,i);return this.Ia+=i,r},Fa:function(){return this.Ca},write:function(t){this.ka=t},Da:function(){return this.ka}},Thrift.Wa=Thrift.$a=function(t){this.Ya=t},Thrift.$a.Ss={},Thrift.$a.Ss[Thrift.Ss.BOOL]='"tf"',Thrift.$a.Ss[Thrift.Ss.BYTE]='"i8"',Thrift.$a.Ss[Thrift.Ss.ks]='"i16"',Thrift.$a.Ss[Thrift.Ss.Cs]='"i32"',Thrift.$a.Ss[Thrift.Ss.Os]='"i64"',Thrift.$a.Ss[Thrift.Ss.Rs]='"dbl"',Thrift.$a.Ss[Thrift.Ss.Ns]='"rec"',Thrift.$a.Ss[Thrift.Ss.Ps]='"str"',Thrift.$a.Ss[Thrift.Ss.xs]='"map"',Thrift.$a.Ss[Thrift.Ss.Bs]='"lst"',Thrift.$a.Ss[Thrift.Ss._s]='"set"',Thrift.$a.Xa={},Thrift.$a.Xa.Za=Thrift.Ss.BOOL,Thrift.$a.Xa.tc=Thrift.Ss.BYTE,Thrift.$a.Xa.ec=Thrift.Ss.ks,Thrift.$a.Xa.ic=Thrift.Ss.Cs,Thrift.$a.Xa.rc=Thrift.Ss.Os,Thrift.$a.Xa.nc=Thrift.Ss.Rs,Thrift.$a.Xa.oc=Thrift.Ss.Ns,Thrift.$a.Xa.sc=Thrift.Ss.Ps,Thrift.$a.Xa.map=Thrift.Ss.xs,Thrift.$a.Xa.ac=Thrift.Ss.Bs,Thrift.$a.Xa.set=Thrift.Ss._s,Thrift.$a.Ts=1,Thrift.$a.prototype={cc:function(){return this.Ya},hc:function(t,e,i){this.pc=[],this.uc=[],this.pc.push([Thrift.$a.Ts,'"'+t+'"',e,i])},lc:function(){var t=this.pc.pop();this.dc=this.pc.pop(),this.dc.push(t),this.fc="["+this.dc.join(",")+"]",this.Ya.write(this.fc)},da:function(t){this.uc.push(this.pc.length),this.pc.push({})},wa:function(){var t=this.uc.pop(),e=this.pc[t],i="{",r=!0;for(var n in e)r?r=!1:i+=",",i+=n+":"+e[n];i+="}",this.pc[t]=i},fa:function(t,e,i){this.uc.push(this.pc.length),this.pc.push({vc:'"'+i+'"',gc:Thrift.$a.Ss[e]})},ga:function(){var t=this.pc.pop(),e=this.pc.pop();this.pc[this.pc.length-1][e.vc]="{"+e.gc+":"+t+"}",this.uc.pop()},ma:function(){},yc:function(t,e,i){this.uc.push(this.pc.length),this.pc.push([Thrift.$a.Ss[t],Thrift.$a.Ss[e],0])},mc:function(){var t=this.uc.pop();if(t!=this.pc.length){(this.pc.length-t-1)%2!==0&&this.pc.push("");var e=(this.pc.length-t-1)/2;this.pc[t][this.pc[t].length-1]=e;for(var i="}",r=!0;this.pc.length>t+1;){var n=this.pc.pop(),o=this.pc.pop();r?r=!1:i=","+i,isNaN(o)||(o='"'+o+'"'),i=o+":"+n+i}i="{"+i,this.pc[t].push(i),this.pc[t]="["+this.pc[t].join(",")+"]"}},wc:function(t,e){this.uc.push(this.pc.length),this.pc.push([Thrift.$a.Ss[t],e])},Tc:function(){for(var t=this.uc.pop();this.pc.length>t+1;){var e=this.pc[t+1];this.pc.splice(t+1,1),this.pc[t].push(e)}this.pc[t]="["+this.pc[t].join(",")+"]"},Sc:function(t,e){this.uc.push(this.pc.length),this.pc.push([Thrift.$a.Ss[t],e])},bc:function(){for(var t=this.uc.pop();this.pc.length>t+1;){var e=this.pc[t+1];this.pc.splice(t+1,1),this.pc[t].push(e)}this.pc[t]="["+this.pc[t].join(",")+"]"},Ec:function(t){this.pc.push(t?1:0)},Ic:function(t){this.pc.push(t)},Rc:function(t){this.pc.push(t)},ya:function(t){this.pc.push(t)},kc:function(t){this.pc.push(t)},Cc:function(t){this.pc.push(t)},va:function(t){if(null===t)this.pc.push(null);else{for(var e="",i=0;i<t.length;i++){var r=t.charAt(i);e+='"'===r?'\\"':"\\"===r?"\\\\":"\b"===r?"\\b":"\f"===r?"\\f":"\n"===r?"\\n":"\r"===r?"\\r":"\t"===r?"\\t":r}this.pc.push('"'+e+'"')}},Oc:function(t){this.va(t)},Pc:function(){this.Ac=[],this.Ia=[],"undefined"!=typeof JSON&&"function"==typeof JSON.parse?this.Nc=JSON.parse(this.Ya.Fa()):"undefined"!=typeof jQuery?this.Nc=jQuery.parseJSON(this.Ya.Fa()):this.Nc=eval(this.Ya.Fa());var r={},version=this.Nc.shift();if(version!=Thrift.$a.Ts)throw"Wrong thrift protocol version: "+version;return r.xc=this.Nc.shift(),r._c=this.Nc.shift(),r.Bc=this.Nc.shift(),this.Ac.push(this.Nc.shift()),r},Fc:function(){},Dc:function(t){var e={};return e.xc="",this.Ac[this.Ac.length-1]instanceof Array&&this.Ac.push(this.Ac[this.Ac.length-1].shift()),e},la:function(){this.Ac[this.Ac.length-2]instanceof Array&&this.Ac.pop()},oa:function(){var t={},e=-1,i=Thrift.Ss.bs;for(var r in this.Ac[this.Ac.length-1])if(null!==r){e=parseInt(r,10),this.Ia.push(this.Ac.length);var n=this.Ac[this.Ac.length-1][e];delete this.Ac[this.Ac.length-1][e],this.Ac.push(n);break}if(e!=-1)for(var o in this.Ac[this.Ac.length-1])null!==Thrift.$a.Xa[o]&&(i=Thrift.$a.Xa[o],this.Ac[this.Ac.length-1]=this.Ac[this.Ac.length-1][o]);return t.xc="",t.sa=i,t.aa=e,t},ua:function(){for(var t=this.Ia.pop();this.Ac.length>t;)this.Ac.pop()},Hc:function(){var t=this.Ac.pop(),e=t.shift();e instanceof Array&&(this.Ac.push(t),t=e,e=t.shift());var i={};return i.jc=Thrift.$a.Xa[e],i.Lc=Thrift.$a.Xa[t.shift()],i.size=t.shift(),this.Ia.push(this.Ac.length),this.Ac.push(t.shift()),i},Mc:function(){this.ua()},Uc:function(){var t=this.Ac[this.Ac.length-1],e={};return e.Vc=Thrift.$a.Xa[t.shift()],e.size=t.shift(),this.Ia.push(this.Ac.length),this.Ac.push(t),e},Qc:function(){this.ua()},qc:function(t,e){return this.Uc(t,e)},Jc:function(){return this.Qc()},Kc:function(){var t=this.pa();return null!==t&&"1"==t.value?t.value=!0:t.value=!1,t},Gc:function(){return this.pa()},zc:function(){return this.pa()},pa:function(t){void 0===t&&(t=this.Ac[this.Ac.length-1]);var e={};if(t instanceof Array)0===t.length?e.value=void 0:e.value=t.shift();else if(t instanceof Object){for(var i in t)if(null!==i){this.Ac.push(t[i]),delete t[i],e.value=i;break}}else e.value=t,this.Ac.pop();return e},Wc:function(){return this.pa()},$c:function(){return this.pa()},ca:function(){var t=this.pa();return t},Yc:function(){return this.ca()},ha:function(t){var e,i;switch(t){case Thrift.Ss.bs:return null;case Thrift.Ss.BOOL:return this.Kc();case Thrift.Ss.BYTE:return this.Gc();case Thrift.Ss.ks:return this.zc();case Thrift.Ss.Cs:return this.pa();case Thrift.Ss.Os:return this.Wc();case Thrift.Ss.Rs:return this.$c();case Thrift.Ss.Ps:return this.ca();case Thrift.Ss.Ns:for(this.Dc();;){if(e=this.oa(),e.sa==Thrift.Ss.bs)break;this.ha(e.sa),this.ua()}return this.la(),null;case Thrift.Ss.xs:for(e=this.Hc(),i=0;i<e.size;i++)i>0&&this.Ac.length>this.Ia[this.Ia.length-1]+1&&this.Ac.pop(),this.ha(e.jc),this.ha(e.Lc);return this.Mc(),null;case Thrift.Ss._s:for(e=this.qc(),i=0;i<e.size;i++)this.ha(e.Vc);return this.Jc(),null;case Thrift.Ss.Bs:for(e=this.Uc(),i=0;i<e.size;i++)this.ha(e.Vc);return this.Qc(),null}}},Thrift.Xc=function(t,e,i,r){Thrift.$a.call(this,e,i,r),this.Zc=t},Thrift.Qs(Thrift.Xc,Thrift.$a,"multiplexProtocol"),Thrift.Xc.prototype.hc=function(t,e,i){e===Thrift.Hs.js||e===Thrift.Hs.Us?Thrift.$a.prototype.hc.call(this,this.Zc+":"+t,e,i):Thrift.$a.prototype.hc.call(this,t,e,i)},Thrift.th=function(){this.eh=0},Thrift.th.prototype.ih=function(t,e,i){e.An&&(e=e.An);var r=this;e.prototype.rh=function(){return r.eh+=1,r.eh};var n=new e(new Thrift.Xc(t,i));return n},module.t=Thrift},function(t,e){"use strict";var i;!function(t){var e=function(){function t(){}return t.LoggerTimestamp=!0,t}();t.Framework=e}(i=e.HiveConfig||(e.HiveConfig={})),"undefined"!=typeof window&&("undefined"==typeof window.HiveConfig&&(window.HiveConfig={}),window.HiveConfig.Framework=i.Framework)},function(t,e,i){var r;!function(n,o){"use strict";var s="0.7.12",a="",c="?",h="function",p="undefined",u="object",l="string",d="major",f="model",v="name",g="type",y="vendor",m="version",w="architecture",T="console",S="mobile",b="tablet",E="smarttv",I="wearable",R="embedded",k={extend:function(t,e){var i={};for(var r in t)e[r]&&e[r].length%2===0?i[r]=e[r].concat(t[r]):i[r]=t[r];return i},has:function(t,e){return"string"==typeof t&&e.toLowerCase().indexOf(t.toLowerCase())!==-1},nh:function(t){return t.toLowerCase()},oh:function(t){return typeof t===l?t.replace(/[^\d\.]/g,"").split(".")[0]:o},trim:function(t){return t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}},C={sh:function(){for(var t,e,i,r,n,s,a,c=0,l=arguments;c<l.length&&!s;){var d=l[c],f=l[c+1];if(typeof t===p){t={};for(r in f)f.hasOwnProperty(r)&&(n=f[r],typeof n===u?t[n[0]]=o:t[n]=o)}for(e=i=0;e<d.length&&!s;)if(s=d[e++].exec(this.ah()))for(r=0;r<f.length;r++)a=s[++i],n=f[r],typeof n===u&&n.length>0?2==n.length?typeof n[1]==h?t[n[0]]=n[1].call(this,a):t[n[0]]=n[1]:3==n.length?typeof n[1]!==h||n[1].exec&&n[1].test?t[n[0]]=a?a.replace(n[1],n[2]):o:t[n[0]]=a?n[1].call(this,a,n[2]):o:4==n.length&&(t[n[0]]=a?n[3].call(this,a.replace(n[1],n[2])):o):t[n]=a?a:o;c+=2}return t},sc:function(t,e){for(var i in e)if(typeof e[i]===u&&e[i].length>0){for(var r=0;r<e[i].length;r++)if(k.has(e[i][r],t))return i===c?o:i}else if(k.has(e[i],t))return i===c?o:i;return t}},O={ti:{hh:{version:{"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419",ph:"/"}}},uh:{lh:{dh:{fh:["SD","KF"]}},vh:{dh:{gh:"7373KT"},vendor:{yh:"APA",mh:"Sprint"}}},os:{wh:{version:{Th:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2000:"NT 5.0",Sh:["NT 5.1","NT 5.2"],bh:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],Eh:"ARM"}}}},P={ti:[[/(opera\smini)\/([\w\.-]+)/i,/(opera\s[mobiletab]+).+version\/([\w\.-]+)/i,/(opera).+version\/([\w\.]+)/i,/(opera)[\/\s]+([\w\.]+)/i],[v,m],[/(opios)[\/\s]+([\w\.]+)/i],[[v,"Opera Mini"],m],[/\s(opr)\/([\w\.]+)/i],[[v,"Opera"],m],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/\s]?([\w\.]+)*/i,/(avant\s|iemobile|slim|baidu)(?:browser)?[\/\s]?([\w\.]*)/i,/(?:ms|\()(ie)\s([\w\.]+)/i,/(rekonq)\/([\w\.]+)*/i,/(chromium|flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs)\/([\w\.-]+)/i],[v,m],[/(trident).+rv[:\s]([\w\.]+).+like\sgecko/i],[[v,"IE"],m],[/(edge)\/((\d+)?[\w\.]+)/i],[v,m],[/(yabrowser)\/([\w\.]+)/i],[[v,"Yandex"],m],[/(comodo_dragon)\/([\w\.]+)/i],[[v,/_/g," "],m],[/(micromessenger)\/([\w\.]+)/i],[[v,"WeChat"],m],[/xiaomi\/miuibrowser\/([\w\.]+)/i],[m,[v,"MIUI Browser"]],[/\swv\).+(chrome)\/([\w\.]+)/i],[[v,/(.+)/,"$1 WebView"],m],[/android.+samsungbrowser\/([\w\.]+)/i,/android.+version\/([\w\.]+)\s+(?:mobile\s?safari|safari)*/i],[m,[v,"Android Browser"]],[/(chrome|omniweb|arora|[tizenoka]{5}\s?browser)\/v?([\w\.]+)/i,/(qqbrowser)[\/\s]?([\w\.]+)/i],[v,m],[/(uc\s?browser)[\/\s]?([\w\.]+)/i,/ucweb.+(ucbrowser)[\/\s]?([\w\.]+)/i,/juc.+(ucweb)[\/\s]?([\w\.]+)/i],[[v,"UCBrowser"],m],[/(dolfin)\/([\w\.]+)/i],[[v,"Dolphin"],m],[/((?:android.+)crmo|crios)\/([\w\.]+)/i],[[v,"Chrome"],m],[/;fbav\/([\w\.]+);/i],[m,[v,"Facebook"]],[/fxios\/([\w\.-]+)/i],[m,[v,"Firefox"]],[/version\/([\w\.]+).+?mobile\/\w+\s(safari)/i],[m,[v,"Mobile Safari"]],[/version\/([\w\.]+).+?(mobile\s?safari|safari)/i],[m,v],[/webkit.+?(mobile\s?safari|safari)(\/[\w\.]+)/i],[v,[m,C.sc,O.ti.hh.version]],[/(konqueror)\/([\w\.]+)/i,/(webkit|khtml)\/([\w\.]+)/i],[v,m],[/(navigator|netscape)\/([\w\.-]+)/i],[[v,"Netscape"],m],[/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo\sbrowser|minimo|conkeror)[\/\s]?([\w\.\+]+)/i,/(firefox|seamonkey|k-meleon|icecat|iceape|firebird|phoenix)\/([\w\.-]+)/i,/(mozilla)\/([\w\.]+).+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir)[\/\s]?([\w\.]+)/i,/(links)\s\(([\w\.]+)/i,/(gobrowser)\/?([\w\.]+)*/i,/(ice\s?browser)\/v?([\w\._]+)/i,/(mosaic)[\/\s]([\w\.]+)/i],[v,m]],Ih:[[/(?:(amd|x(?:(?:86|64)[_-])?|wow|win)64)[;\)]/i],[[w,"amd64"]],[/(ia32(?=;))/i],[[w,k.nh]],[/((?:i[346]|x)86)[;\)]/i],[[w,"ia32"]],[/windows\s(ce|mobile);\sppc;/i],[[w,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?:\smac|;|\))/i],[[w,/ower/,"",k.nh]],[/(sun4\w)[;\)]/i],[[w,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|arm(?:64|(?=v\d+;))|(?=atmel\s)avr|(?:irix|mips|sparc)(?:64)?(?=;)|pa-risc)/i],[[w,k.nh]]],uh:[[/\((ipad|playbook);[\w\s\);-]+(rim|apple)/i],[f,y,[g,b]],[/applecoremedia\/[\w\.]+ \((ipad)/],[f,[y,"Apple"],[g,b]],[/(apple\s{0,1}tv)/i],[[f,"Apple TV"],[y,"Apple"]],[/(archos)\s(gamepad2?)/i,/(hp).+(touchpad)/i,/(hp).+(tablet)/i,/(kindle)\/([\w\.]+)/i,/\s(nook)[\w\s]+build\/(\w+)/i,/(dell)\s(strea[kpr\s\d]*[\dko])/i],[y,f,[g,b]],[/(kf[A-z]+)\sbuild\/[\w\.]+.*silk\//i],[f,[y,"Amazon"],[g,b]],[/(sd|kf)[0349hijorstuw]+\sbuild\/[\w\.]+.*silk\//i],[[f,C.sc,O.uh.lh.dh],[y,"Amazon"],[g,S]],[/\((ip[honed|\s\w*]+);.+(apple)/i],[f,y,[g,S]],[/\((ip[honed|\s\w*]+);/i],[f,[y,"Apple"],[g,S]],[/(blackberry)[\s-]?(\w+)/i,/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|huawei|meizu|motorola|polytron)[\s_-]?([\w-]+)*/i,/(hp)\s([\w\s]+\w)/i,/(asus)-?(\w+)/i],[y,f,[g,S]],[/\(bb10;\s(\w+)/i],[f,[y,"BlackBerry"],[g,S]],[/android.+(transfo[prime\s]{4,10}\s\w+|eeepc|slider\s\w+|nexus 7|padfone)/i],[f,[y,"Asus"],[g,b]],[/(sony)\s(tablet\s[ps])\sbuild\//i,/(sony)?(?:sgp.+)\sbuild\//i],[[y,"Sony"],[f,"Xperia Tablet"],[g,b]],[/(?:sony)?(?:(?:(?:c|d)\d{4})|(?:so[-l].+))\sbuild\//i],[[y,"Sony"],[f,"Xperia Phone"],[g,S]],[/\s(ouya)\s/i,/(nintendo)\s([wids3u]+)/i],[y,f,[g,T]],[/android.+;\s(shield)\sbuild/i],[f,[y,"Nvidia"],[g,T]],[/(playstation\s[34portablevi]+)/i],[f,[y,"Sony"],[g,T]],[/(sprint\s(\w+))/i],[[y,C.sc,O.uh.vh.vendor],[f,C.sc,O.uh.vh.dh],[g,S]],[/(lenovo)\s?(S(?:5000|6000)+(?:[-][\w+]))/i],[y,f,[g,b]],[/(htc)[;_\s-]+([\w\s]+(?=\))|\w+)*/i,/(zte)-(\w+)*/i,/(alcatel|geeksphone|huawei|lenovo|nexian|panasonic|(?=;\s)sony)[_\s-]?([\w-]+)*/i],[y,[f,/_/g," "],[g,S]],[/(nexus\s9)/i],[f,[y,"HTC"],[g,b]],[/(nexus\s6p)/i],[f,[y,"Huawei"],[g,S]],[/(microsoft);\s(lumia[\s\w]+)/i],[y,f,[g,S]],[/[\s\(;](xbox(?:\sone)?)[\s\);]/i],[f,[y,"Microsoft"],[g,T]],[/(kin\.[onetw]{3})/i],[[f,/\./g," "],[y,"Microsoft"],[g,S]],[/\s(milestone|droid(?:[2-4x]|\s(?:bionic|x2|pro|razr))?(:?\s4g)?)[\w\s]+build\//i,/mot[\s-]?(\w+)*/i,/(XT\d{3,4}) build\//i,/(nexus\s6)/i],[f,[y,"Motorola"],[g,S]],[/android.+\s(mz60\d|xoom[\s2]{0,2})\sbuild\//i],[f,[y,"Motorola"],[g,b]],[/hbbtv\/\d+\.\d+\.\d+\s+\([\w\s]*;\s*(\w[^;]*);([^;]*)/i],[[y,k.trim],[f,k.trim],[g,E]],[/hbbtv.+maple;(\d+)/i],[[f,/^/,"SmartTV"],[y,"Samsung"],[g,E]],[/\(dtv[\);].+(aquos)/i],[f,[y,"Sharp"],[g,E]],[/android.+((sch-i[89]0\d|shw-m380s|gt-p\d{4}|gt-n\d+|sgh-t8[56]9|nexus 10))/i,/((SM-T\w+))/i],[[y,"Samsung"],f,[g,b]],[/smart-tv.+(samsung)/i],[y,[g,E],f],[/((s[cgp]h-\w+|gt-\w+|galaxy\snexus|sm-\w[\w\d]+))/i,/(sam[sung]*)[\s-]*(\w+-?[\w-]*)*/i,/sec-((sgh\w+))/i],[[y,"Samsung"],f,[g,S]],[/sie-(\w+)*/i],[f,[y,"Siemens"],[g,S]],[/(maemo|nokia).*(n900|lumia\s\d+)/i,/(nokia)[\s_-]?([\w-]+)*/i],[[y,"Nokia"],f,[g,S]],[/android\s3\.[\s\w;-]{10}(a\d{3})/i],[f,[y,"Acer"],[g,b]],[/android\s3\.[\s\w;-]{10}(lg?)-([06cv9]{3,4})/i],[[y,"LG"],f,[g,b]],[/(lg) netcast\.tv/i],[y,f,[g,E]],[/(nexus\s[45])/i,/lg[e;\s\/-]+(\w+)*/i],[f,[y,"LG"],[g,S]],[/android.+(ideatab[a-z0-9\-\s]+)/i],[f,[y,"Lenovo"],[g,b]],[/linux;.+((jolla));/i],[y,f,[g,S]],[/((pebble))app\/[\d\.]+\s/i],[y,f,[g,I]],[/android.+;\s(glass)\s\d/i],[f,[y,"Google"],[g,I]],[/android.+(\w+)\s+build\/hm\1/i,/android.+(hm[\s\-_]*note?[\s_]*(?:\d\w)?)\s+build/i,/android.+(mi[\s\-_]*(?:one|one[\s_]plus|note lte)?[\s_]*(?:\d\w)?)\s+build/i],[[f,/_/g," "],[y,"Xiaomi"],[g,S]],[/android.+a000(1)\s+build/i],[f,[y,"OnePlus"],[g,S]],[/\s(tablet)[;\/]/i,/\s(mobile)(?:[;\/]|\ssafari)/i],[[g,k.nh],y,f]],Rh:[[/windows.+\sedge\/([\w\.]+)/i],[m,[v,"EdgeHTML"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m)\/([\w\.]+)/i,/(khtml|tasman|links)[\/\s]\(?([\w\.]+)/i,/(icab)[\/\s]([23]\.[\d\.]+)/i],[v,m],[/rv\:([\w\.]+).*(gecko)/i],[m,v]],os:[[/microsoft\s(windows)\s(vista|xp)/i],[v,m],[/(windows)\snt\s6\.2;\s(arm)/i,/(windows\sphone(?:\sos)*)[\s\/]?([\d\.\s]+\w)*/i,/(windows\smobile|windows)[\s\/]?([ntce\d\.\s]+\w)/i],[v,[m,C.sc,O.os.wh.version]],[/(win(?=3|9|n)|win\s9x\s)([nt\d\.]+)/i],[[v,"Windows"],[m,C.sc,O.os.wh.version]],[/\((bb)(10);/i],[[v,"BlackBerry"],m],[/(blackberry)\w*\/?([\w\.]+)*/i,/(tizen)[\/\s]([\w\.]+)/i,/(android|webos|palm\sos|qnx|bada|rim\stablet\sos|meego|contiki)[\/\s-]?([\w\.]+)*/i,/linux;.+(sailfish);/i],[v,m],[/(symbian\s?os|symbos|s60(?=;))[\/\s-]?([\w\.]+)*/i],[[v,"Symbian"],m],[/\((series40);/i],[v],[/mozilla.+\(mobile;.+gecko.+firefox/i],[[v,"Firefox OS"],m],[/(nintendo|playstation)\s([wids34portablevu]+)/i,/(mint)[\/\s\(]?(\w+)*/i,/(mageia|vectorlinux)[;\s]/i,/(joli|[kxln]?ubuntu|debian|[open]*suse|gentoo|(?=\s)arch|slackware|fedora|mandriva|centos|pclinuxos|redhat|zenwalk|linpus)[\/\s-]?(?!chrom)([\w\.-]+)*/i,/(hurd|linux)\s?([\w\.]+)*/i,/(gnu)\s?([\w\.]+)*/i],[v,m],[/(cros)\s[\w]+\s([\w\.]+\w)/i],[[v,"Chromium OS"],m],[/(sunos)\s?([\w\.]+\d)*/i],[[v,"Solaris"],m],[/\s([frentopc-]{0,4}bsd|dragonfly)\s?([\w\.]+)*/i],[v,m],[/(haiku)\s(\w+)/i],[v,m],[/(ip[honead]+)(?:.*os\s([\w]+)*\slike\smac|;\sopera)/i],[[v,"iOS"],[m,/_/g,"."]],[/(mac\sos\sx)\s?([\w\s\.]+\w)*/i,/(macintosh|mac(?=_powerpc)\s)/i],[[v,"Mac OS"],[m,/_/g,"."]],[/((?:open)?solaris)[\/\s-]?([\w\.]+)*/i,/(aix)\s((\d)(?=\.|\)|\s)[\w\.]*)*/i,/(plan\s9|minix|beos|os\/2|amigaos|morphos|risc\sos|openvms)/i,/(unix)\s?([\w\.]+)*/i],[v,m]]},A=function(t,e){if(!(this instanceof A))return new A(t,e).kh();var i=t||(n&&n.navigator&&n.navigator.userAgent?n.navigator.userAgent:a),r=e?k.extend(P,e):P;return this.Ch=function(){var t=C.sh.apply(this,r.ti);return t.oh=k.oh(t.version),t},this.Oh=function(){return C.sh.apply(this,r.Ih)},this.Ph=function(){return C.sh.apply(this,r.uh)},this.Ah=function(){return C.sh.apply(this,r.Rh)},this.fn=function(){return C.sh.apply(this,r.os)},this.kh=function(){return{Nh:this.ah(),ti:this.Ch(),Rh:this.Ah(),os:this.fn(),uh:this.Ph(),Ih:this.Oh()}},this.ah=function(){return i},this.dn=function(t){return i=t,this},this};A.VERSION=s,A.xh={_h:v,Bh:d,VERSION:m},A.Fh={Dh:w},A.Hh={jh:f,VENDOR:y,Lh:g,Mh:T,Uh:S,Vh:E,Qh:b,qh:I,Jh:R},A.Kh={_h:v,VERSION:m},A.Gh={_h:v,VERSION:m},typeof e!==p?(typeof t!==p&&t.t&&(e=t.t=A),e.zh=A):"function"===h&&i(57)?(r=function(){return A}.call(e,i,e,t),!(r!==o&&(t.t=r))):n.zh=A;var N=n.jQuery||n.Zepto;if(typeof N!==p){var x=new A;N.Nh=x.kh(),N.Nh.get=function(){return x.ah()},N.Nh.set=function(t){
x.dn(t);var e=x.kh();for(var i in e)N.Nh[i]=e[i]}}}("object"==typeof window?window:this)},function(t,e,i){var r,n,o;/*!
	 * URI.js - Mutating URLs
	 *
	 * Version: 1.18.9
	 *
	 * Author: Rodney Rehm
	 * Web: http://medialize.github.io/URI.js/
	 *
	 * Licensed under
	 *   MIT License http://www.opensource.org/licenses/mit-license
	 *
	 */
!function(s,a){"use strict";"object"==typeof t&&t.t?t.t=a(i(4),i(4),i(4)):(n=[i(4),i(4),i(4)],r=a,o="function"==typeof r?r.apply(e,n):r,!(void 0!==o&&(t.t=o)))}(this,function(t,e,i,r){"use strict";function n(t,e){var i=arguments.length>=1,r=arguments.length>=2;if(!(this instanceof n))return i?r?new n(t,e):new n(t):new n;if(void 0===t){if(i)throw new TypeError("undefined is not a valid argument for URI");t="undefined"!=typeof location?location.href+"":""}if(null===t&&i)throw new TypeError("null is not a valid argument for URI");return this.href(t),void 0!==e?this.Wh(e):this}function o(t){return t.replace(/([.*+?^=!:${}()|[\]\/\\])/g,"\\$1")}function s(t){return void 0===t?"Undefined":String(Object.prototype.toString.call(t)).slice(8,-1)}function a(t){return"Array"===s(t)}function c(t,e){var i,r,n={};if("RegExp"===s(e))n=null;else if(a(e))for(i=0,r=e.length;i<r;i++)n[e[i]]=!0;else n[e]=!0;for(i=0,r=t.length;i<r;i++){var o=n&&void 0!==n[t[i]]||!n&&e.test(t[i]);o&&(t.splice(i,1),r--,i--)}return t}function h(t,e){var i,r;if(a(e)){for(i=0,r=e.length;i<r;i++)if(!h(t,e[i]))return!1;return!0}var n=s(e);for(i=0,r=t.length;i<r;i++)if("RegExp"===n){if("string"==typeof t[i]&&t[i].match(e))return!0}else if(t[i]===e)return!0;return!1}function p(t,e){if(!a(t)||!a(e))return!1;if(t.length!==e.length)return!1;t.sort(),e.sort();for(var i=0,r=t.length;i<r;i++)if(t[i]!==e[i])return!1;return!0}function u(t){var e=/^\/+|\/+$/g;return t.replace(e,"")}function l(t){return escape(t)}function d(t){return encodeURIComponent(t).replace(/[!'()*]/g,l).replace(/\*/g,"%2A")}function f(t){return function(e,i){return void 0===e?this.$h[t]||"":(this.$h[t]=e||null,this.Yh(!i),this)}}function v(t,e){return function(i,r){return void 0===i?this.$h[t]||"":(null!==i&&(i+="",i.charAt(0)===e&&(i=i.substring(1))),this.$h[t]=i,this.Yh(!r),this)}}var g=r&&r.Xh;n.version="1.18.9";var y=n.prototype,m=Object.prototype.hasOwnProperty;n.$h=function(){return{protocol:null,username:null,password:null,hostname:null,urn:null,port:null,path:null,yi:null,Zh:null,tp:n.tp,ep:n.ep}},n.tp=!1,n.ep=!0,n.ip=/^[a-z][a-z0-9.+-]*$/i,n.rp=/[^a-z0-9\.-]/i,n.np=/(xn--)/i,n.op=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,n.sp=/^\s*((([0-9A-Fa-f]{1,4}:){7}([0-9A-Fa-f]{1,4}|:))|(([0-9A-Fa-f]{1,4}:){6}(:[0-9A-Fa-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){5}(((:[0-9A-Fa-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){4}(((:[0-9A-Fa-f]{1,4}){1,3})|((:[0-9A-Fa-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){3}(((:[0-9A-Fa-f]{1,4}){1,4})|((:[0-9A-Fa-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){2}(((:[0-9A-Fa-f]{1,4}){1,5})|((:[0-9A-Fa-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){1}(((:[0-9A-Fa-f]{1,4}){1,6})|((:[0-9A-Fa-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9A-Fa-f]{1,4}){1,7})|((:[0-9A-Fa-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(%.+)?\s*$/,n.ap=/\b((?:[a-z][\w-]+:(?:\/{1,3}|[a-z0-9%])|www\d{0,3}[.]|[a-z0-9.\-]+[.][a-z]{2,4}\/)(?:[^\s()<>]+|\(([^\s()<>]+|(\([^\s()<>]+\)))*\))+(?:\(([^\s()<>]+|(\([^\s()<>]+\)))*\)|[^\s`!()\[\]{};:'".,<>?«»“”‘’]))/gi,n.cp={start:/\b(?:([a-z][a-z0-9.+-]*:\/\/)|www\.)/gi,end:/[\s\r\n]|$/,trim:/[`!()\[\]{};:'".,<>?«»“”„‘’]+$/,hp:/(\([^\)]*\)|\[[^\]]*\]|\{[^}]*\}|<[^>]*>)/g},n.pp={up:"80",lp:"443",dp:"21",fp:"70",vp:"80",gp:"443"},n.yp=/[^a-zA-Z0-9\.-]/,n.mp={a:"href",wp:"cite",link:"href",Tp:"href",Sp:"src",form:"action",bp:"src",Ep:"href",Ip:"src",Rp:"src",source:"src",track:"src",input:"src",kp:"src",video:"src"},n.Cp=function(t){if(t&&t.nodeName){var e=t.nodeName.toLowerCase();if("input"!==e||"image"===t.type)return n.mp[e]}},n.encode=d,n.decode=decodeURIComponent,n.Op=function(){n.encode=escape,n.decode=unescape},n.Pp=function(){n.encode=d,n.decode=decodeURIComponent},n.Ap={pathname:{encode:{Np:/%(24|26|2B|2C|3B|3D|3A|40)/gi,map:{xp:"$",_p:"&",Bp:"+",Fp:",",Dp:";",Hp:"=",jp:":",Lp:"@"}},decode:{Np:/[\/\?#]/g,map:{Mp:"%2F",ph:"%3F",Up:"%23"}}},Vp:{encode:{Np:/%(21|23|24|26|27|28|29|2A|2B|2C|2F|3A|3B|3D|3F|40|5B|5D)/gi,map:{jp:":",Qp:"/",qp:"?",Jp:"#",Kp:"[",Gp:"]",Lp:"@",zp:"!",xp:"$",_p:"&",Wp:"'",$p:"(",Yp:")",Xp:"*",Bp:"+",Fp:",",Dp:";",Hp:"="}}},Zp:{encode:{Np:/%(21|24|27|28|29|2A|2B|2C|3B|3D|40)/gi,map:{zp:"!",xp:"$",Wp:"'",$p:"(",Yp:")",Xp:"*",Bp:"+",Fp:",",Dp:";",Hp:"=",Lp:"@"}},decode:{Np:/[\/\?#:]/g,map:{Mp:"%2F",ph:"%3F",Up:"%23",tu:"%3A"}}}},n.eu=function(t,e){var i=n.encode(t+"");return void 0===e&&(e=n.ep),e?i.replace(/%20/g,"+"):i},n.iu=function(t,e){t+="",void 0===e&&(e=n.ep);try{return n.decode(e?t.replace(/\+/g,"%20"):t)}catch(i){return t}};var w,T={encode:"encode",decode:"decode"},S=function(t,e){return function(i){try{return n[e](i+"").replace(n.Ap[t][e].Np,function(i){return n.Ap[t][e].map[i]})}catch(r){return i}}};for(w in T)n[w+"PathSegment"]=S("pathname",T[w]),n[w+"UrnPathSegment"]=S("urnpath",T[w]);var b=function(t,e,i){return function(r){var o;o=i?function(t){return n[e](n[i](t))}:n[e];for(var s=(r+"").split(t),a=0,c=s.length;a<c;a++)s[a]=o(s[a]);return s.join(t)}};n.ru=b("/","decodePathSegment"),n.nu=b(":","decodeUrnPathSegment"),n.ou=b("/","encodePathSegment","decode"),n.su=b(":","encodeUrnPathSegment","decode"),n.au=S("reserved","encode"),n.parse=function(t,e){var i;return e||(e={}),i=t.indexOf("#"),i>-1&&(e.Zh=t.substring(i+1)||null,t=t.substring(0,i)),i=t.indexOf("?"),i>-1&&(e.yi=t.substring(i+1)||null,t=t.substring(0,i)),"//"===t.substring(0,2)?(e.protocol=null,t=t.substring(2),t=n.cu(t,e)):(i=t.indexOf(":"),i>-1&&(e.protocol=t.substring(0,i)||null,e.protocol&&!e.protocol.match(n.ip)?e.protocol=void 0:"//"===t.substring(i+1,i+3)?(t=t.substring(i+3),t=n.cu(t,e)):(t=t.substring(i+1),e.urn=!0))),e.path=t,e},n.hu=function(t,e){t=t.replace(/\\/g,"/");var i,r,n=t.indexOf("/");if(n===-1&&(n=t.length),"["===t.charAt(0))i=t.indexOf("]"),e.hostname=t.substring(1,i)||null,e.port=t.substring(i+2,n)||null,"/"===e.port&&(e.port=null);else{var o=t.indexOf(":"),s=t.indexOf("/"),a=t.indexOf(":",o+1);a!==-1&&(s===-1||a<s)?(e.hostname=t.substring(0,n)||null,e.port=null):(r=t.substring(0,n).split(":"),e.hostname=r[0]||null,e.port=r[1]||null)}return e.hostname&&"/"!==t.substring(n).charAt(0)&&(n++,t="/"+t),t.substring(n)||"/"},n.cu=function(t,e){return t=n.pu(t,e),n.hu(t,e)},n.pu=function(t,e){var i,r=t.indexOf("/"),o=t.lastIndexOf("@",r>-1?r:t.length-1);return o>-1&&(r===-1||o<r)?(i=t.substring(0,o).split(":"),e.username=i[0]?n.decode(i[0]):null,i.shift(),e.password=i[0]?n.decode(i.join(":")):null,t=t.substring(o+1)):(e.username=null,e.password=null),t},n.uu=function(t,e){if(!t)return{};if(t=t.replace(/&+/g,"&").replace(/^\?*&*|&+$/g,""),!t)return{};for(var i,r,o,s={},a=t.split("&"),c=a.length,h=0;h<c;h++)i=a[h].split("="),r=n.iu(i.shift(),e),o=i.length?n.iu(i.join("="),e):null,m.call(s,r)?("string"!=typeof s[r]&&null!==s[r]||(s[r]=[s[r]]),s[r].push(o)):s[r]=o;return s},n.Yh=function(t){var e="";return t.protocol&&(e+=t.protocol+":"),t.urn||!e&&!t.hostname||(e+="//"),e+=n.lu(t)||"","string"==typeof t.path&&("/"!==t.path.charAt(0)&&"string"==typeof t.hostname&&(e+="/"),e+=t.path),"string"==typeof t.yi&&t.yi&&(e+="?"+t.yi),"string"==typeof t.Zh&&t.Zh&&(e+="#"+t.Zh),e},n.du=function(t){var e="";return t.hostname?(e+=n.sp.test(t.hostname)?"["+t.hostname+"]":t.hostname,t.port&&(e+=":"+t.port),e):""},n.lu=function(t){return n.fu(t)+n.du(t)},n.fu=function(t){var e="";return t.username&&(e+=n.encode(t.username)),t.password&&(e+=":"+n.encode(t.password)),e&&(e+="@"),e},n.vu=function(t,e,i){var r,o,s,c,h="";for(o in t)if(m.call(t,o)&&o)if(a(t[o]))for(r={},s=0,c=t[o].length;s<c;s++)void 0!==t[o][s]&&void 0===r[t[o][s]+""]&&(h+="&"+n.gu(o,t[o][s],i),e!==!0&&(r[t[o][s]+""]=!0));else void 0!==t[o]&&(h+="&"+n.gu(o,t[o],i));return h.substring(1)},n.gu=function(t,e,i){return n.eu(t,i)+(null!==e?"="+n.eu(e,i):"")},n.yu=function(t,e,i){if("object"==typeof e)for(var r in e)m.call(e,r)&&n.yu(t,r,e[r]);else{if("string"!=typeof e)throw new TypeError("URI.addQuery() accepts an object, string as the name parameter");if(void 0===t[e])return void(t[e]=i);"string"==typeof t[e]&&(t[e]=[t[e]]),a(i)||(i=[i]),t[e]=(t[e]||[]).concat(i)}},n.mu=function(t,e,i){var r,o,h;if(a(e))for(r=0,o=e.length;r<o;r++)t[e[r]]=void 0;else if("RegExp"===s(e))for(h in t)e.test(h)&&(t[h]=void 0);else if("object"==typeof e)for(h in e)m.call(e,h)&&n.mu(t,h,e[h]);else{if("string"!=typeof e)throw new TypeError("URI.removeQuery() accepts an object, string, RegExp as the first parameter");void 0!==i?"RegExp"===s(i)?!a(t[e])&&i.test(t[e])?t[e]=void 0:t[e]=c(t[e],i):t[e]!==String(i)||a(i)&&1!==i.length?a(t[e])&&(t[e]=c(t[e],i)):t[e]=void 0:t[e]=void 0}},n.wu=function(t,e,i,r){switch(s(e)){case"String":break;case"RegExp":for(var o in t)if(m.call(t,o)&&e.test(o)&&(void 0===i||n.wu(t,o,i)))return!0;return!1;case"Object":for(var c in e)if(m.call(e,c)&&!n.wu(t,c,e[c]))return!1;return!0;default:throw new TypeError("URI.hasQuery() accepts a string, regular expression or object as the name parameter")}switch(s(i)){case"Undefined":return e in t;case"Boolean":var u=Boolean(a(t[e])?t[e].length:t[e]);return i===u;case"Function":return!!i(t[e],e,t);case"Array":if(!a(t[e]))return!1;var l=r?h:p;return l(t[e],i);case"RegExp":return a(t[e])?!!r&&h(t[e],i):Boolean(t[e]&&t[e].match(i));case"Number":i=String(i);case"String":return a(t[e])?!!r&&h(t[e],i):t[e]===i;default:throw new TypeError("URI.hasQuery() accepts undefined, boolean, string, number, RegExp, Function as the value parameter")}},n.Tu=function(){for(var t=[],e=[],i=0,r=0;r<arguments.length;r++){var o=new n(arguments[r]);t.push(o);for(var s=o.Su(),a=0;a<s.length;a++)"string"==typeof s[a]&&e.push(s[a]),s[a]&&i++}if(!e.length||!i)return new n("");var c=new n("").Su(e);return""!==t[0].path()&&"/"!==t[0].path().slice(0,1)||c.path("/"+c.path()),c.normalize()},n.bu=function(t,e){var i,r=Math.min(t.length,e.length);for(i=0;i<r;i++)if(t.charAt(i)!==e.charAt(i)){i--;break}return i<1?t.charAt(0)===e.charAt(0)&&"/"===t.charAt(0)?"/":"":("/"===t.charAt(i)&&"/"===e.charAt(i)||(i=t.substring(0,i).lastIndexOf("/")),t.substring(0,i+1))},n.Eu=function(t,e,i){i||(i={});var r=i.start||n.cp.start,o=i.end||n.cp.end,s=i.trim||n.cp.trim,a=i.hp||n.cp.hp,c=/[a-z0-9-]=["']?$/i;for(r.lastIndex=0;;){var h=r.exec(t);if(!h)break;var p=h.index;if(i.ignoreHtml){var u=t.slice(Math.max(p-3,0),p);if(u&&c.test(u))continue}for(var l=p+t.slice(p).search(o),d=t.slice(p,l),f=-1;;){var v=a.exec(d);if(!v)break;var g=v.index+v[0].length;f=Math.max(f,g)}if(d=f>-1?d.slice(0,f)+d.slice(f).replace(s,""):d.replace(s,""),!(d.length<=h[0].length||i.ignore&&i.ignore.test(d))){l=p+d.length;var y=e(d,p,l,t);void 0!==y?(y=String(y),t=t.slice(0,p)+y+t.slice(l),r.lastIndex=p+y.length):r.lastIndex=l}}return r.lastIndex=0,t},n.Iu=function(e){if(e.match(n.yp)){if(!t)throw new TypeError('Hostname "'+e+'" contains characters other than [A-Z0-9.-] and Punycode.js is not available');if(t.toASCII(e).match(n.yp))throw new TypeError('Hostname "'+e+'" contains characters other than [A-Z0-9.-]')}},n.ge=function(t){if(t){var e={Xh:this.ge()};return r.Ru&&"function"==typeof r.Ru.ge&&(e.Ru=r.Ru.ge()),r.ku&&"function"==typeof r.ku.ge&&(e.ku=r.ku.ge()),r.Cu&&"function"==typeof r.Cu.ge&&(e.Cu=r.Cu.ge()),e}return r.Xh===this&&(r.Xh=g),this},y.Yh=function(t){return t===!0?this.Ou=!0:(void 0===t||this.Ou)&&(this.Pu=n.Yh(this.$h),this.Ou=!1),this},y.clone=function(){return new n(this)},y.valueOf=y.toString=function(){return this.Yh(!1).Pu},y.protocol=f("protocol"),y.username=f("username"),y.password=f("password"),y.hostname=f("hostname"),y.port=f("port"),y.yi=v("query","?"),y.Zh=v("fragment","#"),y.search=function(t,e){var i=this.yi(t,e);return"string"==typeof i&&i.length?"?"+i:i},y.hash=function(t,e){var i=this.Zh(t,e);return"string"==typeof i&&i.length?"#"+i:i},y.pathname=function(t,e){if(void 0===t||t===!0){var i=this.$h.path||(this.$h.hostname?"/":"");return t?(this.$h.urn?n.nu:n.ru)(i):i}return this.$h.urn?this.$h.path=t?n.su(t):"":this.$h.path=t?n.ou(t):"/",this.Yh(!e),this},y.path=y.pathname,y.href=function(t,e){var i;if(void 0===t)return this.toString();this.Pu="",this.$h=n.$h();var r=t instanceof n,o="object"==typeof t&&(t.hostname||t.path||t.pathname);if(t.nodeName){var s=n.Cp(t);t=t[s]||"",o=!1}if(!r&&o&&void 0!==t.pathname&&(t=t.toString()),"string"==typeof t||t instanceof String)this.$h=n.parse(String(t),this.$h);else{if(!r&&!o)throw new TypeError("invalid input");var a=r?t.$h:t;for(i in a)m.call(this.$h,i)&&(this.$h[i]=a[i])}return this.Yh(!e),this},y.is=function(t){var e=!1,r=!1,o=!1,s=!1,a=!1,c=!1,h=!1,p=!this.$h.urn;switch(this.$h.hostname&&(p=!1,r=n.op.test(this.$h.hostname),o=n.sp.test(this.$h.hostname),e=r||o,s=!e,a=s&&i&&i.has(this.$h.hostname),c=s&&n.rp.test(this.$h.hostname),h=s&&n.np.test(this.$h.hostname)),t.toLowerCase()){case"relative":return p;case"absolute":return!p;case"domain":case"name":return s;case"sld":return a;case"ip":return e;case"ip4":case"ipv4":case"inet4":return r;case"ip6":case"ipv6":case"inet6":return o;case"idn":return c;case"url":return!this.$h.urn;case"urn":return!!this.$h.urn;case"punycode":return h}return null};var E=y.protocol,I=y.port,R=y.hostname;y.protocol=function(t,e){if(void 0!==t&&t&&(t=t.replace(/:(\/\/)?$/,""),!t.match(n.ip)))throw new TypeError('Protocol "'+t+"\" contains characters other than [A-Z0-9.+-] or doesn't start with [A-Z]");return E.call(this,t,e)},y.scheme=y.protocol,y.port=function(t,e){if(this.$h.urn)return void 0===t?"":this;if(void 0!==t&&(0===t&&(t=null),t&&(t+="",":"===t.charAt(0)&&(t=t.substring(1)),t.match(/[^0-9]/))))throw new TypeError('Port "'+t+'" contains characters other than [0-9]');return I.call(this,t,e)},y.hostname=function(t,e){if(this.$h.urn)return void 0===t?"":this;if(void 0!==t){var i={},r=n.hu(t,i);if("/"!==r)throw new TypeError('Hostname "'+t+'" contains characters other than [A-Z0-9.-]');t=i.hostname}return R.call(this,t,e)},y.origin=function(t,e){if(this.$h.urn)return void 0===t?"":this;if(void 0===t){var i=this.protocol(),r=this.Au();return r?(i?i+"://":"")+this.Au():""}var o=n(t);return this.protocol(o.protocol()).Au(o.Au()).Yh(!e),this},y.host=function(t,e){if(this.$h.urn)return void 0===t?"":this;if(void 0===t)return this.$h.hostname?n.du(this.$h):"";var i=n.hu(t,this.$h);if("/"!==i)throw new TypeError('Hostname "'+t+'" contains characters other than [A-Z0-9.-]');return this.Yh(!e),this},y.Au=function(t,e){if(this.$h.urn)return void 0===t?"":this;if(void 0===t)return this.$h.hostname?n.lu(this.$h):"";var i=n.cu(t,this.$h);if("/"!==i)throw new TypeError('Hostname "'+t+'" contains characters other than [A-Z0-9.-]');return this.Yh(!e),this},y.Nu=function(t,e){if(this.$h.urn)return void 0===t?"":this;if(void 0===t){var i=n.fu(this.$h);return i?i.substring(0,i.length-1):i}return"@"!==t[t.length-1]&&(t+="@"),n.pu(t,this.$h),this.Yh(!e),this},y.xu=function(t,e){var i;return void 0===t?this.path()+this.search()+this.hash():(i=n.parse(t),this.$h.path=i.path,this.$h.yi=i.yi,this.$h.Zh=i.Zh,this.Yh(!e),this)},y._u=function(t,e){if(this.$h.urn)return void 0===t?"":this;if(void 0===t){if(!this.$h.hostname||this.is("IP"))return"";var i=this.$h.hostname.length-this.domain().length-1;return this.$h.hostname.substring(0,i)||""}var r=this.$h.hostname.length-this.domain().length,s=this.$h.hostname.substring(0,r),a=new RegExp("^"+o(s));return t&&"."!==t.charAt(t.length-1)&&(t+="."),t&&n.Iu(t),this.$h.hostname=this.$h.hostname.replace(a,t),this.Yh(!e),this},y.domain=function(t,e){if(this.$h.urn)return void 0===t?"":this;if("boolean"==typeof t&&(e=t,t=void 0),void 0===t){if(!this.$h.hostname||this.is("IP"))return"";var i=this.$h.hostname.match(/\./g);if(i&&i.length<2)return this.$h.hostname;var r=this.$h.hostname.length-this.Bu(e).length-1;return r=this.$h.hostname.lastIndexOf(".",r-1)+1,this.$h.hostname.substring(r)||""}if(!t)throw new TypeError("cannot set domain empty");if(n.Iu(t),!this.$h.hostname||this.is("IP"))this.$h.hostname=t;else{var s=new RegExp(o(this.domain())+"$");this.$h.hostname=this.$h.hostname.replace(s,t)}return this.Yh(!e),this},y.Bu=function(t,e){if(this.$h.urn)return void 0===t?"":this;if("boolean"==typeof t&&(e=t,t=void 0),void 0===t){if(!this.$h.hostname||this.is("IP"))return"";var r=this.$h.hostname.lastIndexOf("."),n=this.$h.hostname.substring(r+1);return e!==!0&&i&&i.list[n.toLowerCase()]?i.get(this.$h.hostname)||n:n}var s;if(!t)throw new TypeError("cannot set TLD empty");if(t.match(/[^a-zA-Z0-9-]/)){if(!i||!i.is(t))throw new TypeError('TLD "'+t+'" contains characters other than [A-Z0-9]');s=new RegExp(o(this.Bu())+"$"),this.$h.hostname=this.$h.hostname.replace(s,t)}else{if(!this.$h.hostname||this.is("IP"))throw new ReferenceError("cannot set TLD on non-domain host");s=new RegExp(o(this.Bu())+"$"),this.$h.hostname=this.$h.hostname.replace(s,t)}return this.Yh(!e),this},y.Fu=function(t,e){if(this.$h.urn)return void 0===t?"":this;if(void 0===t||t===!0){if(!this.$h.path&&!this.$h.hostname)return"";if("/"===this.$h.path)return"/";var i=this.$h.path.length-this.filename().length-1,r=this.$h.path.substring(0,i)||(this.$h.hostname?"/":"");return t?n.ru(r):r}var s=this.$h.path.length-this.filename().length,a=this.$h.path.substring(0,s),c=new RegExp("^"+o(a));return this.is("relative")||(t||(t="/"),"/"!==t.charAt(0)&&(t="/"+t)),t&&"/"!==t.charAt(t.length-1)&&(t+="/"),t=n.ou(t),this.$h.path=this.$h.path.replace(c,t),this.Yh(!e),this},y.filename=function(t,e){if(this.$h.urn)return void 0===t?"":this;if("string"!=typeof t){if(!this.$h.path||"/"===this.$h.path)return"";var i=this.$h.path.lastIndexOf("/"),r=this.$h.path.substring(i+1);return t?n.decodePathSegment(r):r}var s=!1;"/"===t.charAt(0)&&(t=t.substring(1)),t.match(/\.?\//)&&(s=!0);var a=new RegExp(o(this.filename())+"$");return t=n.ou(t),this.$h.path=this.$h.path.replace(a,t),s?this.Du(e):this.Yh(!e),this},y.suffix=function(t,e){if(this.$h.urn)return void 0===t?"":this;if(void 0===t||t===!0){if(!this.$h.path||"/"===this.$h.path)return"";var i,r,s=this.filename(),a=s.lastIndexOf(".");return a===-1?"":(i=s.substring(a+1),r=/^[a-z0-9%]+$/i.test(i)?i:"",t?n.decodePathSegment(r):r)}"."===t.charAt(0)&&(t=t.substring(1));var c,h=this.suffix();if(h)c=t?new RegExp(o(h)+"$"):new RegExp(o("."+h)+"$");else{if(!t)return this;this.$h.path+="."+n.ou(t)}return c&&(t=n.ou(t),this.$h.path=this.$h.path.replace(c,t)),this.Yh(!e),this},y.Su=function(t,e,i){var r=this.$h.urn?":":"/",n=this.path(),o="/"===n.substring(0,1),s=n.split(r);if(void 0!==t&&"number"!=typeof t&&(i=e,e=t,t=void 0),void 0!==t&&"number"!=typeof t)throw new Error('Bad segment "'+t+'", must be 0-based integer');if(o&&s.shift(),t<0&&(t=Math.max(s.length+t,0)),void 0===e)return void 0===t?s:s[t];if(null===t||void 0===s[t])if(a(e)){s=[];for(var c=0,h=e.length;c<h;c++)(e[c].length||s.length&&s[s.length-1].length)&&(s.length&&!s[s.length-1].length&&s.pop(),s.push(u(e[c])))}else(e||"string"==typeof e)&&(e=u(e),""===s[s.length-1]?s[s.length-1]=e:s.push(e));else e?s[t]=u(e):s.splice(t,1);return o&&s.unshift(""),this.path(s.join(r),i)},y.Hu=function(t,e,i){var r,o,s;if("number"!=typeof t&&(i=e,e=t,t=void 0),void 0===e){if(r=this.Su(t,e,i),a(r))for(o=0,s=r.length;o<s;o++)r[o]=n.decode(r[o]);else r=void 0!==r?n.decode(r):void 0;return r}if(a(e))for(o=0,s=e.length;o<s;o++)e[o]=n.encode(e[o]);else e="string"==typeof e||e instanceof String?n.encode(e):e;return this.Su(t,e,i)};var k=y.yi;return y.yi=function(t,e){if(t===!0)return n.uu(this.$h.yi,this.$h.ep);if("function"==typeof t){var i=n.uu(this.$h.yi,this.$h.ep),r=t.call(this,i);return this.$h.yi=n.vu(r||i,this.$h.tp,this.$h.ep),this.Yh(!e),this}return void 0!==t&&"string"!=typeof t?(this.$h.yi=n.vu(t,this.$h.tp,this.$h.ep),this.Yh(!e),this):k.call(this,t,e)},y.ju=function(t,e,i){var r=n.uu(this.$h.yi,this.$h.ep);if("string"==typeof t||t instanceof String)r[t]=void 0!==e?e:null;else{if("object"!=typeof t)throw new TypeError("URI.addQuery() accepts an object, string as the name parameter");for(var o in t)m.call(t,o)&&(r[o]=t[o])}return this.$h.yi=n.vu(r,this.$h.tp,this.$h.ep),"string"!=typeof t&&(i=e),this.Yh(!i),this},y.yu=function(t,e,i){var r=n.uu(this.$h.yi,this.$h.ep);return n.yu(r,t,void 0===e?null:e),this.$h.yi=n.vu(r,this.$h.tp,this.$h.ep),"string"!=typeof t&&(i=e),this.Yh(!i),this},y.mu=function(t,e,i){var r=n.uu(this.$h.yi,this.$h.ep);return n.mu(r,t,e),this.$h.yi=n.vu(r,this.$h.tp,this.$h.ep),"string"!=typeof t&&(i=e),this.Yh(!i),this},y.wu=function(t,e,i){var r=n.uu(this.$h.yi,this.$h.ep);return n.wu(r,t,e,i)},y.Lu=y.ju,y.Mu=y.yu,y.Uu=y.mu,y.Vu=y.wu,y.normalize=function(){return this.$h.urn?this.Ju(!1).Du(!1).qu(!1).Qu(!1).Yh():this.Ju(!1).Gu(!1).Ku(!1).Du(!1).qu(!1).Qu(!1).Yh()},y.Ju=function(t){return"string"==typeof this.$h.protocol&&(this.$h.protocol=this.$h.protocol.toLowerCase(),this.Yh(!t)),this},y.Gu=function(i){return this.$h.hostname&&(this.is("IDN")&&t?this.$h.hostname=t.toASCII(this.$h.hostname):this.is("IPv6")&&e&&(this.$h.hostname=e.best(this.$h.hostname)),this.$h.hostname=this.$h.hostname.toLowerCase(),this.Yh(!i)),this},y.Ku=function(t){return"string"==typeof this.$h.protocol&&this.$h.port===n.pp[this.$h.protocol]&&(this.$h.port=null,this.Yh(!t)),this},y.Du=function(t){var e=this.$h.path;if(!e)return this;if(this.$h.urn)return this.$h.path=n.su(this.$h.path),this.Yh(!t),this;if("/"===this.$h.path)return this;e=n.ou(e);var i,r,o,s="";for("/"!==e.charAt(0)&&(i=!0,e="/"+e),"/.."!==e.slice(-3)&&"/."!==e.slice(-2)||(e+="/"),e=e.replace(/(\/(\.\/)+)|(\/\.$)/g,"/").replace(/\/{2,}/g,"/"),i&&(s=e.substring(1).match(/^(\.\.\/)+/)||"",s&&(s=s[0]));;){if(r=e.search(/\/\.\.(\/|$)/),r===-1)break;0!==r?(o=e.substring(0,r).lastIndexOf("/"),o===-1&&(o=r),e=e.substring(0,o)+e.substring(r+3)):e=e.substring(3)}return i&&this.is("relative")&&(e=s+e.substring(1)),this.$h.path=e,this.Yh(!t),this},y.zu=y.Du,y.qu=function(t){return"string"==typeof this.$h.yi&&(this.$h.yi.length?this.yi(n.uu(this.$h.yi,this.$h.ep)):this.$h.yi=null,this.Yh(!t)),this},y.Qu=function(t){return this.$h.Zh||(this.$h.Zh=null,this.Yh(!t)),this},y.Wu=y.qu,y.$u=y.Qu,y.Op=function(){var t=n.encode,e=n.decode;n.encode=escape,n.decode=decodeURIComponent;try{this.normalize()}finally{n.encode=t,n.decode=e}return this},y.Pp=function(){var t=n.encode,e=n.decode;n.encode=d,n.decode=unescape;try{this.normalize()}finally{n.encode=t,n.decode=e}return this},y.Yu=function(){var e=this.clone();e.username("").password("").normalize();var i="";if(e.$h.protocol&&(i+=e.$h.protocol+"://"),e.$h.hostname&&(e.is("punycode")&&t?(i+=t.toUnicode(e.$h.hostname),e.$h.port&&(i+=":"+e.$h.port)):i+=e.host()),e.$h.hostname&&e.$h.path&&"/"!==e.$h.path.charAt(0)&&(i+="/"),i+=e.path(!0),e.$h.yi){for(var r="",o=0,s=e.$h.yi.split("&"),a=s.length;o<a;o++){var c=(s[o]||"").split("=");r+="&"+n.iu(c[0],this.$h.ep).replace(/&/g,"%26"),void 0!==c[1]&&(r+="="+n.iu(c[1],this.$h.ep).replace(/&/g,"%26"))}i+="?"+r.substring(1)}return i+=n.iu(e.hash(),!0)},y.Wh=function(t){var e,i,r,o=this.clone(),s=["protocol","username","password","hostname","port"];if(this.$h.urn)throw new Error("URNs do not have any generally defined hierarchical components");if(t instanceof n||(t=new n(t)),o.$h.protocol)return o;if(o.$h.protocol=t.$h.protocol,this.$h.hostname)return o;for(i=0;r=s[i];i++)o.$h[r]=t.$h[r];return o.$h.path?(".."===o.$h.path.substring(-2)&&(o.$h.path+="/"),"/"!==o.path().charAt(0)&&(e=t.Fu(),e=e?e:0===t.path().indexOf("/")?"/":"",o.$h.path=(e?e+"/":"")+o.$h.path,o.Du())):(o.$h.path=t.$h.path,o.$h.yi||(o.$h.yi=t.$h.yi)),o.Yh(),o},y.Xu=function(t){var e,i,r,o,s,a=this.clone().normalize();if(a.$h.urn)throw new Error("URNs do not have any generally defined hierarchical components");if(t=new n(t).normalize(),e=a.$h,i=t.$h,o=a.path(),s=t.path(),"/"!==o.charAt(0))throw new Error("URI is already relative");if("/"!==s.charAt(0))throw new Error("Cannot calculate a URI relative to another relative URI");if(e.protocol===i.protocol&&(e.protocol=null),e.username!==i.username||e.password!==i.password)return a.Yh();if(null!==e.protocol||null!==e.username||null!==e.password)return a.Yh();if(e.hostname!==i.hostname||e.port!==i.port)return a.Yh();if(e.hostname=null,e.port=null,o===s)return e.path="",a.Yh();if(r=n.bu(o,s),!r)return a.Yh();var c=i.path.substring(r.length).replace(/[^\/]*$/,"").replace(/.*?\//g,"../");return e.path=c+e.path.substring(r.length)||"./",a.Yh()},y.Zu=function(t){var e,i,r,o=this.clone(),s=new n(t),c={},h={},u={};if(o.normalize(),s.normalize(),o.toString()===s.toString())return!0;if(e=o.yi(),i=s.yi(),o.yi(""),s.yi(""),o.toString()!==s.toString())return!1;if(e.length!==i.length)return!1;c=n.uu(e,this.$h.ep),h=n.uu(i,this.$h.ep);for(r in c)if(m.call(c,r)){if(a(c[r])){if(!p(c[r],h[r]))return!1}else if(c[r]!==h[r])return!1;u[r]=!0}for(r in h)if(m.call(h,r)&&!u[r])return!1;return!0},y.tp=function(t){return this.$h.tp=!!t,this},y.ep=function(t){return this.$h.ep=!!t,this},n})},function(t,e,i){/*! uuid.js
	 * Copyright (c) 2010-2012 Robert Kieffer
	 * MIT License - http://opensource.org/licenses/mit-license.php
	 */
!function(e){"use strict";function r(){var t=e.crypto||e.msCrypto;if(!h&&t&&t.getRandomValues)try{var i=new Uint8Array(16);l=h=function(){return t.getRandomValues(i),i},h()}catch(r){}if(!h){var n=new Array(16);p=h=function(){for(var t,e=0;e<16;e++)0===(3&e)&&(t=4294967296*Math.random()),n[e]=t>>>((3&e)<<3)&255;return n},"undefined"!=typeof console&&console.warn&&console.warn("[SECURITY] node-uuid: crypto not usable, falling back to insecure Math.random()")}}function n(){try{var t=i(33).randomBytes;u=h=t&&function(){return t(16)},h()}catch(e){}}function o(t,e,i){var r=e&&i||0,n=0;for(e=e||[],t.toLowerCase().replace(/[0-9a-f]{2}/g,function(t){n<16&&(e[r+n++]=g[t])});n<16;)e[r+n++]=0;return e}function s(t,e){var i=e||0,r=v;return r[t[i++]]+r[t[i++]]+r[t[i++]]+r[t[i++]]+"-"+r[t[i++]]+r[t[i++]]+"-"+r[t[i++]]+r[t[i++]]+"-"+r[t[i++]]+r[t[i++]]+"-"+r[t[i++]]+r[t[i++]]+r[t[i++]]+r[t[i++]]+r[t[i++]]+r[t[i++]]}function a(t,e,i){var r=e&&i||0,n=e||[];t=t||{};var o=null!=t.clockseq?t.clockseq:T,a=null!=t.msecs?t.msecs:(new Date).getTime(),c=null!=t.nsecs?t.nsecs:b+1,h=a-S+(c-b)/1e4;if(h<0&&null==t.clockseq&&(o=o+1&16383),(h<0||a>S)&&null==t.nsecs&&(c=0),c>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");S=a,b=c,T=o,a+=122192928e5;var p=(1e4*(268435455&a)+c)%4294967296;n[r++]=p>>>24&255,n[r++]=p>>>16&255,n[r++]=p>>>8&255,n[r++]=255&p;var u=a/4294967296*1e4&268435455;n[r++]=u>>>8&255,n[r++]=255&u,n[r++]=u>>>24&15|16,n[r++]=u>>>16&255,n[r++]=o>>>8|128,n[r++]=255&o;for(var l=t.node||w,d=0;d<6;d++)n[r+d]=l[d];return e?e:s(n)}function c(t,e,i){var r=e&&i||0;"string"==typeof t&&(e="binary"===t?new f(16):null,t=null),t=t||{};var n=t.random||(t.rng||h)();if(n[6]=15&n[6]|64,n[8]=63&n[8]|128,e)for(var o=0;o<16;o++)e[r+o]=n[o];return e||s(n)}var h,p,u,l,d;e?r():n();for(var f="function"==typeof Buffer?Buffer:Array,v=[],g={},y=0;y<256;y++)v[y]=(y+256).toString(16).substr(1),g[v[y]]=y;var m=h(),w=[1|m[0],m[1],m[2],m[3],m[4],m[5]],T=16383&(m[6]<<8|m[7]),S=0,b=0,E=c;E.tl=a,E.Ko=c,E.parse=o,E.el=s,E.il=f,E.rl=h,E.nl=p,E.ol=u,E.sl=l,"undefined"!=typeof t&&t.t?t.t=E:(d=e.al,E.ge=function(){return e.al=d,E},e.al=E)}("undefined"!=typeof window?window:null)},function(t,e){"use strict";var i;!function(t){var e=function(){function t(){}return t.DashFilterBitrates=null,t}();t.Dash=e;var i=function(){function t(){}return t}();t.Stats=i}(i=e.HiveConfig||(e.HiveConfig={})),"undefined"!=typeof window&&("undefined"==typeof window.HiveConfig&&(window.HiveConfig={}),window.HiveConfig.Dash=i.Dash,window.HiveConfig.Stats=i.Stats)},function(t,e,i){"use strict";var r,n=i(18);!function(t){!function(t){t[t.off=0]="off",t[t.error=1]="error",t[t.warn=2]="warn",t[t.notice=3]="notice",t[t.info=4]="info",t[t.debug=5]="debug",t[t.trace=6]="trace"}(t.cl||(t.cl={}));var e=t.cl,i=function(){function t(){this.timestamp=function(){},this.level=e.debug,this.timestamp.toString=function(){var t=new Date,e=("0"+t.getUTCHours()).slice(-2)+":"+("0"+t.getUTCMinutes()).slice(-2)+":"+("0"+t.getUTCSeconds()).slice(-2)+":"+t.getUTCMilliseconds();return"["+e+"]"},this.m="undefined"==typeof console?{log:function(){}}:console,this.m.trace||(this.m.trace=this.m.log),this.m.debug||(this.m.debug=this.m.log),this.m.info||(this.m.info=this.m.log),this.m.warn||(this.m.warn=this.m.log),this.m.error||(this.m.error=this.m.log),this.hl(e[this.level])}return t.prototype.hl=function(t){n.HiveConfig.Framework.HiveDebugLevel&&void 0!=e[n.HiveConfig.Framework.HiveDebugLevel]?this.level=e[n.HiveConfig.Framework.HiveDebugLevel]:void 0!=e[t]?this.level=e[t]:console.log("Wrong logging level: "+t,e),this.pl()},t.prototype.pl=function(){this.ul={log:this.ll(this.m.log,e.error),error:this.ll(this.m.error,e.error),warn:this.ll(this.m.warn,e.warn),notice:this.ll(this.m.info,e.notice),info:this.ll(this.m.info,e.info),debug:this.ll(this.m.debug,e.debug),trace:this.ll(this.m.trace,e.trace)}},t.prototype.ll=function(t,e){if(!(this.level>=e))return function(){};try{return n.HiveConfig.Framework.LoggerTimestamp?Function.prototype.bind.call(t,console,"%s",this.timestamp):Function.prototype.bind.call(t,console)}catch(i){}},t.prototype.log=function(){return this.ul},t}();t.dl=i}(r=e.fl||(e.fl={}))},function(t,e,i){"use strict";var r=i(5),n=r.ye,o=i(1),s=i(2),a=i(6),c=i(27),h=i(12),p=i(18),u=i(7),l=i(40),d=i(10),f=i(37),v=i(8),g=i(49),y=i(47),m=i(28),w=i(13),T=i(15),S=a.pt.fi,b=c.pt.si,E=h.pt.to,I=h.pt.yo,R=h.pt.HiveTechError,k=h.pt.uo,C=h.pt.To;if("undefined"==typeof O)var O=!1;O&&i(22).HiveConfig,e.version="3.0.7";var P;!function(t){var r=function(){function t(t){this.vl=[b[b.HiveJava],b[b.HiveJsProxy],b[b.HiveJS],b[b.StatsJS]],this.gl=new n,this.yl=new Array,this.ml=new Array,this.wl=null,this.Tl=0,this.Sl=0,this.u="[HiveComm] ",this.bl=0,this.El=u.Wi.getItem("hivePluginId"),this.El||(this.El=Math.abs(Math.floor(68719476736*Math.random())).toString(16),u.Wi.setItem("hivePluginId",this.El)),w.ErrorMonitor.Hi(),this.options_=new S.fi,u.Ki(t,this.options_),u.Gi(window.location.href,new S.gi,this.options_),this.qn=s.Framework.resolve(s.Framework.Be.Te),p.HiveConfig.Framework.LoggerTimestamp=this.options().loggerTimestamp,this.qn.hl(this.options_.debugLevel),w.ErrorMonitor.Hi().ko(this.qn.log());var e=s.Framework.resolve(v.nr.Ce),i=s.Framework.resolve(v.nr.Xi);e.Il().then(function(t){w.ErrorMonitor.Hi().setUser(t)});var r={};i.mn().then(function(t){r={pIPAddr:t.privateIp},w.ErrorMonitor.Hi().setCustomData(r)}),window.Jn=this.qn.log(),this.Rl(t),this.kl(),this.Cl=new C(this),new l.Ol(this)}return t.prototype.options=function(){return this.options_},t.prototype.m=function(){return this.qn.log()},t.prototype.S=function(){return this.El},t.prototype.Pl=function(){return e.version},t.prototype.Rl=function(t){var e=new y.StatsJS(this,t);this.gl.set(y.StatsJS.Al,e);if(O){var r=i(43).HiveJsProxy;this.gl.set(r.Al,new r(this,t))}var n=i(41).HiveJava;if(this.gl.set(n.Al,new n(this,t)),this.options().hiveTechOrder instanceof Array)for(var o=this.options().hiveTechOrder.length;o--;){var s=this.options().hiveTechOrder[o];"string"==typeof s&&this.vl.indexOf(s)!=-1||(w.ErrorMonitor.Hi().Eo(this.u+'The "'+s+'" Hive tech is undefined'),this.options().hiveTechOrder.splice(o,1))}else w.ErrorMonitor.Hi().Eo(this.u+"hiveTechOrder value not accepted. It must be an array of strings"),this.options().hiveTechOrder=this.vl},t.prototype.p=function(t){var e=this;this.m().notice(this.u+"resolving "+t),this.Nl(t);var i=o.defer(),r=this.xl().values();0==r.length&&i.reject(u.zi(t,E.$n));var n,s,a=!1,c=!1,h=0,p=null;return u.Mi(function(){return!a&&!c&&h<r.length&&!n},function(){var i=r[h++];i._l();var u;return u=i.Bl()&&!s?e.Fl(t):o.resolve(null),u.then(function(r){null!=r&&(s=r);var n=i.Dl();return i.initSession(t,s).timeout(n,"["+i.Ti()+"] Error: initialization timed out after "+n+"ms").then(function(t){p=t,e.Hl(p,i),a=!0,!i.Bl()&&s&&s.bn.reset(),e.m().notice(e.u+"initializing Session:["+p.id+"] Ticket:"+p.ticket.toString()+" HiveTech:["+p.tech.Ti()+"]"),o.resolve(!0)},function(r){r instanceof Error&&(r=new R(k.po,r.message),i.jl(r)),r.ticketUrl=t,c=!i.onError(r),e.m().debug(e.u+"tech "+i.Ti()+": "+r.message),o.resolve(!0)})},function(t){n=t,o.resolve(!0)})}).then(function(){n?i.reject(u.zi(t,E.Zn,n)):c?i.reject(u.zi(t,E.Xn)):a?i.resolve(p):i.reject(u.zi(t,E.$n))})["catch"](function(e){w.ErrorMonitor.Hi().Eo(e),i.reject(u.zi(t,E.Wn,e.toString()))}).done(),i.gt},t.prototype.Fl=function(t){var e=this,i=o.defer();return m.Hive.Reporting().initSession(t,!1).then(function(r){r.ticket;e.m().debug(e.u+"verified ticket "+t),e.Ll(r),i.resolve(r)},function(t){i.reject(t)})["catch"](function(t){i.reject(!1)}),i.gt},t.prototype.xl=function(){var t=JSON.parse(JSON.stringify(this.options().hiveTechOrder)),e=new n;for(var i in t)this.gl.has(t[i])&&e.set(t[i],this.gl.get(t[i]));return e},t.prototype.Nl=function(t){var e=w.ErrorMonitor.Hi();try{var i=new T.es;i.jo(t),i.un()&&i.ln()&&i.Uo()?e.setTags([i.un(),i.ln(),i.Uo()]):e.Eo(this.u+" Ticket not valid, we could not resolve the triple partnerId/CustomerId/ContentId: "+i.un()+"/"+i.ln()+"/"+i.Uo())}catch(r){this.m().warn(this.u+" "+r.message,r),e.notify(r)}},t.prototype.Ll=function(t){t.bn.$r(e.version,this.T(),this.I(),this.ht(),this.J(),this.Ml())},t.prototype.g=function(){window.HiveRequest=XMLHttpRequest,m.Hive.Reporting().close()},t.prototype.Ul=function(t){this.wl&&this.wl.tech?(t.sessionId=this.wl.id,this.wl.tech.cn(this.wl,t)):this.yl.push(t)},t.prototype.Vl=function(){var t=this.yl;return this.yl=new Array,t},t.prototype.kl=function(){var t=this,e=window;e.addEventListener?e.addEventListener("beforeunload",function(){t.Ql(!0)},!1):e.attachEvent("onbeforeunload",function(){t.Ql(!0)})},t.prototype.h=function(t){this.Ql(t),this.wl=null,this.ml=new Array,this.Tl=0,this.Sl=0,this.H()},t.prototype.Hl=function(t,e){t.tech=e,this.ml.push(t)},t.prototype.R=function(t){if(null==this.wl){for(var e=t?t:this.rt(),i=0;i<this.ml.length;i++){var r=this.ml[i];if(r.at(e))return this.wl=r,this.wl.mi?this.wl.mi.Jl.ql(this.wl.ticket):this.Kl(),this.ml=new Array,this.wl.tech.onActiveSession(this.wl),this.m().notice(this.u+"activating Session:["+this.wl.id+"] Ticket:"+this.wl.ticket.toString()+" HiveTech:["+this.wl.tech.Ti()+"]"),this.Gl(),!0}this.m().warn(this.u+"Closing sessions - the active stream doesn't match any initialized sessions"),this.m().warn(this.u+"Active:"+e+" - initialized: "+this.ml.length),this.h()}return!1},t.prototype.C=function(){if(this.wl)return this.wl.v()},t.prototype.Kl=function(){var t=!1;this.ml.forEach(function(e){e.mi&&(t=!0)}),t&&m.Hive.Reporting().close()},t.prototype.zl=function(){if(null!=this.wl){if(this.wl.at(this.rt()))return!0;this.m().warn(this.u+"Session src mismatch: "+this.rt()+" != "+this.wl.manifest),this.h()}return!1},t.prototype.Ql=function(t){if(null!=this.wl)this.m().notice(this.u+"Stopping session ["+this.wl.id+"]"),this.wl.close(t);else if(this.ml.length>0){var e=this.ml[0];this.m().notice(this.u+"Attempt to stopping session ["+e.id+"]"),e.close(t)}},t.prototype.Gl=function(){var t=this;null==this.Wl&&(this.Wl=setInterval(function(){t.$l()},this.options().feedbackPeriod),this.$l())},t.prototype.H=function(){clearInterval(this.Wl),this.Wl=null},t.prototype.$l=function(){var t=this;if(this.zl()){if(!this.at())return void this.h();var e=new u.bi;e.Un=this.getCurrentTime(),e.Yl=this.ot(),e.Xl=this.Tl,e.width=this.st().width,e.height=this.st().height,e.Zl=this.isFullscreen(),this.wl.tech.td(this.wl,e).fail(function(e){t.H()})}},t.prototype.ed=function(){var t=this;try{u.Li.Hi(this.m()).ji(function(e){t.F(e?d.B._.Ar:d.B._.HIDDEN),t.m().debug(e?"visible":"hidden")})}catch(e){w.ErrorMonitor.Hi().Eo("error setting up the visibilityChange listener",{error:e})}},t.prototype.k=function(t){this.zl()&&this.Sl<=0&&(this.Sl=Date.now(),(void 0==t||t)&&this.F(d.B._.Or))},t.prototype.W=function(){var t=0==this.Tl;if(this.Sl>0){var e=Date.now()-this.Sl;return this.Tl+=e,this.m().debug(this.u+"reporting new buffering event of "+e),this.Sl=0,t&&this.$l(),!0}return!1},t.prototype.onError=function(t,e,i){void 0===i&&(i=!0),this.F(d.B._.ERROR,{code:-1,playerCode:t}),i&&this.h()},t.prototype.F=function(t,e){var i=this,r=this.rd();null==r||r!=this.wl&&r.tech.Ti()===b[b.HiveJava]||r.tech.nd(r,t,e).fail(function(t){i.m().warn(i.u+"error in forwarding player event to tech",t)})},t.prototype.rd=function(){return this.wl?this.wl:this.ml&&this.ml.length>0?this.ml[0]:void 0},t.prototype.od=function(){this.bl=0},t.prototype.sd=function(t,e){this.od();var i=7,r=6;this.bl+=t<<4*i,e&&0===t&&(this.bl+=1<<4*(r-b[e.Ti()])),t>0&&w.ErrorMonitor.Hi().Eo(this.u+"Status Code Error: "+I[t])},t.prototype.wo=function(){return this.bl},t.prototype.Ml=function(){return this.options().telemetryId},t}();t.Plugin=r}(P=e.pt||(e.pt={})),s.Framework.Qe(new f.ad),s.Framework.Ge("peer0",new g.hd),s.Framework.ze("peer0")},function(t,e){"use strict";var i=function(){function t(){}return t.ai="https:"===location.protocol,t.di=!0,t.pd=1e4,t}();e.ke=i},function(t,e){"use strict";var i=function(){function t(){}return t.Co="127.0.0.1",t.ud=9e3,t.Oo="//{0}:{1}/proxy/?callback={2}{3}hivePluginId={4}",t}();e.ld=i},function(t,e){"use strict";var i;!function(t){!function(t){t[t.HiveJS=0]="HiveJS",t[t.HiveJava=1]="HiveJava",t[t.StatsJS=2]="StatsJS",t[t.HiveJsProxy=3]="HiveJsProxy"}(t.si||(t.si={}));t.si}(i=e.pt||(e.pt={}))},function(t,e,i){"use strict";var r=i(2),n=i(8),o=function(){function t(){}return t.Reporting=function(){return t.app="STATS",r.Framework.resolve(n.nr.tr)},t.dd=function(){return this.app},t.getVersion=function(){return this.version},t.version="3.0.7",t}();e.Hive=o},function(t,e){Services={1:"REMOTE_EXECUTOR",fd:1,2:"PEER_FORWARDER",vd:2,3:"PEER_INDEX",gd:3,4:"PEER_BROADCAST",yd:4,5:"PEER_FILTER",md:5,6:"PEER_LOGGING",wd:6,7:"HIVEJS_TRACKER",Td:7,8:"PEER_SYSTEM",Sd:8,9:"HIVEJS_SNAPSHOTS",Pn:9,10:"HIVEJS_TICKETS",bd:10,11:"HIVEJS_KEEPALIVE",Ed:11,12:"HIVEJS_FORWARDING",Id:12}},function(t,e,i){var r=i(17);StreamType={1:"LIVE",LIVE:1,2:"VOD",Rd:2},StreamProtocol={1:"DASH",nt:1,2:"HDS",kd:2,3:"HLS",X:3,4:"SS",Cd:4},ClientType={1:"JAVA",Od:1,2:"STATS_ONLY",Pd:2,3:"JS_DIRECT",Ad:3,4:"JS_PROXY",Nd:4},EventId=function(t){this.partnerId=null,this.customerId=null,this.contentId=null,this.tags=null,t&&(void 0!==t.partnerId&&(this.partnerId=t.partnerId),void 0!==t.customerId&&(this.customerId=t.customerId),void 0!==t.contentId&&(this.contentId=t.contentId),void 0!==t.tags&&(this.tags=t.tags))},EventId.prototype={},EventId.prototype.read=function(t){for(t.Dc();;){var e=t.oa(),i=(e.xc,e.sa),n=e.aa;if(i==r.Ss.bs)break;switch(n){case 1:i==r.Ss.Ps?this.partnerId=t.ca().value:t.ha(i);break;case 2:i==r.Ss.Ps?this.customerId=t.ca().value:t.ha(i);break;case 3:i==r.Ss.Ps?this.contentId=t.ca().value:t.ha(i);break;case 4:if(i==r.Ss.Bs){var o,s=0;this.tags=[];var a=0;o=t.Uc(),a=o.Vc,s=o.size;for(var c=0;c<s;++c){var h=null;h=t.ca().value,this.tags.push(h)}t.Qc()}else t.ha(i);break;default:t.ha(i)}t.ua()}t.la()},EventId.prototype.write=function(t){if(t.da("EventId"),null!==this.partnerId&&void 0!==this.partnerId&&(t.fa("partnerId",r.Ss.Ps,1),t.va(this.partnerId),t.ga()),null!==this.customerId&&void 0!==this.customerId&&(t.fa("customerId",r.Ss.Ps,2),t.va(this.customerId),t.ga()),null!==this.contentId&&void 0!==this.contentId&&(t.fa("contentId",r.Ss.Ps,3),t.va(this.contentId),t.ga()),null!==this.tags&&void 0!==this.tags){t.fa("tags",r.Ss.Bs,4),t.wc(r.Ss.Ps,this.tags.length);for(var e in this.tags)this.tags.hasOwnProperty(e)&&(e=this.tags[e],t.va(e));t.Tc(),t.ga()}t.ma(),t.wa()},SnapshotInfo=function(t){this.timestamp=null,this.apiServer=null,this.clientIp=null,t&&(void 0!==t.timestamp&&(this.timestamp=t.timestamp),void 0!==t.apiServer&&(this.apiServer=t.apiServer),void 0!==t.clientIp&&(this.clientIp=t.clientIp))},SnapshotInfo.prototype={},SnapshotInfo.prototype.read=function(t){for(t.Dc();;){var e=t.oa(),i=(e.xc,e.sa),n=e.aa;if(i==r.Ss.bs)break;switch(n){case 1:i==r.Ss.Os?this.timestamp=t.Wc().value:t.ha(i);break;case 2:i==r.Ss.Ps?this.apiServer=t.ca().value:t.ha(i);break;case 3:i==r.Ss.Ps?this.clientIp=t.ca().value:t.ha(i);break;default:t.ha(i)}t.ua()}t.la()},SnapshotInfo.prototype.write=function(t){t.da("SnapshotInfo"),null!==this.timestamp&&void 0!==this.timestamp&&(t.fa("timestamp",r.Ss.Os,1),t.kc(this.timestamp),t.ga()),null!==this.apiServer&&void 0!==this.apiServer&&(t.fa("apiServer",r.Ss.Ps,2),t.va(this.apiServer),t.ga()),null!==this.clientIp&&void 0!==this.clientIp&&(t.fa("clientIp",r.Ss.Ps,3),t.va(this.clientIp),t.ga()),t.ma(),t.wa()},InetAddress=function(t){this.address=null,this.port=null,t&&(void 0!==t.address&&(this.address=t.address),void 0!==t.port&&(this.port=t.port))},InetAddress.prototype={},InetAddress.prototype.read=function(t){for(t.Dc();;){var e=t.oa(),i=(e.xc,e.sa),n=e.aa;if(i==r.Ss.bs)break;switch(n){case 1:i==r.Ss.Ps?this.address=t.Yc().value:t.ha(i);break;case 2:i==r.Ss.Cs?this.port=t.pa().value:t.ha(i);break;default:t.ha(i)}t.ua()}t.la()},InetAddress.prototype.write=function(t){t.da("InetAddress"),null!==this.address&&void 0!==this.address&&(t.fa("address",r.Ss.Ps,1),t.Oc(this.address),t.ga()),null!==this.port&&void 0!==this.port&&(t.fa("port",r.Ss.Cs,2),t.ya(this.port),t.ga()),t.ma(),t.wa()}},function(t,e,i){var r=i(17);"undefined"==typeof hive&&(hive={}),"undefined"==typeof hive.snapshots&&(hive.snapshots={}),hive.snapshots.Traffic=function(t){this.reqN=null,this.respFallbackN=null,this.respFallbackErrN=null,this.respP2pN=null,this.reqOtherN=null,this.respFallbackOtherN=null,this.respFallbackOthertErrN=null,this.srcReqN=null,this.srcRespN=null,this.srcRespErrN=null,this.srcReqQt=null,this.srcRespQt=null,this.srcOverQt=null,this.srcOtherReqN=null,this.srcOtherRespN=null,this.srcOtherRespErrN=null,this.srcOtherReqQt=null,this.srcOtherRespQt=null,this.srcOtherOverQt=null,this.p2pSubReqN=null,this.p2pSubRespN=null,this.p2pSubRespPartN=null,this.p2pSubRespErrN=null,this.p2pSubRespExpN=null,this.p2pSubReqQt=null,this.p2pSubRespQt=null,this.p2pDirectQt=null,this.p2pRelayQt=null,this.p2pNatQt=null,this.p2pUdpbQt=null,this.fallAgentRespN=null,this.fallAgentPredHitN=null,this.fallAgentFailedRespN=null,this.fallAgentPredMissN=null,this.fallAgentPredPartialHitN=null,this.fallAgenTrafficSuccessQt=null,this.fallAgenTrafficFailureQt=null,this.p2pAgentPredHitN=null,this.p2pAgentPredMissN=null,this.p2pAgentPredPartialHitN=null,this.p2pAgenTrafficSuccessQt=null,this.p2pAgenTrafficFailureQt=null,this.respP2pOtherN=null,this.lCacheRespN=null,this.lCacheRespQt=null,this.p2pOutSiteLowPrio=null,t&&(void 0!==t.reqN&&(this.reqN=t.reqN),void 0!==t.respFallbackN&&(this.respFallbackN=t.respFallbackN),void 0!==t.respFallbackErrN&&(this.respFallbackErrN=t.respFallbackErrN),void 0!==t.respP2pN&&(this.respP2pN=t.respP2pN),void 0!==t.reqOtherN&&(this.reqOtherN=t.reqOtherN),void 0!==t.respFallbackOtherN&&(this.respFallbackOtherN=t.respFallbackOtherN),void 0!==t.respFallbackOthertErrN&&(this.respFallbackOthertErrN=t.respFallbackOthertErrN),void 0!==t.srcReqN&&(this.srcReqN=t.srcReqN),void 0!==t.srcRespN&&(this.srcRespN=t.srcRespN),void 0!==t.srcRespErrN&&(this.srcRespErrN=t.srcRespErrN),void 0!==t.srcReqQt&&(this.srcReqQt=t.srcReqQt),void 0!==t.srcRespQt&&(this.srcRespQt=t.srcRespQt),void 0!==t.srcOverQt&&(this.srcOverQt=t.srcOverQt),void 0!==t.srcOtherReqN&&(this.srcOtherReqN=t.srcOtherReqN),void 0!==t.srcOtherRespN&&(this.srcOtherRespN=t.srcOtherRespN),void 0!==t.srcOtherRespErrN&&(this.srcOtherRespErrN=t.srcOtherRespErrN),void 0!==t.srcOtherReqQt&&(this.srcOtherReqQt=t.srcOtherReqQt),void 0!==t.srcOtherRespQt&&(this.srcOtherRespQt=t.srcOtherRespQt),void 0!==t.srcOtherOverQt&&(this.srcOtherOverQt=t.srcOtherOverQt),void 0!==t.p2pSubReqN&&(this.p2pSubReqN=t.p2pSubReqN),void 0!==t.p2pSubRespN&&(this.p2pSubRespN=t.p2pSubRespN),void 0!==t.p2pSubRespPartN&&(this.p2pSubRespPartN=t.p2pSubRespPartN),void 0!==t.p2pSubRespErrN&&(this.p2pSubRespErrN=t.p2pSubRespErrN),void 0!==t.p2pSubRespExpN&&(this.p2pSubRespExpN=t.p2pSubRespExpN),void 0!==t.p2pSubReqQt&&(this.p2pSubReqQt=t.p2pSubReqQt),void 0!==t.p2pSubRespQt&&(this.p2pSubRespQt=t.p2pSubRespQt),void 0!==t.p2pDirectQt&&(this.p2pDirectQt=t.p2pDirectQt),void 0!==t.p2pRelayQt&&(this.p2pRelayQt=t.p2pRelayQt),void 0!==t.p2pNatQt&&(this.p2pNatQt=t.p2pNatQt),void 0!==t.p2pUdpbQt&&(this.p2pUdpbQt=t.p2pUdpbQt),void 0!==t.fallAgentRespN&&(this.fallAgentRespN=t.fallAgentRespN),void 0!==t.fallAgentPredHitN&&(this.fallAgentPredHitN=t.fallAgentPredHitN),void 0!==t.fallAgentFailedRespN&&(this.fallAgentFailedRespN=t.fallAgentFailedRespN),void 0!==t.fallAgentPredMissN&&(this.fallAgentPredMissN=t.fallAgentPredMissN),void 0!==t.fallAgentPredPartialHitN&&(this.fallAgentPredPartialHitN=t.fallAgentPredPartialHitN),void 0!==t.fallAgenTrafficSuccessQt&&(this.fallAgenTrafficSuccessQt=t.fallAgenTrafficSuccessQt),void 0!==t.fallAgenTrafficFailureQt&&(this.fallAgenTrafficFailureQt=t.fallAgenTrafficFailureQt),void 0!==t.p2pAgentPredHitN&&(this.p2pAgentPredHitN=t.p2pAgentPredHitN),void 0!==t.p2pAgentPredMissN&&(this.p2pAgentPredMissN=t.p2pAgentPredMissN),void 0!==t.p2pAgentPredPartialHitN&&(this.p2pAgentPredPartialHitN=t.p2pAgentPredPartialHitN),void 0!==t.p2pAgenTrafficSuccessQt&&(this.p2pAgenTrafficSuccessQt=t.p2pAgenTrafficSuccessQt),void 0!==t.p2pAgenTrafficFailureQt&&(this.p2pAgenTrafficFailureQt=t.p2pAgenTrafficFailureQt),void 0!==t.respP2pOtherN&&(this.respP2pOtherN=t.respP2pOtherN),void 0!==t.lCacheRespN&&(this.lCacheRespN=t.lCacheRespN),void 0!==t.lCacheRespQt&&(this.lCacheRespQt=t.lCacheRespQt),void 0!==t.p2pOutSiteLowPrio&&(this.p2pOutSiteLowPrio=t.p2pOutSiteLowPrio))},hive.snapshots.Traffic.prototype={},hive.snapshots.Traffic.prototype.read=function(t){for(t.Dc();;){var e=t.oa(),i=(e.xc,e.sa),n=e.aa;if(i==r.Ss.bs)break;switch(n){case 1:i==r.Ss.Cs?this.reqN=t.pa().value:t.ha(i);break;case 2:i==r.Ss.Rs?this.respFallbackN=t.$c().value:t.ha(i);break;case 3:i==r.Ss.Cs?this.respFallbackErrN=t.pa().value:t.ha(i);break;case 4:i==r.Ss.Rs?this.respP2pN=t.$c().value:t.ha(i);break;case 5:i==r.Ss.Cs?this.reqOtherN=t.pa().value:t.ha(i);break;case 6:i==r.Ss.Cs?this.respFallbackOtherN=t.pa().value:t.ha(i);break;case 7:i==r.Ss.Cs?this.respFallbackOthertErrN=t.pa().value:t.ha(i);break;case 8:i==r.Ss.Cs?this.srcReqN=t.pa().value:t.ha(i);break;case 9:i==r.Ss.Cs?this.srcRespN=t.pa().value:t.ha(i);break;case 10:i==r.Ss.Cs?this.srcRespErrN=t.pa().value:t.ha(i);break;case 11:i==r.Ss.Os?this.srcReqQt=t.Wc().value:t.ha(i);break;case 12:i==r.Ss.Os?this.srcRespQt=t.Wc().value:t.ha(i);break;case 13:i==r.Ss.Os?this.srcOverQt=t.Wc().value:t.ha(i);break;case 14:i==r.Ss.Cs?this.srcOtherReqN=t.pa().value:t.ha(i);break;case 15:i==r.Ss.Cs?this.srcOtherRespN=t.pa().value:t.ha(i);break;case 16:i==r.Ss.Cs?this.srcOtherRespErrN=t.pa().value:t.ha(i);break;case 17:i==r.Ss.Os?this.srcOtherReqQt=t.Wc().value:t.ha(i);break;case 18:i==r.Ss.Os?this.srcOtherRespQt=t.Wc().value:t.ha(i);break;case 19:i==r.Ss.Os?this.srcOtherOverQt=t.Wc().value:t.ha(i);break;case 20:i==r.Ss.Cs?this.p2pSubReqN=t.pa().value:t.ha(i);break;case 21:i==r.Ss.Cs?this.p2pSubRespN=t.pa().value:t.ha(i);break;case 22:i==r.Ss.Rs?this.p2pSubRespPartN=t.$c().value:t.ha(i);break;case 23:i==r.Ss.Rs?this.p2pSubRespErrN=t.$c().value:t.ha(i);break;case 24:i==r.Ss.Cs?this.p2pSubRespExpN=t.pa().value:t.ha(i);break;case 25:i==r.Ss.Os?this.p2pSubReqQt=t.Wc().value:t.ha(i);break;case 26:i==r.Ss.Os?this.p2pSubRespQt=t.Wc().value:t.ha(i);break;case 27:i==r.Ss.Os?this.p2pDirectQt=t.Wc().value:t.ha(i);break;case 28:i==r.Ss.Os?this.p2pRelayQt=t.Wc().value:t.ha(i);break;case 29:i==r.Ss.Os?this.p2pNatQt=t.Wc().value:t.ha(i);break;case 30:i==r.Ss.Os?this.p2pUdpbQt=t.Wc().value:t.ha(i);break;case 31:i==r.Ss.Cs?this.fallAgentRespN=t.pa().value:t.ha(i);break;case 32:i==r.Ss.Cs?this.fallAgentPredHitN=t.pa().value:t.ha(i);break;case 33:i==r.Ss.Cs?this.fallAgentFailedRespN=t.pa().value:t.ha(i);break;case 34:i==r.Ss.Cs?this.fallAgentPredMissN=t.pa().value:t.ha(i);break;case 35:i==r.Ss.Cs?this.fallAgentPredPartialHitN=t.pa().value:t.ha(i);break;case 36:i==r.Ss.Os?this.fallAgenTrafficSuccessQt=t.Wc().value:t.ha(i);break;case 37:i==r.Ss.Os?this.fallAgenTrafficFailureQt=t.Wc().value:t.ha(i);break;case 38:i==r.Ss.Cs?this.p2pAgentPredHitN=t.pa().value:t.ha(i);break;case 39:i==r.Ss.Cs?this.p2pAgentPredMissN=t.pa().value:t.ha(i);break;case 40:i==r.Ss.Cs?this.p2pAgentPredPartialHitN=t.pa().value:t.ha(i);break;case 41:i==r.Ss.Os?this.p2pAgenTrafficSuccessQt=t.Wc().value:t.ha(i);break;case 42:i==r.Ss.Os?this.p2pAgenTrafficFailureQt=t.Wc().value:t.ha(i);break;case 43:i==r.Ss.Cs?this.respP2pOtherN=t.pa().value:t.ha(i);break;case 44:i==r.Ss.Cs?this.lCacheRespN=t.pa().value:t.ha(i);break;case 45:i==r.Ss.Os?this.lCacheRespQt=t.Wc().value:t.ha(i);break;case 46:i==r.Ss.Os?this.p2pOutSiteLowPrio=t.Wc().value:t.ha(i);break;default:t.ha(i)}t.ua()}t.la()},hive.snapshots.Traffic.prototype.write=function(t){t.da("Traffic"),null!==this.reqN&&void 0!==this.reqN&&(t.fa("reqN",r.Ss.Cs,1),t.ya(this.reqN),t.ga()),null!==this.respFallbackN&&void 0!==this.respFallbackN&&(t.fa("respFallbackN",r.Ss.Rs,2),t.Cc(this.respFallbackN),t.ga()),null!==this.respFallbackErrN&&void 0!==this.respFallbackErrN&&(t.fa("respFallbackErrN",r.Ss.Cs,3),t.ya(this.respFallbackErrN),t.ga()),null!==this.respP2pN&&void 0!==this.respP2pN&&(t.fa("respP2pN",r.Ss.Rs,4),t.Cc(this.respP2pN),t.ga()),null!==this.reqOtherN&&void 0!==this.reqOtherN&&(t.fa("reqOtherN",r.Ss.Cs,5),t.ya(this.reqOtherN),t.ga()),null!==this.respFallbackOtherN&&void 0!==this.respFallbackOtherN&&(t.fa("respFallbackOtherN",r.Ss.Cs,6),t.ya(this.respFallbackOtherN),t.ga()),null!==this.respFallbackOthertErrN&&void 0!==this.respFallbackOthertErrN&&(t.fa("respFallbackOthertErrN",r.Ss.Cs,7),t.ya(this.respFallbackOthertErrN),t.ga()),null!==this.srcReqN&&void 0!==this.srcReqN&&(t.fa("srcReqN",r.Ss.Cs,8),t.ya(this.srcReqN),t.ga()),null!==this.srcRespN&&void 0!==this.srcRespN&&(t.fa("srcRespN",r.Ss.Cs,9),t.ya(this.srcRespN),t.ga()),null!==this.srcRespErrN&&void 0!==this.srcRespErrN&&(t.fa("srcRespErrN",r.Ss.Cs,10),t.ya(this.srcRespErrN),t.ga()),null!==this.srcReqQt&&void 0!==this.srcReqQt&&(t.fa("srcReqQt",r.Ss.Os,11),t.kc(this.srcReqQt),t.ga()),null!==this.srcRespQt&&void 0!==this.srcRespQt&&(t.fa("srcRespQt",r.Ss.Os,12),t.kc(this.srcRespQt),t.ga()),null!==this.srcOverQt&&void 0!==this.srcOverQt&&(t.fa("srcOverQt",r.Ss.Os,13),t.kc(this.srcOverQt),t.ga()),null!==this.srcOtherReqN&&void 0!==this.srcOtherReqN&&(t.fa("srcOtherReqN",r.Ss.Cs,14),t.ya(this.srcOtherReqN),t.ga()),null!==this.srcOtherRespN&&void 0!==this.srcOtherRespN&&(t.fa("srcOtherRespN",r.Ss.Cs,15),t.ya(this.srcOtherRespN),t.ga()),null!==this.srcOtherRespErrN&&void 0!==this.srcOtherRespErrN&&(t.fa("srcOtherRespErrN",r.Ss.Cs,16),t.ya(this.srcOtherRespErrN),t.ga()),null!==this.srcOtherReqQt&&void 0!==this.srcOtherReqQt&&(t.fa("srcOtherReqQt",r.Ss.Os,17),t.kc(this.srcOtherReqQt),t.ga()),null!==this.srcOtherRespQt&&void 0!==this.srcOtherRespQt&&(t.fa("srcOtherRespQt",r.Ss.Os,18),t.kc(this.srcOtherRespQt),t.ga()),null!==this.srcOtherOverQt&&void 0!==this.srcOtherOverQt&&(t.fa("srcOtherOverQt",r.Ss.Os,19),t.kc(this.srcOtherOverQt),t.ga()),null!==this.p2pSubReqN&&void 0!==this.p2pSubReqN&&(t.fa("p2pSubReqN",r.Ss.Cs,20),t.ya(this.p2pSubReqN),t.ga()),null!==this.p2pSubRespN&&void 0!==this.p2pSubRespN&&(t.fa("p2pSubRespN",r.Ss.Cs,21),t.ya(this.p2pSubRespN),t.ga()),null!==this.p2pSubRespPartN&&void 0!==this.p2pSubRespPartN&&(t.fa("p2pSubRespPartN",r.Ss.Rs,22),t.Cc(this.p2pSubRespPartN),t.ga()),null!==this.p2pSubRespErrN&&void 0!==this.p2pSubRespErrN&&(t.fa("p2pSubRespErrN",r.Ss.Rs,23),t.Cc(this.p2pSubRespErrN),t.ga()),null!==this.p2pSubRespExpN&&void 0!==this.p2pSubRespExpN&&(t.fa("p2pSubRespExpN",r.Ss.Cs,24),t.ya(this.p2pSubRespExpN),t.ga()),null!==this.p2pSubReqQt&&void 0!==this.p2pSubReqQt&&(t.fa("p2pSubReqQt",r.Ss.Os,25),t.kc(this.p2pSubReqQt),t.ga()),null!==this.p2pSubRespQt&&void 0!==this.p2pSubRespQt&&(t.fa("p2pSubRespQt",r.Ss.Os,26),t.kc(this.p2pSubRespQt),t.ga()),null!==this.p2pDirectQt&&void 0!==this.p2pDirectQt&&(t.fa("p2pDirectQt",r.Ss.Os,27),t.kc(this.p2pDirectQt),t.ga()),null!==this.p2pRelayQt&&void 0!==this.p2pRelayQt&&(t.fa("p2pRelayQt",r.Ss.Os,28),t.kc(this.p2pRelayQt),t.ga()),null!==this.p2pNatQt&&void 0!==this.p2pNatQt&&(t.fa("p2pNatQt",r.Ss.Os,29),t.kc(this.p2pNatQt),t.ga()),null!==this.p2pUdpbQt&&void 0!==this.p2pUdpbQt&&(t.fa("p2pUdpbQt",r.Ss.Os,30),t.kc(this.p2pUdpbQt),t.ga()),null!==this.fallAgentRespN&&void 0!==this.fallAgentRespN&&(t.fa("fallAgentRespN",r.Ss.Cs,31),t.ya(this.fallAgentRespN),t.ga()),null!==this.fallAgentPredHitN&&void 0!==this.fallAgentPredHitN&&(t.fa("fallAgentPredHitN",r.Ss.Cs,32),t.ya(this.fallAgentPredHitN),t.ga()),null!==this.fallAgentFailedRespN&&void 0!==this.fallAgentFailedRespN&&(t.fa("fallAgentFailedRespN",r.Ss.Cs,33),t.ya(this.fallAgentFailedRespN),t.ga()),null!==this.fallAgentPredMissN&&void 0!==this.fallAgentPredMissN&&(t.fa("fallAgentPredMissN",r.Ss.Cs,34),t.ya(this.fallAgentPredMissN),t.ga()),null!==this.fallAgentPredPartialHitN&&void 0!==this.fallAgentPredPartialHitN&&(t.fa("fallAgentPredPartialHitN",r.Ss.Cs,35),t.ya(this.fallAgentPredPartialHitN),t.ga()),null!==this.fallAgenTrafficSuccessQt&&void 0!==this.fallAgenTrafficSuccessQt&&(t.fa("fallAgenTrafficSuccessQt",r.Ss.Os,36),t.kc(this.fallAgenTrafficSuccessQt),t.ga()),null!==this.fallAgenTrafficFailureQt&&void 0!==this.fallAgenTrafficFailureQt&&(t.fa("fallAgenTrafficFailureQt",r.Ss.Os,37),t.kc(this.fallAgenTrafficFailureQt),t.ga()),null!==this.p2pAgentPredHitN&&void 0!==this.p2pAgentPredHitN&&(t.fa("p2pAgentPredHitN",r.Ss.Cs,38),t.ya(this.p2pAgentPredHitN),t.ga()),null!==this.p2pAgentPredMissN&&void 0!==this.p2pAgentPredMissN&&(t.fa("p2pAgentPredMissN",r.Ss.Cs,39),t.ya(this.p2pAgentPredMissN),t.ga()),null!==this.p2pAgentPredPartialHitN&&void 0!==this.p2pAgentPredPartialHitN&&(t.fa("p2pAgentPredPartialHitN",r.Ss.Cs,40),t.ya(this.p2pAgentPredPartialHitN),t.ga()),null!==this.p2pAgenTrafficSuccessQt&&void 0!==this.p2pAgenTrafficSuccessQt&&(t.fa("p2pAgenTrafficSuccessQt",r.Ss.Os,41),t.kc(this.p2pAgenTrafficSuccessQt),t.ga()),null!==this.p2pAgenTrafficFailureQt&&void 0!==this.p2pAgenTrafficFailureQt&&(t.fa("p2pAgenTrafficFailureQt",r.Ss.Os,42),t.kc(this.p2pAgenTrafficFailureQt),t.ga()),null!==this.respP2pOtherN&&void 0!==this.respP2pOtherN&&(t.fa("respP2pOtherN",r.Ss.Cs,43),t.ya(this.respP2pOtherN),t.ga()),null!==this.lCacheRespN&&void 0!==this.lCacheRespN&&(t.fa("lCacheRespN",r.Ss.Cs,44),t.ya(this.lCacheRespN),t.ga()),null!==this.lCacheRespQt&&void 0!==this.lCacheRespQt&&(t.fa("lCacheRespQt",r.Ss.Os,45),t.kc(this.lCacheRespQt),t.ga()),null!==this.p2pOutSiteLowPrio&&void 0!==this.p2pOutSiteLowPrio&&(t.fa("p2pOutSiteLowPrio",r.Ss.Os,46),t.kc(this.p2pOutSiteLowPrio),t.ga()),t.ma(),t.wa()},hive.snapshots.Metrics=function(t){this.upBW=null,this.downBW=null,this.memN=null,this.prtInN=null,this.prtOutN=null,this.initVideoBufQt=null,this.videoAvgBufQt=null,this.videoBufQt=null,this.videoBufN=null,this.initAudioBufQt=null,this.audioAvgBufQt=null,this.audioBufQt=null,this.audioBufN=null,this.bitrateUpN=null,this.bitrateDwnN=null,this.delay=null,this.delayEnforcement=null,this.lookupReqEstablished=null,this.lookupReqAccept=null,this.fallbackAvgTp=null,this.srcThroughput=null,this.diskReadTimeout=null,this.diskReadRate=null,this.diskStoreRate=null,this.diskRemoveRate=null,this.diskCacheSize=null,this.clientBufferMs=null,this.lookupTotal=null,this.lookupNotFound=null,this.lookupFailed=null,this.lookupLatency=null,this.trackerFailed=null,this.trackerLatency=null,this.snapshotFailed=null,this.snapshotLatency=null,t&&(void 0!==t.upBW&&(this.upBW=t.upBW),void 0!==t.downBW&&(this.downBW=t.downBW),void 0!==t.memN&&(this.memN=t.memN),void 0!==t.prtInN&&(this.prtInN=t.prtInN),void 0!==t.prtOutN&&(this.prtOutN=t.prtOutN),void 0!==t.initVideoBufQt&&(this.initVideoBufQt=t.initVideoBufQt),void 0!==t.videoAvgBufQt&&(this.videoAvgBufQt=t.videoAvgBufQt),void 0!==t.videoBufQt&&(this.videoBufQt=t.videoBufQt),void 0!==t.videoBufN&&(this.videoBufN=t.videoBufN),void 0!==t.initAudioBufQt&&(this.initAudioBufQt=t.initAudioBufQt),void 0!==t.audioAvgBufQt&&(this.audioAvgBufQt=t.audioAvgBufQt),void 0!==t.audioBufQt&&(this.audioBufQt=t.audioBufQt),void 0!==t.audioBufN&&(this.audioBufN=t.audioBufN),void 0!==t.bitrateUpN&&(this.bitrateUpN=t.bitrateUpN),void 0!==t.bitrateDwnN&&(this.bitrateDwnN=t.bitrateDwnN),void 0!==t.delay&&(this.delay=t.delay),void 0!==t.delayEnforcement&&(this.delayEnforcement=t.delayEnforcement),void 0!==t.lookupReqEstablished&&(this.lookupReqEstablished=t.lookupReqEstablished),void 0!==t.lookupReqAccept&&(this.lookupReqAccept=t.lookupReqAccept),void 0!==t.fallbackAvgTp&&(this.fallbackAvgTp=t.fallbackAvgTp),void 0!==t.srcThroughput&&(this.srcThroughput=t.srcThroughput),void 0!==t.diskReadTimeout&&(this.diskReadTimeout=t.diskReadTimeout),void 0!==t.diskReadRate&&(this.diskReadRate=t.diskReadRate),void 0!==t.diskStoreRate&&(this.diskStoreRate=t.diskStoreRate),void 0!==t.diskRemoveRate&&(this.diskRemoveRate=t.diskRemoveRate),void 0!==t.diskCacheSize&&(this.diskCacheSize=t.diskCacheSize),
void 0!==t.clientBufferMs&&(this.clientBufferMs=t.clientBufferMs),void 0!==t.lookupTotal&&(this.lookupTotal=t.lookupTotal),void 0!==t.lookupNotFound&&(this.lookupNotFound=t.lookupNotFound),void 0!==t.lookupFailed&&(this.lookupFailed=t.lookupFailed),void 0!==t.lookupLatency&&(this.lookupLatency=t.lookupLatency),void 0!==t.trackerFailed&&(this.trackerFailed=t.trackerFailed),void 0!==t.trackerLatency&&(this.trackerLatency=t.trackerLatency),void 0!==t.snapshotFailed&&(this.snapshotFailed=t.snapshotFailed),void 0!==t.snapshotLatency&&(this.snapshotLatency=t.snapshotLatency))},hive.snapshots.Metrics.prototype={},hive.snapshots.Metrics.prototype.read=function(t){for(t.Dc();;){var e=t.oa(),i=(e.xc,e.sa),n=e.aa;if(i==r.Ss.bs)break;switch(n){case 1:i==r.Ss.Cs?this.upBW=t.pa().value:t.ha(i);break;case 2:i==r.Ss.Cs?this.downBW=t.pa().value:t.ha(i);break;case 3:i==r.Ss.Cs?this.memN=t.pa().value:t.ha(i);break;case 4:i==r.Ss.Cs?this.prtInN=t.pa().value:t.ha(i);break;case 5:i==r.Ss.Cs?this.prtOutN=t.pa().value:t.ha(i);break;case 6:i==r.Ss.Os?this.initVideoBufQt=t.Wc().value:t.ha(i);break;case 7:i==r.Ss.Rs?this.videoAvgBufQt=t.$c().value:t.ha(i);break;case 8:i==r.Ss.Os?this.videoBufQt=t.Wc().value:t.ha(i);break;case 9:i==r.Ss.Cs?this.videoBufN=t.pa().value:t.ha(i);break;case 10:i==r.Ss.Cs?this.initAudioBufQt=t.pa().value:t.ha(i);break;case 11:i==r.Ss.Rs?this.audioAvgBufQt=t.$c().value:t.ha(i);break;case 12:i==r.Ss.Os?this.audioBufQt=t.Wc().value:t.ha(i);break;case 13:i==r.Ss.Cs?this.audioBufN=t.pa().value:t.ha(i);break;case 14:i==r.Ss.Cs?this.bitrateUpN=t.pa().value:t.ha(i);break;case 15:i==r.Ss.Cs?this.bitrateDwnN=t.pa().value:t.ha(i);break;case 16:i==r.Ss.Cs?this.delay=t.pa().value:t.ha(i);break;case 17:i==r.Ss.Cs?this.delayEnforcement=t.pa().value:t.ha(i);break;case 18:i==r.Ss.Cs?this.lookupReqEstablished=t.pa().value:t.ha(i);break;case 19:i==r.Ss.Cs?this.lookupReqAccept=t.pa().value:t.ha(i);break;case 20:i==r.Ss.Rs?this.fallbackAvgTp=t.$c().value:t.ha(i);break;case 21:i==r.Ss.Rs?this.srcThroughput=t.$c().value:t.ha(i);break;case 22:i==r.Ss.Cs?this.diskReadTimeout=t.pa().value:t.ha(i);break;case 23:i==r.Ss.Rs?this.diskReadRate=t.$c().value:t.ha(i);break;case 24:i==r.Ss.Rs?this.diskStoreRate=t.$c().value:t.ha(i);break;case 25:i==r.Ss.Rs?this.diskRemoveRate=t.$c().value:t.ha(i);break;case 26:i==r.Ss.Os?this.diskCacheSize=t.Wc().value:t.ha(i);break;case 27:i==r.Ss.Cs?this.clientBufferMs=t.pa().value:t.ha(i);break;case 28:i==r.Ss.Cs?this.lookupTotal=t.pa().value:t.ha(i);break;case 29:i==r.Ss.Cs?this.lookupNotFound=t.pa().value:t.ha(i);break;case 30:i==r.Ss.Cs?this.lookupFailed=t.pa().value:t.ha(i);break;case 31:i==r.Ss.Cs?this.lookupLatency=t.pa().value:t.ha(i);break;case 32:i==r.Ss.Cs?this.trackerFailed=t.pa().value:t.ha(i);break;case 33:i==r.Ss.Cs?this.trackerLatency=t.pa().value:t.ha(i);break;case 34:i==r.Ss.Cs?this.snapshotFailed=t.pa().value:t.ha(i);break;case 35:i==r.Ss.Cs?this.snapshotLatency=t.pa().value:t.ha(i);break;default:t.ha(i)}t.ua()}t.la()},hive.snapshots.Metrics.prototype.write=function(t){t.da("Metrics"),null!==this.upBW&&void 0!==this.upBW&&(t.fa("upBW",r.Ss.Cs,1),t.ya(this.upBW),t.ga()),null!==this.downBW&&void 0!==this.downBW&&(t.fa("downBW",r.Ss.Cs,2),t.ya(this.downBW),t.ga()),null!==this.memN&&void 0!==this.memN&&(t.fa("memN",r.Ss.Cs,3),t.ya(this.memN),t.ga()),null!==this.prtInN&&void 0!==this.prtInN&&(t.fa("prtInN",r.Ss.Cs,4),t.ya(this.prtInN),t.ga()),null!==this.prtOutN&&void 0!==this.prtOutN&&(t.fa("prtOutN",r.Ss.Cs,5),t.ya(this.prtOutN),t.ga()),null!==this.initVideoBufQt&&void 0!==this.initVideoBufQt&&(t.fa("initVideoBufQt",r.Ss.Os,6),t.kc(this.initVideoBufQt),t.ga()),null!==this.videoAvgBufQt&&void 0!==this.videoAvgBufQt&&(t.fa("videoAvgBufQt",r.Ss.Rs,7),t.Cc(this.videoAvgBufQt),t.ga()),null!==this.videoBufQt&&void 0!==this.videoBufQt&&(t.fa("videoBufQt",r.Ss.Os,8),t.kc(this.videoBufQt),t.ga()),null!==this.videoBufN&&void 0!==this.videoBufN&&(t.fa("videoBufN",r.Ss.Cs,9),t.ya(this.videoBufN),t.ga()),null!==this.initAudioBufQt&&void 0!==this.initAudioBufQt&&(t.fa("initAudioBufQt",r.Ss.Cs,10),t.ya(this.initAudioBufQt),t.ga()),null!==this.audioAvgBufQt&&void 0!==this.audioAvgBufQt&&(t.fa("audioAvgBufQt",r.Ss.Rs,11),t.Cc(this.audioAvgBufQt),t.ga()),null!==this.audioBufQt&&void 0!==this.audioBufQt&&(t.fa("audioBufQt",r.Ss.Os,12),t.kc(this.audioBufQt),t.ga()),null!==this.audioBufN&&void 0!==this.audioBufN&&(t.fa("audioBufN",r.Ss.Cs,13),t.ya(this.audioBufN),t.ga()),null!==this.bitrateUpN&&void 0!==this.bitrateUpN&&(t.fa("bitrateUpN",r.Ss.Cs,14),t.ya(this.bitrateUpN),t.ga()),null!==this.bitrateDwnN&&void 0!==this.bitrateDwnN&&(t.fa("bitrateDwnN",r.Ss.Cs,15),t.ya(this.bitrateDwnN),t.ga()),null!==this.delay&&void 0!==this.delay&&(t.fa("delay",r.Ss.Cs,16),t.ya(this.delay),t.ga()),null!==this.delayEnforcement&&void 0!==this.delayEnforcement&&(t.fa("delayEnforcement",r.Ss.Cs,17),t.ya(this.delayEnforcement),t.ga()),null!==this.lookupReqEstablished&&void 0!==this.lookupReqEstablished&&(t.fa("lookupReqEstablished",r.Ss.Cs,18),t.ya(this.lookupReqEstablished),t.ga()),null!==this.lookupReqAccept&&void 0!==this.lookupReqAccept&&(t.fa("lookupReqAccept",r.Ss.Cs,19),t.ya(this.lookupReqAccept),t.ga()),null!==this.fallbackAvgTp&&void 0!==this.fallbackAvgTp&&(t.fa("fallbackAvgTp",r.Ss.Rs,20),t.Cc(this.fallbackAvgTp),t.ga()),null!==this.srcThroughput&&void 0!==this.srcThroughput&&(t.fa("srcThroughput",r.Ss.Rs,21),t.Cc(this.srcThroughput),t.ga()),null!==this.diskReadTimeout&&void 0!==this.diskReadTimeout&&(t.fa("diskReadTimeout",r.Ss.Cs,22),t.ya(this.diskReadTimeout),t.ga()),null!==this.diskReadRate&&void 0!==this.diskReadRate&&(t.fa("diskReadRate",r.Ss.Rs,23),t.Cc(this.diskReadRate),t.ga()),null!==this.diskStoreRate&&void 0!==this.diskStoreRate&&(t.fa("diskStoreRate",r.Ss.Rs,24),t.Cc(this.diskStoreRate),t.ga()),null!==this.diskRemoveRate&&void 0!==this.diskRemoveRate&&(t.fa("diskRemoveRate",r.Ss.Rs,25),t.Cc(this.diskRemoveRate),t.ga()),null!==this.diskCacheSize&&void 0!==this.diskCacheSize&&(t.fa("diskCacheSize",r.Ss.Os,26),t.kc(this.diskCacheSize),t.ga()),null!==this.clientBufferMs&&void 0!==this.clientBufferMs&&(t.fa("clientBufferMs",r.Ss.Cs,27),t.ya(this.clientBufferMs),t.ga()),null!==this.lookupTotal&&void 0!==this.lookupTotal&&(t.fa("lookupTotal",r.Ss.Cs,28),t.ya(this.lookupTotal),t.ga()),null!==this.lookupNotFound&&void 0!==this.lookupNotFound&&(t.fa("lookupNotFound",r.Ss.Cs,29),t.ya(this.lookupNotFound),t.ga()),null!==this.lookupFailed&&void 0!==this.lookupFailed&&(t.fa("lookupFailed",r.Ss.Cs,30),t.ya(this.lookupFailed),t.ga()),null!==this.lookupLatency&&void 0!==this.lookupLatency&&(t.fa("lookupLatency",r.Ss.Cs,31),t.ya(this.lookupLatency),t.ga()),null!==this.trackerFailed&&void 0!==this.trackerFailed&&(t.fa("trackerFailed",r.Ss.Cs,32),t.ya(this.trackerFailed),t.ga()),null!==this.trackerLatency&&void 0!==this.trackerLatency&&(t.fa("trackerLatency",r.Ss.Cs,33),t.ya(this.trackerLatency),t.ga()),null!==this.snapshotFailed&&void 0!==this.snapshotFailed&&(t.fa("snapshotFailed",r.Ss.Cs,34),t.ya(this.snapshotFailed),t.ga()),null!==this.snapshotLatency&&void 0!==this.snapshotLatency&&(t.fa("snapshotLatency",r.Ss.Cs,35),t.ya(this.snapshotLatency),t.ga()),t.ma(),t.wa()},hive.snapshots.PartnerTraffic=function(t){this.p2pSuccReq=null,this.p2pFailReq=null,this.p2pPartReq=null,this.p2pSuccReceived=null,this.p2pSuccReceivedLow=null,this.p2pFailReceived=null,this.p2pSuccResp=null,this.p2pFailResp=null,this.p2pPartResp=null,this.p2pSuccSent=null,this.p2pSuccSentLow=null,this.p2pFailSent=null,t&&(void 0!==t.p2pSuccReq&&(this.p2pSuccReq=t.p2pSuccReq),void 0!==t.p2pFailReq&&(this.p2pFailReq=t.p2pFailReq),void 0!==t.p2pPartReq&&(this.p2pPartReq=t.p2pPartReq),void 0!==t.p2pSuccReceived&&(this.p2pSuccReceived=t.p2pSuccReceived),void 0!==t.p2pSuccReceivedLow&&(this.p2pSuccReceivedLow=t.p2pSuccReceivedLow),void 0!==t.p2pFailReceived&&(this.p2pFailReceived=t.p2pFailReceived),void 0!==t.p2pSuccResp&&(this.p2pSuccResp=t.p2pSuccResp),void 0!==t.p2pFailResp&&(this.p2pFailResp=t.p2pFailResp),void 0!==t.p2pPartResp&&(this.p2pPartResp=t.p2pPartResp),void 0!==t.p2pSuccSent&&(this.p2pSuccSent=t.p2pSuccSent),void 0!==t.p2pSuccSentLow&&(this.p2pSuccSentLow=t.p2pSuccSentLow),void 0!==t.p2pFailSent&&(this.p2pFailSent=t.p2pFailSent))},hive.snapshots.PartnerTraffic.prototype={},hive.snapshots.PartnerTraffic.prototype.read=function(t){for(t.Dc();;){var e=t.oa(),i=(e.xc,e.sa),n=e.aa;if(i==r.Ss.bs)break;switch(n){case 1:i==r.Ss.Os?this.p2pSuccReq=t.Wc().value:t.ha(i);break;case 2:i==r.Ss.Os?this.p2pFailReq=t.Wc().value:t.ha(i);break;case 3:i==r.Ss.Os?this.p2pPartReq=t.Wc().value:t.ha(i);break;case 4:i==r.Ss.Os?this.p2pSuccReceived=t.Wc().value:t.ha(i);break;case 5:i==r.Ss.Os?this.p2pSuccReceivedLow=t.Wc().value:t.ha(i);break;case 10:i==r.Ss.Os?this.p2pFailReceived=t.Wc().value:t.ha(i);break;case 6:i==r.Ss.Os?this.p2pSuccResp=t.Wc().value:t.ha(i);break;case 11:i==r.Ss.Os?this.p2pFailResp=t.Wc().value:t.ha(i);break;case 7:i==r.Ss.Os?this.p2pPartResp=t.Wc().value:t.ha(i);break;case 8:i==r.Ss.Os?this.p2pSuccSent=t.Wc().value:t.ha(i);break;case 9:i==r.Ss.Os?this.p2pSuccSentLow=t.Wc().value:t.ha(i);break;case 12:i==r.Ss.Os?this.p2pFailSent=t.Wc().value:t.ha(i);break;default:t.ha(i)}t.ua()}t.la()},hive.snapshots.PartnerTraffic.prototype.write=function(t){t.da("PartnerTraffic"),null!==this.p2pSuccReq&&void 0!==this.p2pSuccReq&&(t.fa("p2pSuccReq",r.Ss.Os,1),t.kc(this.p2pSuccReq),t.ga()),null!==this.p2pFailReq&&void 0!==this.p2pFailReq&&(t.fa("p2pFailReq",r.Ss.Os,2),t.kc(this.p2pFailReq),t.ga()),null!==this.p2pPartReq&&void 0!==this.p2pPartReq&&(t.fa("p2pPartReq",r.Ss.Os,3),t.kc(this.p2pPartReq),t.ga()),null!==this.p2pSuccReceived&&void 0!==this.p2pSuccReceived&&(t.fa("p2pSuccReceived",r.Ss.Os,4),t.kc(this.p2pSuccReceived),t.ga()),null!==this.p2pSuccReceivedLow&&void 0!==this.p2pSuccReceivedLow&&(t.fa("p2pSuccReceivedLow",r.Ss.Os,5),t.kc(this.p2pSuccReceivedLow),t.ga()),null!==this.p2pFailReceived&&void 0!==this.p2pFailReceived&&(t.fa("p2pFailReceived",r.Ss.Os,10),t.kc(this.p2pFailReceived),t.ga()),null!==this.p2pSuccResp&&void 0!==this.p2pSuccResp&&(t.fa("p2pSuccResp",r.Ss.Os,6),t.kc(this.p2pSuccResp),t.ga()),null!==this.p2pFailResp&&void 0!==this.p2pFailResp&&(t.fa("p2pFailResp",r.Ss.Os,11),t.kc(this.p2pFailResp),t.ga()),null!==this.p2pPartResp&&void 0!==this.p2pPartResp&&(t.fa("p2pPartResp",r.Ss.Os,7),t.kc(this.p2pPartResp),t.ga()),null!==this.p2pSuccSent&&void 0!==this.p2pSuccSent&&(t.fa("p2pSuccSent",r.Ss.Os,8),t.kc(this.p2pSuccSent),t.ga()),null!==this.p2pSuccSentLow&&void 0!==this.p2pSuccSentLow&&(t.fa("p2pSuccSentLow",r.Ss.Os,9),t.kc(this.p2pSuccSentLow),t.ga()),null!==this.p2pFailSent&&void 0!==this.p2pFailSent&&(t.fa("p2pFailSent",r.Ss.Os,12),t.kc(this.p2pFailSent),t.ga()),t.ma(),t.wa()},hive.snapshots.PartnerMetrics=function(t){this.rateReceived=null,this.rateSent=null,this.handshakeDelay=null,t&&(void 0!==t.rateReceived&&(this.rateReceived=t.rateReceived),void 0!==t.rateSent&&(this.rateSent=t.rateSent),void 0!==t.handshakeDelay&&(this.handshakeDelay=t.handshakeDelay))},hive.snapshots.PartnerMetrics.prototype={},hive.snapshots.PartnerMetrics.prototype.read=function(t){for(t.Dc();;){var e=t.oa(),i=(e.xc,e.sa),n=e.aa;if(i==r.Ss.bs)break;switch(n){case 1:i==r.Ss.Rs?this.rateReceived=t.$c().value:t.ha(i);break;case 2:i==r.Ss.Rs?this.rateSent=t.$c().value:t.ha(i);break;case 3:i==r.Ss.Os?this.handshakeDelay=t.Wc().value:t.ha(i);break;default:t.ha(i)}t.ua()}t.la()},hive.snapshots.PartnerMetrics.prototype.write=function(t){t.da("PartnerMetrics"),null!==this.rateReceived&&void 0!==this.rateReceived&&(t.fa("rateReceived",r.Ss.Rs,1),t.Cc(this.rateReceived),t.ga()),null!==this.rateSent&&void 0!==this.rateSent&&(t.fa("rateSent",r.Ss.Rs,2),t.Cc(this.rateSent),t.ga()),null!==this.handshakeDelay&&void 0!==this.handshakeDelay&&(t.fa("handshakeDelay",r.Ss.Os,3),t.kc(this.handshakeDelay),t.ga()),t.ma(),t.wa()},hive.snapshots.ConnectivityInfo=function(t){this.upBW=null,this.downBW=null,this.externalAs=null,this.internalAs=null,this.publicIp=null,this.privateIp=null,t&&(void 0!==t.upBW&&(this.upBW=t.upBW),void 0!==t.downBW&&(this.downBW=t.downBW),void 0!==t.externalAs&&(this.externalAs=t.externalAs),void 0!==t.internalAs&&(this.internalAs=t.internalAs),void 0!==t.publicIp&&(this.publicIp=t.publicIp),void 0!==t.privateIp&&(this.privateIp=t.privateIp))},hive.snapshots.ConnectivityInfo.prototype={},hive.snapshots.ConnectivityInfo.prototype.read=function(t){for(t.Dc();;){var e=t.oa(),i=(e.xc,e.sa),n=e.aa;if(i==r.Ss.bs)break;switch(n){case 1:i==r.Ss.Cs?this.upBW=t.pa().value:t.ha(i);break;case 2:i==r.Ss.Cs?this.downBW=t.pa().value:t.ha(i);break;case 3:i==r.Ss.Cs?this.externalAs=t.pa().value:t.ha(i);break;case 4:i==r.Ss.Cs?this.internalAs=t.pa().value:t.ha(i);break;case 5:i==r.Ss.Ps?this.publicIp=t.ca().value:t.ha(i);break;case 6:i==r.Ss.Ps?this.privateIp=t.ca().value:t.ha(i);break;default:t.ha(i)}t.ua()}t.la()},hive.snapshots.ConnectivityInfo.prototype.write=function(t){t.da("ConnectivityInfo"),null!==this.upBW&&void 0!==this.upBW&&(t.fa("upBW",r.Ss.Cs,1),t.ya(this.upBW),t.ga()),null!==this.downBW&&void 0!==this.downBW&&(t.fa("downBW",r.Ss.Cs,2),t.ya(this.downBW),t.ga()),null!==this.externalAs&&void 0!==this.externalAs&&(t.fa("externalAs",r.Ss.Cs,3),t.ya(this.externalAs),t.ga()),null!==this.internalAs&&void 0!==this.internalAs&&(t.fa("internalAs",r.Ss.Cs,4),t.ya(this.internalAs),t.ga()),null!==this.publicIp&&void 0!==this.publicIp&&(t.fa("publicIp",r.Ss.Ps,5),t.va(this.publicIp),t.ga()),null!==this.privateIp&&void 0!==this.privateIp&&(t.fa("privateIp",r.Ss.Ps,6),t.va(this.privateIp),t.ga()),t.ma(),t.wa()},hive.snapshots.Partner=function(t){this.connInfo=null,this.traffic=null,this.metrics=null,this.inPart=null,this.outPart=null,this.udp=null,t&&(void 0!==t.connInfo&&(this.connInfo=t.connInfo),void 0!==t.traffic&&(this.traffic=t.traffic),void 0!==t.metrics&&(this.metrics=t.metrics),void 0!==t.inPart&&(this.inPart=t.inPart),void 0!==t.outPart&&(this.outPart=t.outPart),void 0!==t.udp&&(this.udp=t.udp))},hive.snapshots.Partner.prototype={},hive.snapshots.Partner.prototype.read=function(t){for(t.Dc();;){var e=t.oa(),i=(e.xc,e.sa),n=e.aa;if(i==r.Ss.bs)break;switch(n){case 1:i==r.Ss.Ns?(this.connInfo=new hive.snapshots.ConnectivityInfo,this.connInfo.read(t)):t.ha(i);break;case 2:i==r.Ss.Ns?(this.traffic=new hive.snapshots.PartnerTraffic,this.traffic.read(t)):t.ha(i);break;case 3:i==r.Ss.Ns?(this.metrics=new hive.snapshots.PartnerMetrics,this.metrics.read(t)):t.ha(i);break;case 4:i==r.Ss.BOOL?this.inPart=t.Kc().value:t.ha(i);break;case 5:i==r.Ss.BOOL?this.outPart=t.Kc().value:t.ha(i);break;case 6:i==r.Ss.BOOL?this.udp=t.Kc().value:t.ha(i);break;default:t.ha(i)}t.ua()}t.la()},hive.snapshots.Partner.prototype.write=function(t){t.da("Partner"),null!==this.connInfo&&void 0!==this.connInfo&&(t.fa("connInfo",r.Ss.Ns,1),this.connInfo.write(t),t.ga()),null!==this.traffic&&void 0!==this.traffic&&(t.fa("traffic",r.Ss.Ns,2),this.traffic.write(t),t.ga()),null!==this.metrics&&void 0!==this.metrics&&(t.fa("metrics",r.Ss.Ns,3),this.metrics.write(t),t.ga()),null!==this.inPart&&void 0!==this.inPart&&(t.fa("inPart",r.Ss.BOOL,4),t.Ec(this.inPart),t.ga()),null!==this.outPart&&void 0!==this.outPart&&(t.fa("outPart",r.Ss.BOOL,5),t.Ec(this.outPart),t.ga()),null!==this.udp&&void 0!==this.udp&&(t.fa("udp",r.Ss.BOOL,6),t.Ec(this.udp),t.ga()),t.ma(),t.wa()},hive.snapshots.StreamInfo=function(t){this.url=null,this.streamType=null,this.streamProtocol=null,t&&(void 0!==t.url&&(this.url=t.url),void 0!==t.streamType&&(this.streamType=t.streamType),void 0!==t.streamProtocol&&(this.streamProtocol=t.streamProtocol))},hive.snapshots.StreamInfo.prototype={},hive.snapshots.StreamInfo.prototype.read=function(t){for(t.Dc();;){var e=t.oa(),i=(e.xc,e.sa),n=e.aa;if(i==r.Ss.bs)break;switch(n){case 1:i==r.Ss.Ps?this.url=t.ca().value:t.ha(i);break;case 2:i==r.Ss.Cs?this.streamType=t.pa().value:t.ha(i);break;case 3:i==r.Ss.Cs?this.streamProtocol=t.pa().value:t.ha(i);break;default:t.ha(i)}t.ua()}t.la()},hive.snapshots.StreamInfo.prototype.write=function(t){t.da("StreamInfo"),null!==this.url&&void 0!==this.url&&(t.fa("url",r.Ss.Ps,1),t.va(this.url),t.ga()),null!==this.streamType&&void 0!==this.streamType&&(t.fa("streamType",r.Ss.Cs,2),t.ya(this.streamType),t.ga()),null!==this.streamProtocol&&void 0!==this.streamProtocol&&(t.fa("streamProtocol",r.Ss.Cs,3),t.ya(this.streamProtocol),t.ga()),t.ma(),t.wa()},hive.snapshots.ClientInfo=function(t){this.clientType=null,this.majorVersion=null,this.minorVersion=null,this.patchVersion=null,t&&(void 0!==t.clientType&&(this.clientType=t.clientType),void 0!==t.majorVersion&&(this.majorVersion=t.majorVersion),void 0!==t.minorVersion&&(this.minorVersion=t.minorVersion),void 0!==t.patchVersion&&(this.patchVersion=t.patchVersion))},hive.snapshots.ClientInfo.prototype={},hive.snapshots.ClientInfo.prototype.read=function(t){for(t.Dc();;){var e=t.oa(),i=(e.xc,e.sa),n=e.aa;if(i==r.Ss.bs)break;switch(n){case 1:i==r.Ss.Cs?this.clientType=t.pa().value:t.ha(i);break;case 2:i==r.Ss.BYTE?this.majorVersion=t.Gc().value:t.ha(i);break;case 3:i==r.Ss.BYTE?this.minorVersion=t.Gc().value:t.ha(i);break;case 4:i==r.Ss.ks?this.patchVersion=t.zc().value:t.ha(i);break;default:t.ha(i)}t.ua()}t.la()},hive.snapshots.ClientInfo.prototype.write=function(t){t.da("ClientInfo"),null!==this.clientType&&void 0!==this.clientType&&(t.fa("clientType",r.Ss.Cs,1),t.ya(this.clientType),t.ga()),null!==this.majorVersion&&void 0!==this.majorVersion&&(t.fa("majorVersion",r.Ss.BYTE,2),t.Ic(this.majorVersion),t.ga()),null!==this.minorVersion&&void 0!==this.minorVersion&&(t.fa("minorVersion",r.Ss.BYTE,3),t.Ic(this.minorVersion),t.ga()),null!==this.patchVersion&&void 0!==this.patchVersion&&(t.fa("patchVersion",r.Ss.ks,4),t.Rc(this.patchVersion),t.ga()),t.ma(),t.wa()},hive.snapshots.AgentInfo=function(t){this.firstTierBitrates=null,this.secondTierBitrates=null,t&&(void 0!==t.firstTierBitrates&&(this.firstTierBitrates=t.firstTierBitrates),void 0!==t.secondTierBitrates&&(this.secondTierBitrates=t.secondTierBitrates))},hive.snapshots.AgentInfo.prototype={},hive.snapshots.AgentInfo.prototype.read=function(t){for(t.Dc();;){var e=t.oa(),i=(e.xc,e.sa),n=e.aa;if(i==r.Ss.bs)break;switch(n){case 1:if(i==r.Ss._s){var o,s=0;this.firstTierBitrates=[];var a=0;o=t.qc(),a=o.Vc,s=o.size;for(var c=0;c<s;++c){var h=null;h=t.pa().value,this.firstTierBitrates.push(h)}t.Jc()}else t.ha(i);break;case 2:if(i==r.Ss._s){var p,u=0;this.secondTierBitrates=[];var l=0;p=t.qc(),l=p.Vc,u=p.size;for(var d=0;d<u;++d){var f=null;f=t.pa().value,this.secondTierBitrates.push(f)}t.Jc()}else t.ha(i);break;default:t.ha(i)}t.ua()}t.la()},hive.snapshots.AgentInfo.prototype.write=function(t){if(t.da("AgentInfo"),null!==this.firstTierBitrates&&void 0!==this.firstTierBitrates){t.fa("firstTierBitrates",r.Ss._s,1),t.Sc(r.Ss.Cs,this.firstTierBitrates.length);for(var e in this.firstTierBitrates)this.firstTierBitrates.hasOwnProperty(e)&&(e=this.firstTierBitrates[e],t.ya(e));t.bc(),t.ga()}if(null!==this.secondTierBitrates&&void 0!==this.secondTierBitrates){t.fa("secondTierBitrates",r.Ss._s,2),t.Sc(r.Ss.Cs,this.secondTierBitrates.length);for(var i in this.secondTierBitrates)this.secondTierBitrates.hasOwnProperty(i)&&(i=this.secondTierBitrates[i],t.ya(i));t.bc(),t.ga()}t.ma(),t.wa()},hive.snapshots.TrafficKey=function(t){this.bitrate=null,this.AS=null,this.partnerGuid=null,t&&(void 0!==t.bitrate&&(this.bitrate=t.bitrate),void 0!==t.AS&&(this.AS=t.AS),void 0!==t.partnerGuid&&(this.partnerGuid=t.partnerGuid))},hive.snapshots.TrafficKey.prototype={},hive.snapshots.TrafficKey.prototype.read=function(t){for(t.Dc();;){var e=t.oa(),i=(e.xc,e.sa),n=e.aa;if(i==r.Ss.bs)break;switch(n){case 1:i==r.Ss.Cs?this.bitrate=t.pa().value:t.ha(i);break;case 2:i==r.Ss.Cs?this.AS=t.pa().value:t.ha(i);break;case 3:i==r.Ss.Ps?this.partnerGuid=t.ca().value:t.ha(i);break;default:t.ha(i)}t.ua()}t.la()},hive.snapshots.TrafficKey.prototype.write=function(t){t.da("TrafficKey"),null!==this.bitrate&&void 0!==this.bitrate&&(t.fa("bitrate",r.Ss.Cs,1),t.ya(this.bitrate),t.ga()),null!==this.AS&&void 0!==this.AS&&(t.fa("AS",r.Ss.Cs,2),t.ya(this.AS),t.ga()),null!==this.partnerGuid&&void 0!==this.partnerGuid&&(t.fa("partnerGuid",r.Ss.Ps,3),t.va(this.partnerGuid),t.ga()),t.ma(),t.wa()},hive.snapshots.PartnerKey=function(t){this.bitrate=null,this.AS=null,this.partnerGuid=null,t&&(void 0!==t.bitrate&&(this.bitrate=t.bitrate),void 0!==t.AS&&(this.AS=t.AS),void 0!==t.partnerGuid&&(this.partnerGuid=t.partnerGuid))},hive.snapshots.PartnerKey.prototype={},hive.snapshots.PartnerKey.prototype.read=function(t){for(t.Dc();;){var e=t.oa(),i=(e.xc,e.sa),n=e.aa;if(i==r.Ss.bs)break;switch(n){case 1:i==r.Ss.Cs?this.bitrate=t.pa().value:t.ha(i);break;case 2:i==r.Ss.Cs?this.AS=t.pa().value:t.ha(i);break;case 3:i==r.Ss.Ps?this.partnerGuid=t.ca().value:t.ha(i);break;default:t.ha(i)}t.ua()}t.la()},hive.snapshots.PartnerKey.prototype.write=function(t){t.da("PartnerKey"),null!==this.bitrate&&void 0!==this.bitrate&&(t.fa("bitrate",r.Ss.Cs,1),t.ya(this.bitrate),t.ga()),null!==this.AS&&void 0!==this.AS&&(t.fa("AS",r.Ss.Cs,2),t.ya(this.AS),t.ga()),null!==this.partnerGuid&&void 0!==this.partnerGuid&&(t.fa("partnerGuid",r.Ss.Ps,3),t.va(this.partnerGuid),t.ga()),t.ma(),t.wa()},hive.snapshots.Player=function(t){this.bufferingN=null,this.bufferingMs=null,this.initBufferingN=null,this.initBufferingMs=null,this.seekBufferingN=null,this.seekBufferingMs=null,this.playerBufferMs=null,t&&(void 0!==t.bufferingN&&(this.bufferingN=t.bufferingN),void 0!==t.bufferingMs&&(this.bufferingMs=t.bufferingMs),void 0!==t.initBufferingN&&(this.initBufferingN=t.initBufferingN),void 0!==t.initBufferingMs&&(this.initBufferingMs=t.initBufferingMs),void 0!==t.seekBufferingN&&(this.seekBufferingN=t.seekBufferingN),void 0!==t.seekBufferingMs&&(this.seekBufferingMs=t.seekBufferingMs),void 0!==t.playerBufferMs&&(this.playerBufferMs=t.playerBufferMs))},hive.snapshots.Player.prototype={},hive.snapshots.Player.prototype.read=function(t){for(t.Dc();;){var e=t.oa(),i=(e.xc,e.sa),n=e.aa;if(i==r.Ss.bs)break;switch(n){case 1:i==r.Ss.ks?this.bufferingN=t.zc().value:t.ha(i);break;case 2:i==r.Ss.Cs?this.bufferingMs=t.pa().value:t.ha(i);break;case 3:i==r.Ss.ks?this.initBufferingN=t.zc().value:t.ha(i);break;case 4:i==r.Ss.Cs?this.initBufferingMs=t.pa().value:t.ha(i);break;case 5:i==r.Ss.ks?this.seekBufferingN=t.zc().value:t.ha(i);break;case 6:i==r.Ss.Cs?this.seekBufferingMs=t.pa().value:t.ha(i);break;case 36:i==r.Ss.Cs?this.playerBufferMs=t.pa().value:t.ha(i);break;default:t.ha(i)}t.ua()}t.la()},hive.snapshots.Player.prototype.write=function(t){t.da("Player"),null!==this.bufferingN&&void 0!==this.bufferingN&&(t.fa("bufferingN",r.Ss.ks,1),t.Rc(this.bufferingN),t.ga()),null!==this.bufferingMs&&void 0!==this.bufferingMs&&(t.fa("bufferingMs",r.Ss.Cs,2),t.ya(this.bufferingMs),t.ga()),null!==this.initBufferingN&&void 0!==this.initBufferingN&&(t.fa("initBufferingN",r.Ss.ks,3),t.Rc(this.initBufferingN),t.ga()),null!==this.initBufferingMs&&void 0!==this.initBufferingMs&&(t.fa("initBufferingMs",r.Ss.Cs,4),t.ya(this.initBufferingMs),t.ga()),null!==this.seekBufferingN&&void 0!==this.seekBufferingN&&(t.fa("seekBufferingN",r.Ss.ks,5),t.Rc(this.seekBufferingN),t.ga()),null!==this.seekBufferingMs&&void 0!==this.seekBufferingMs&&(t.fa("seekBufferingMs",r.Ss.Cs,6),t.ya(this.seekBufferingMs),t.ga()),null!==this.playerBufferMs&&void 0!==this.playerBufferMs&&(t.fa("playerBufferMs",r.Ss.Cs,36),t.ya(this.playerBufferMs),t.ga()),t.ma(),t.wa()},hive.snapshots.MetricSnapshot=function(t){this.timestamp=null,this.guid=null,this.eventId=null,this.streamInfo=null,this.metrics=null,this.traffic=null,this.snapshotInfo=null,this.agentInfo=null,this.connInfo=null,this.partners=null,this.player=null,this.client=null,this.sessionId=null,t&&(void 0!==t.timestamp&&(this.timestamp=t.timestamp),void 0!==t.guid&&(this.guid=t.guid),void 0!==t.eventId&&(this.eventId=t.eventId),void 0!==t.streamInfo&&(this.streamInfo=t.streamInfo),void 0!==t.metrics&&(this.metrics=t.metrics),void 0!==t.traffic&&(this.traffic=t.traffic),void 0!==t.snapshotInfo&&(this.snapshotInfo=t.snapshotInfo),void 0!==t.agentInfo&&(this.agentInfo=t.agentInfo),void 0!==t.connInfo&&(this.connInfo=t.connInfo),void 0!==t.partners&&(this.partners=t.partners),void 0!==t.player&&(this.player=t.player),void 0!==t.client&&(this.client=t.client),void 0!==t.sessionId&&(this.sessionId=t.sessionId))},hive.snapshots.MetricSnapshot.prototype={},hive.snapshots.MetricSnapshot.prototype.read=function(t){for(t.Dc();;){var e=t.oa(),i=(e.xc,e.sa),n=e.aa;if(i==r.Ss.bs)break;switch(n){case 1:i==r.Ss.Os?this.timestamp=t.Wc().value:t.ha(i);break;case 2:i==r.Ss.Ps?this.guid=t.ca().value:t.ha(i);break;case 3:i==r.Ss.Ns?(this.eventId=new EventId,this.eventId.read(t)):t.ha(i);break;case 4:i==r.Ss.Ns?(this.streamInfo=new hive.snapshots.StreamInfo,this.streamInfo.read(t)):t.ha(i);break;case 5:i==r.Ss.Ns?(this.metrics=new hive.snapshots.Metrics,this.metrics.read(t)):t.ha(i);break;case 6:if(i==r.Ss.xs){var o,s=0;this.traffic={};var a=0,c=0;o=t.Hc(),a=o.jc,c=o.Lc,s=o.size;for(var h=0;h<s;++h){h>0&&t.Ac.length>t.Ia[t.Ia.length-1]+1&&t.Ac.pop();var p=null,u=null;p=new hive.snapshots.TrafficKey,p.read(t),u=new hive.snapshots.Traffic,u.read(t),this.traffic[p]=u}t.Mc()}else t.ha(i);break;case 7:i==r.Ss.Ns?(this.snapshotInfo=new SnapshotInfo,this.snapshotInfo.read(t)):t.ha(i);break;case 8:i==r.Ss.Ns?(this.agentInfo=new hive.snapshots.AgentInfo,this.agentInfo.read(t)):t.ha(i);break;case 9:i==r.Ss.Ns?(this.connInfo=new hive.snapshots.ConnectivityInfo,this.connInfo.read(t)):t.ha(i);break;case 10:if(i==r.Ss.xs){var l,d=0;this.partners={};var f=0,v=0;l=t.Hc(),f=l.jc,v=l.Lc,d=l.size;for(var g=0;g<d;++g){g>0&&t.Ac.length>t.Ia[t.Ia.length-1]+1&&t.Ac.pop();var y=null,m=null;y=new hive.snapshots.PartnerKey,y.read(t),m=new hive.snapshots.Partner,m.read(t),this.partners[y]=m}t.Mc()}else t.ha(i);break;case 11:i==r.Ss.Ns?(this.player=new hive.snapshots.Player,this.player.read(t)):t.ha(i);break;case 12:i==r.Ss.Ns?(this.client=new hive.snapshots.ClientInfo,this.client.read(t)):t.ha(i);break;case 13:i==r.Ss.Ps?this.sessionId=t.ca().value:t.ha(i);break;default:t.ha(i)}t.ua()}t.la()},hive.snapshots.MetricSnapshot.prototype.write=function(t){if(t.da("MetricSnapshot"),null!==this.timestamp&&void 0!==this.timestamp&&(t.fa("timestamp",r.Ss.Os,1),t.kc(this.timestamp),t.ga()),null!==this.guid&&void 0!==this.guid&&(t.fa("guid",r.Ss.Ps,2),t.va(this.guid),t.ga()),null!==this.eventId&&void 0!==this.eventId&&(t.fa("eventId",r.Ss.Ns,3),this.eventId.write(t),t.ga()),null!==this.streamInfo&&void 0!==this.streamInfo&&(t.fa("streamInfo",r.Ss.Ns,4),this.streamInfo.write(t),t.ga()),null!==this.metrics&&void 0!==this.metrics&&(t.fa("metrics",r.Ss.Ns,5),this.metrics.write(t),t.ga()),null!==this.traffic&&void 0!==this.traffic){t.fa("traffic",r.Ss.xs,6),t.yc(r.Ss.Ns,r.Ss.Ns,r.Vs(this.traffic));for(var e=0;e<this.traffic.length;e++){var i=this.traffic[e],n=i.key,o=i.value;n.write(t),o.write(t)}t.mc(),t.ga()}if(null!==this.snapshotInfo&&void 0!==this.snapshotInfo&&(t.fa("snapshotInfo",r.Ss.Ns,7),this.snapshotInfo.write(t),t.ga()),null!==this.agentInfo&&void 0!==this.agentInfo&&(t.fa("agentInfo",r.Ss.Ns,8),this.agentInfo.write(t),t.ga()),null!==this.connInfo&&void 0!==this.connInfo&&(t.fa("connInfo",r.Ss.Ns,9),this.connInfo.write(t),t.ga()),null!==this.partners&&void 0!==this.partners){t.fa("partners",r.Ss.xs,10),t.yc(r.Ss.Ns,r.Ss.Ns,r.Vs(this.partners));for(var e=0;e<this.partners.length;e++){var i=this.partners[e],s=i.key,a=i.value;s.write(t),a.write(t)}t.mc(),t.ga()}null!==this.player&&void 0!==this.player&&(t.fa("player",r.Ss.Ns,11),this.player.write(t),t.ga()),null!==this.client&&void 0!==this.client&&(t.fa("client",r.Ss.Ns,12),this.client.write(t),t.ga()),null!==this.sessionId&&void 0!==this.sessionId&&(t.fa("sessionId",r.Ss.Ps,13),t.va(this.sessionId),t.ga()),t.ma(),t.wa()},hive.snapshots.JsonMetricSnapshot=function(t){this.timestamp=null,this.guid=null,this.eventId=null,this.streamInfo=null,this.metrics=null,this.traffic=null,this.snapshotInfo=null,this.agentInfo=null,this.connInfo=null,this.partners=null,this.player=null,this.client=null,this.sessionId=null,t&&(void 0!==t.timestamp&&(this.timestamp=t.timestamp),void 0!==t.guid&&(this.guid=t.guid),void 0!==t.eventId&&(this.eventId=t.eventId),void 0!==t.streamInfo&&(this.streamInfo=t.streamInfo),void 0!==t.metrics&&(this.metrics=t.metrics),void 0!==t.traffic&&(this.traffic=t.traffic),void 0!==t.snapshotInfo&&(this.snapshotInfo=t.snapshotInfo),void 0!==t.agentInfo&&(this.agentInfo=t.agentInfo),void 0!==t.connInfo&&(this.connInfo=t.connInfo),void 0!==t.partners&&(this.partners=t.partners),void 0!==t.player&&(this.player=t.player),void 0!==t.client&&(this.client=t.client),void 0!==t.sessionId&&(this.sessionId=t.sessionId))},hive.snapshots.JsonMetricSnapshot.prototype={},hive.snapshots.JsonMetricSnapshot.prototype.read=function(t){for(t.Dc();;){var e=t.oa(),i=(e.xc,e.sa),n=e.aa;if(i==r.Ss.bs)break;switch(n){case 1:i==r.Ss.Os?this.timestamp=t.Wc().value:t.ha(i);break;case 2:i==r.Ss.Ps?this.guid=t.ca().value:t.ha(i);break;case 3:i==r.Ss.Ns?(this.eventId=new EventId,this.eventId.read(t)):t.ha(i);break;case 4:i==r.Ss.Ns?(this.streamInfo=new hive.snapshots.StreamInfo,this.streamInfo.read(t)):t.ha(i);break;case 5:i==r.Ss.Ns?(this.metrics=new hive.snapshots.Metrics,this.metrics.read(t)):t.ha(i);break;case 6:if(i==r.Ss.xs){var o,s=0;this.traffic={};var a=0,c=0;o=t.Hc(),a=o.jc,c=o.Lc,s=o.size;for(var h=0;h<s;++h){h>0&&t.Ac.length>t.Ia[t.Ia.length-1]+1&&t.Ac.pop();var p=null,u=null;p=t.ca().value,u=new hive.snapshots.Traffic,u.read(t),this.traffic[p]=u}t.Mc()}else t.ha(i);break;case 7:i==r.Ss.Ns?(this.snapshotInfo=new SnapshotInfo,this.snapshotInfo.read(t)):t.ha(i);break;case 8:i==r.Ss.Ns?(this.agentInfo=new hive.snapshots.AgentInfo,this.agentInfo.read(t)):t.ha(i);break;case 9:i==r.Ss.Ns?(this.connInfo=new hive.snapshots.ConnectivityInfo,this.connInfo.read(t)):t.ha(i);break;case 10:if(i==r.Ss.xs){var l,d=0;this.partners={};var f=0,v=0;l=t.Hc(),f=l.jc,v=l.Lc,d=l.size;for(var g=0;g<d;++g){g>0&&t.Ac.length>t.Ia[t.Ia.length-1]+1&&t.Ac.pop();var y=null,m=null;y=t.ca().value,m=new hive.snapshots.Partner,m.read(t),this.partners[y]=m}t.Mc()}else t.ha(i);break;case 11:i==r.Ss.Ns?(this.player=new hive.snapshots.Player,this.player.read(t)):t.ha(i);break;case 12:i==r.Ss.Ns?(this.client=new hive.snapshots.ClientInfo,this.client.read(t)):t.ha(i);break;case 13:i==r.Ss.Ps?this.sessionId=t.ca().value:t.ha(i);break;default:t.ha(i)}t.ua()}t.la()},hive.snapshots.JsonMetricSnapshot.prototype.write=function(t){if(t.da("JsonMetricSnapshot"),null!==this.timestamp&&void 0!==this.timestamp&&(t.fa("timestamp",r.Ss.Os,1),t.kc(this.timestamp),t.ga()),null!==this.guid&&void 0!==this.guid&&(t.fa("guid",r.Ss.Ps,2),t.va(this.guid),t.ga()),null!==this.eventId&&void 0!==this.eventId&&(t.fa("eventId",r.Ss.Ns,3),this.eventId.write(t),t.ga()),null!==this.streamInfo&&void 0!==this.streamInfo&&(t.fa("streamInfo",r.Ss.Ns,4),this.streamInfo.write(t),t.ga()),null!==this.metrics&&void 0!==this.metrics&&(t.fa("metrics",r.Ss.Ns,5),this.metrics.write(t),t.ga()),null!==this.traffic&&void 0!==this.traffic){t.fa("traffic",r.Ss.xs,6),t.yc(r.Ss.Ps,r.Ss.Ns,r.Vs(this.traffic));for(var e in this.traffic)if(this.traffic.hasOwnProperty(e)){var i=this.traffic[e];t.va(e),i.write(t)}t.mc(),t.ga()}if(null!==this.snapshotInfo&&void 0!==this.snapshotInfo&&(t.fa("snapshotInfo",r.Ss.Ns,7),this.snapshotInfo.write(t),t.ga()),null!==this.agentInfo&&void 0!==this.agentInfo&&(t.fa("agentInfo",r.Ss.Ns,8),this.agentInfo.write(t),t.ga()),null!==this.connInfo&&void 0!==this.connInfo&&(t.fa("connInfo",r.Ss.Ns,9),this.connInfo.write(t),t.ga()),null!==this.partners&&void 0!==this.partners){t.fa("partners",r.Ss.xs,10),t.yc(r.Ss.Ps,r.Ss.Ns,r.Vs(this.partners));for(var n in this.partners)if(this.partners.hasOwnProperty(n)){var o=this.partners[n];t.va(n),o.write(t)}t.mc(),t.ga()}null!==this.player&&void 0!==this.player&&(t.fa("player",r.Ss.Ns,11),this.player.write(t),t.ga()),null!==this.client&&void 0!==this.client&&(t.fa("client",r.Ss.Ns,12),
this.client.write(t),t.ga()),null!==this.sessionId&&void 0!==this.sessionId&&(t.fa("sessionId",r.Ss.Ps,13),t.va(this.sessionId),t.ga()),t.ma(),t.wa()}},function(t,e){/*! collections.min.js v 3.0.0 github.com/montagejs/collections */
!function(t){function e(){throw Error("Can't construct. GenericCollection is a mixin.")}function i(){throw Error("Can't construct. GenericSet is a mixin.")}function r(){}function n(){throw Error("This is an abstract interface. Mix it. Don't construct it")}function o(){throw Error("Can't construct. RangeChanges is a mixin.")}function s(){throw Error("Can't construct. GenericOrder is a mixin.")}function a(t){if(!(this instanceof a))return new a(t);if(Array.isArray(t)||"string"==typeof t)return a.xd(t);if(t=lt(t),t instanceof a)return t;if(t.next)this.next=function(){return t.next()};else if(t.xd){var e=t.xd();this.next=function(){return e.next()}}else{if("[object Function]"!==lt.prototype.toString.call(t))throw new TypeError("Cannot iterate");this.next=t}}function c(t,e,i){this._d=t,this.start=null==e?0:e,this.end=i}function h(t,e,i){if(!(this instanceof h))return new h(t,e,i);var r=this.head=new this.Node;r.next=r,r.Bd=r,this.Fd=e||Object.Zu,this.content=i||Function.Dd,this.length=0,this.addEach(t)}function p(t){this.head=t,this.Hd=t.next}function u(t){this.value=t,this.next=this.Bd=null}function l(){throw Error("Can't construct. MapChanges is a mixin.")}function d(){throw Error("Can't construct. GenericMap is a mixin.")}function f(t,e){return this instanceof f?(this.content=e||Function.Dd,this.jd={},this.length=0,void this.addEach(t)):new f(t,e)}function v(t,e,i,r){return this instanceof v?(e=e||Object.Zu,i=i||Object.hash,r=r||Function.Dd,this.Fd=e,this.Ld=i,this.content=r,this.Md=new this.Ud(null,this.Vd),this.length=0,void this.addEach(t)):new v(t,e,i)}function g(t,e,i,r){return this instanceof g?(e=e||Object.Zu,i=i||Object.hash,r=r||Function.Dd,this.Fd=e,this.Ld=i,this.content=r,this.jd=new Lt((void 0),function(t,i){return e(t.key,i.key)},function(t){return i(t.key)}),this.length=0,void this.addEach(t)):new g(t,e,i)}function y(t,e,i,r){return this instanceof y?(e=e||Object.Zu,i=i||Object.hash,r=r||Function.Dd,this.Fd=e,this.Ld=i,this.content=r,this.order=new this.Qd((void 0),e),this.jd=new this.qd((void 0),function(t,i){return e(t.value,i.value)},function(t){return i(t.value)}),this.length=0,void this.addEach(t)):new y(t,e,i)}function m(t,e,i,r,n){return this instanceof m?(e=e||1/0,i=i||Object.Zu,r=r||Object.hash,n=n||Function.Dd,this.jd=new Yt((void 0),i,r),this.Fd=i,this.Ld=r,this.content=n,this.maxLength=e,this.length=0,void this.addEach(t)):new m(t,e,i,r)}function w(t,e,i,r,n){return this instanceof w?(i=i||Object.Zu,r=r||Object.hash,n=n||Function.Dd,this.Fd=i,this.Ld=r,this.content=n,this.jd=new ie((void 0),e,function(t,e){return i(t.key,e.key)},function(t){return r(t.key)}),this.length=0,void this.addEach(t)):new w(t,e,i,r)}function T(t,e,i,r){return this instanceof T?(e=e||Object.Zu,i=i||Object.hash,r=r||Function.Dd,this.Fd=e,this.Ld=i,this.content=r,this.jd=new ae((void 0),function(t,i){return e(t.key,i.key)},function(t){return i(t.key)}),this.length=0,void this.addEach(t)):new T(t,e,i)}function S(t,e,i,r){return this instanceof S?(this.Jd=e||this.Jd,void le.call(this,t,i,r,function(t){var e=this.Jd();return le.prototype.set.call(this,t,e),e})):new S(t,e,i,r)}function b(t,e,i,r){return this instanceof b?(Array.isArray(t)?(this._d=t,t=t.splice(0,t.length)):this._d=[],this.Fd=e||Object.Zu,this.Kd=i||Object.Gd,this.content=r||Function.Dd,this.length=0,void this.addEach(t)):new b(t,e,i,r)}function E(t,e,i){for(var r=0,n=t.length-1;r<=n;){var o=r+n>>1,s=i(e,t[o]);if(0<s)r=o+1;else{if(!(0>s))return o;n=o-1}}return-(r+1)}function I(t,e,i,r){if(i=E(t,e,i),0>i)return-1;for(;0<i&&r(e,t[i-1]);)i--;return r(e,t[i])?i:-1}function R(t,e,i,r){if(i=E(t,e,i),0>i)return-1;for(;i<t.length-1&&r(e,t[i+1]);)i++;return r(e,t[i])?i:-1}function k(t,e,i,r){return this instanceof k?void ye.call(this,t,e,i,r):new k(t,e,i,r)}function C(t,e,i,r){return this instanceof C?(e=e||Object.Zu,i=i||Object.Gd,r=r||Function.Dd,this.Fd=e,this.Kd=i,this.content=r,this.jd=new Se(null,function(t,i){return e(t.key,i.key)},function(t,e){return i(t.key,e.key)}),this.length=0,void this.addEach(t)):new C(t,e,i,r)}function O(t,e,i,r){return this instanceof O?(this.Fd=e||Object.Zu,this.Kd=i||Object.Gd,this.content=r||Function.Dd,this.root=null,this.length=0,void this.addEach(t)):new O(t,e,i,r)}function P(t){this.value=t,this.right=this.left=null,this.length=1}function A(t,e,i){this.set=t,this.Bd=null,this.end=i,e&&(t=this.set.zd(e))&&(this.set.Wd(t.value),this.Bd=t.$d())}function N(t,e,i,r){return this instanceof N?(e=e||Object.Zu,i=i||Object.Gd,r=r||Function.Dd,this.Fd=e,this.Kd=i,this.content=r,this.jd=new Ne(null,function(t,i){return e(t.key,i.key)},function(t,e){return i(t.key,e.key)}),this.length=0,void this.addEach(t)):new N(t,e,i,r)}var x={};x.Yd=e,e.prototype.addEach=function(t){if(t&&Object(t)===t)if("function"==typeof t.forEach)t.forEach(this.add,this);else if("number"==typeof t.length)for(var e=0;e<t.length;e++)this.add(t[e],e);else Object.keys(t).forEach(function(e){this.add(t[e],e)},this)},e.prototype.Xd=function(t){t.forEach(function(t){this["delete"](t)},this)},e.prototype.forEach=function(t,e){return this.reduce(function(i,r,n,o,s){t.call(e,r,n,o,s)},void 0)},e.prototype.map=function(t,e){var i=[];return this.reduce(function(r,n,o,s,a){i.push(t.call(e,n,o,s,a))},void 0),i},e.prototype.toArray=function(){return this.map(Function.identity)},e.prototype.Zd=function(){var t={};return this.reduce(function(e,i,r){t[r]=i},void 0),t},e.prototype.filter=function(t,e){var i=this.tf();return this.reduce(function(r,n,o,s,a){t.call(e,n,o,s,a)&&i.add(n)},void 0),i},e.prototype.every=function(t,e){return this.reduce(function(i,r,n,o,s){return i&&t.call(e,r,n,o,s)},!0)},e.prototype.some=function(t,e){return this.reduce(function(i,r,n,o,s){return i||t.call(e,r,n,o,s)},!1)},e.prototype.all=function(){return this.every(Boolean)},e.prototype.ie=function(){return this.some(Boolean)},e.prototype.min=function(t){return t=this.Kd||Object.Gd,this.reduce(function(e,i){return 0>t(i,e)?i:e},1/0)},e.prototype.max=function(t){return t=this.Kd||Object.Gd,this.reduce(function(e,i){return 0<t(i,e)?i:e},-(1/0))},e.prototype.ef=function(t){return this.reduce(function(t,e){return t+e},void 0===t?0:t)},e.prototype.if=function(t){var e=void 0===t?0:t,i=void 0===t?0:t;return this.reduce(function(t,r){e+=r,i+=1},void 0),e/i},e.prototype.concat=function(){for(var t=this.tf(this),e=0;e<arguments.length;e++)t.addEach(arguments[e]);return t},e.prototype.rf=function(){var t=this;return this.reduce(function(e,i){return i.forEach(function(t){this.push(t)},e,t),e},[])},e.prototype.nf=function(){var t=Array.prototype.slice.call(arguments);t.unshift(this);for(var e=[],i=1/0,r=0;r<t.length;r++){var n=t[r];t[r]=n.toArray(),n.length<i&&(i=n.length)}for(r=0;r<t.length;r++)for(var n=t[r],o=0;o<n.length;o++)o<i&&o in n&&(e[o]=e[o]||[],e[o][r]=n[o]);return e},e.prototype.sf=function(t,e,i){return t=t||this.Kd||Object.Gd,t.af?(e=t.af,t=t.Gd||this.Kd||Object.Gd):e=e||Function.identity,void 0===i&&(i=1),this.map(function(t){return{af:e(t),value:t}}).sort(function(e,r){return t(e.af,r.af)*i}).map(function(t){return t.value})},e.prototype.reversed=function(){return this.tf(this).reverse()},e.prototype.clone=function(t,e){if(void 0===t)t=1/0;else if(0===t)return this;var i=this.tf();return this.forEach(function(r,n){i.add(Object.clone(r,t-1,e),n)},this),i},e.prototype.only=function(){if(0===this.length)throw Error("Can't get only value in empty collection.");if(1<this.length)throw Error("Can't get only value in collection with multiple values.");return this.cf()},x.Yd&&(x=x.Yd);var _={};_.Yd=i,i.prototype.hf=function(t){var e=this.tf(this);return e.addEach(t),e},i.prototype.pf=function(t){return this.tf(this.filter(function(e){return t.has(e)}))},i.prototype.uf=function(t){var e=this.tf(this);return e.Xd(t),e},i.prototype.lf=function(t){var e=this.hf(t),t=this.pf(t);return e.uf(t)},i.prototype.Zu=function(t,e){var i=this;return Object.df(t,"reduce")&&this.length===t.length&&t.reduce(function(t,r){return t&&i.has(r,e)},!0)},_.Yd&&(_=_.Yd);var B=x,F=Object.prototype.toString;Array.isArray||(Array.isArray=function(t){return"[object Array]"==F.call(t)}),Array.prototype.forEach||(Array.prototype.forEach=B.forEach),Array.prototype.map||(Array.prototype.map=B.map),Array.prototype.filter||(Array.prototype.filter=B.filter),Array.prototype.every||(Array.prototype.every=B.every),Array.prototype.some||(Array.prototype.some=B.some),Array.prototype.reduce||(Array.prototype.reduce=function(t){var e=toObject(this),i=e.length>>>0;if("[object Function]"!=F.call(t))throw new TypeError(t+" is not a function");if(!i&&1==arguments.length)throw new TypeError("reduce of empty array with no initial value");var r,n=0;if(2<=arguments.length)r=arguments[1];else for(;;){if(n in e){r=e[n++];break}if(++n>=i)throw new TypeError("reduce of empty array with no initial value")}for(;n<i;n++)n in e&&(r=t.call(void 0,r,e[n],n,e));return r}),Array.prototype.reduceRight||(Array.prototype.reduceRight=function(t){var e=toObject(this),i=e.length>>>0;if("[object Function]"!=F.call(t))throw new TypeError(t+" is not a function");if(!i&&1==arguments.length)throw new TypeError("reduceRight of empty array with no initial value");var r,i=i-1;if(2<=arguments.length)r=arguments[1];else for(;;){if(i in e){r=e[i--];break}if(0>--i)throw new TypeError("reduceRight of empty array with no initial value")}do i in this&&(r=t.call(void 0,r,e[i],i,e));while(i--);return r}),Array.prototype.indexOf||(Array.prototype.indexOf=function(t){var e=toObject(this),i=e.length>>>0;if(!i)return-1;var r=0;for(1<arguments.length&&(r=toInteger(arguments[1])),r=0<=r?r:Math.max(0,i+r);r<i;r++)if(r in e&&e[r]===t)return r;return-1}),Array.prototype.lastIndexOf||(Array.prototype.lastIndexOf=function(t){var e=toObject(this),i=e.length>>>0;if(!i)return-1;var r=i-1;for(1<arguments.length&&(r=Math.min(r,toInteger(arguments[1]))),r=0<=r?r:i-Math.abs(r);0<=r;r--)if(r in e&&t===e[r])return r;return-1});var D={};D.Yd=Function,Function.Dd=function(){},Function.identity=function(t){return t},Function.af=function(t,e){var e=e||Object.Gd,t=t||Function.identity,i=function(i,r){return e(t(i),t(r))};return i.Gd=e,i.af=t,i},D.Yd&&(D=D.Yd);var H={};H.Yd=r,r.ff={pf:"+",vf:"-",gf:"+",yf:"+",mf:".",wf:"'",Tf:"+",Sf:"|"},r.bf={pf:"╋",vf:"━",gf:"┻",yf:"┳",mf:"╭",wf:"╰",Tf:"┣",Sf:"┃"},r.Ef={pf:"╋",vf:"━",gf:"┻",yf:"┳",mf:"┏",wf:"┗",Tf:"┣",Sf:"┃"},H.Yd&&(H=H.Yd);var j,L={},M=L;if("undefined"!=typeof WeakMap)j=WeakMap;else{var U=function(t){return t.prototype=null,Object.freeze(t)},V=Object.getOwnPropertyNames,Q=Object.defineProperty,q={};V(Object).forEach(function(t){q[t]=Object[t]});var J="ident:"+Math.random()+"___";if("undefined"!=typeof crypto&&"function"==typeof crypto.getRandomValues&&"function"==typeof ArrayBuffer&&"function"==typeof Uint8Array){var K=new ArrayBuffer(25),K=new Uint8Array(K);crypto.getRandomValues(K),J="rand:"+Array.prototype.map.call(K,function(t){return(t%36).toString(36)}).join("")+"___"}Q(Object,"getOwnPropertyNames",{value:function(t){return V(t).filter(function(t){return t!==J})}}),"getPropertyNames"in Object&&Q(Object,"getPropertyNames",{value:function(t){return q.getPropertyNames(t).filter(function(t){return t!==J})}});var G=function(t){if(t!==Object(t))throw new TypeError("Not an object: "+t);var e=t[J];return e&&e.key===t?e:q.isExtensible(t)?(e={key:t,If:[],Rf:[]},Q(t,J,{value:e,kf:!1,Cf:!1,Of:!1}),e):void 0},z=Object.freeze;Q(Object,"freeze",{value:function(t){return G(t),z(t)}});var W=Object.seal;Q(Object,"seal",{value:function(t){return G(t),W(t)}});var $=Object.preventExtensions;Q(Object,"preventExtensions",{value:function(t){return G(t),$(t)}});var Y=function(){function t(r,n){var o,s=G(r);return s?(o=s.If.indexOf(t),s=s.Rf):(o=e.indexOf(r),s=i),0<=o?s[o]:n}var e=[],i=[];return Object.create(Y.prototype,{Pf:{value:U(t)},Af:{value:U(function(i){var r=G(i);return 0<=(r?r.If.indexOf(t):e.indexOf(i))})},Nf:{value:U(function(r,n){var o,s=G(r);s?(o=s.If.indexOf(t),0<=o?s.Rf[o]=n:(s.If.push(t),s.Rf.push(n))):(o=e.indexOf(r),0<=o?i[o]=n:(e.push(r),i.push(n)))})},xf:{value:U(function(r){var n=G(r);return n?(r=n.If.indexOf(t),0<=r&&(n.If.splice(r,1),n.Rf.splice(r,1))):(r=e.indexOf(r),0<=r&&(e.splice(r,1),i.splice(r,1))),!0})}})};Y.prototype=Object.create(Object.prototype,{get:{value:function(t,e){return this.Pf(t,e)},kf:!0,Of:!0},has:{value:function(t){return this.Af(t)},kf:!0,Of:!0},set:{value:function(t,e){this.Nf(t,e)},kf:!0,Of:!0},"delete":{value:function(t){return this.xf(t)},kf:!0,Of:!0}}),j=Y}M.Yd=j,L.Yd&&(L=L.Yd);var X={},Z=L,tt=Object.prototype.hasOwnProperty,et=new Z,it=new Z;X.Yd=n,n.prototype._f=function(t){et.has(this)||et.set(this,{});var e=et.get(this);return tt.call(e,t)||(e[t]={Bf:[],Ff:[]}),e[t]},n.prototype.Df=function(t){if(!et.has(this))return!1;if(!t)return!0;var e=et.get(this);return!!tt.call(e,t)},n.prototype.Hf=function(t,e,i){this.makeObservable&&!this.isObservable&&this.makeObservable();var r=n._f(this,t),i=i?r.Bf:r.Ff;n.jf(this,t),i.push(e)},n.prototype.Lf=function(t,e){return n.Hf(this,t,e,!0)},n.prototype.Mf=function(t,e,i){var r=n._f(this,t),i=i?r.Bf:r.Ff,e=i.lastIndexOf(e);if(-1===e)throw Error("Can't remove listener: does not exist.");i.splice(e,1),0===r.Ff.length+r.Bf.length&&n.Uf(this,t)},n.prototype.Vf=function(t,e){return n.Mf(this,t,e,!0)},n.prototype.Qf=function(t,e,i){var r=n._f(this,t),r=i?r.Bf:r.Ff,i=(i?"Will":"")+"Change",o="handleProperty"+i,s=String(t),s=s&&s[0].toUpperCase()+s.slice(1),a="handle"+s+i;r.forEach(function(i){var r=i,i=i[a]||i[o]||i;i.call&&i.call(r,e,t,this)},this)},n.prototype.qf=function(t,e){return n.Qf(this,t,e,!0)},n.prototype.jf=function(t){if(!Array.isArray(this)){it.has(this)||(e={},it.set(this,e));var e=it.get(this);if(!tt.call(e,t)){var i,r=this;Object.getOwnPropertyDescriptor(r,t);do{if(i=Object.getOwnPropertyDescriptor(r,t))break;r=Object.getPrototypeOf(r)}while(r);if(i=i||{value:void 0,Cf:!0,kf:!0,Of:!0},!i.Of)throw Error("Can't observe non-configurable properties");e[t]=i,(i.kf||i.set)&&Object.defineProperty(this,t,"value"in i?{get:function(){return i.value},set:function(e){return e===i.value?e:(n.qf(this,t,i.value),i.value=e,n.Qf(this,t,e),e)},Cf:i.Cf,Of:!0}:{get:function(){if(i.get)return i.get.apply(this,arguments)},set:function(e){var r;return i.get&&(r=i.get.apply(this,arguments)),e===r?e:(n.qf(this,t,r),i.set&&i.set.apply(this,arguments),i.get&&(e=i.get.apply(this,arguments)),n.Qf(this,t,e),e)},Cf:i.Cf,Of:!0})}}},n.prototype.Uf=function(t){if(!Array.isArray(this)){if(!it.has(this))throw Error("Can't uninstall observer on property");var e=it.get(this);if(!e[t])throw Error("Can't uninstall observer on property");var i=e[t];delete e[t],Object.defineProperty(this,t,i)}},n._f=function(t,e){return t._f?t._f(e):n.prototype._f.call(t,e)},n.Df=function(t,e){return t.Df?t.Df(e):n.prototype.Df.call(t,e)},n.Hf=function(t,e,i,r){return t.Hf?t.Hf(e,i,r):n.prototype.Hf.call(t,e,i,r)},n.Mf=function(t,e,i,r){return t.Mf?t.Mf(e,i,r):n.prototype.Mf.call(t,e,i,r)},n.Qf=function(t,e,i,r){return t.Qf?t.Qf(e,i,r):n.prototype.Qf.call(t,e,i,r)},n.Lf=function(t,e,i){return n.Hf(t,e,i,!0)},n.Vf=function(t,e,i){return n.Mf(t,e,i,!0)},n.qf=function(t,e,i){return n.Qf(t,e,i,!0)},n.jf=function(t,e){return t.jf?t.jf(e):n.prototype.jf.call(t,e)},n.Uf=function(t,e){return t.Uf?t.Uf(e):n.prototype.Uf.call(t,e)},X.Yd&&(X=X.Yd);var rt={},nt=new L;rt.Yd=o,o.prototype.Jf=function(){return nt.has(this)||nt.set(this,{at:!1,Ff:[],Bf:[]}),nt.get(this)},o.prototype.Kf=function(t,e){!this.isObservable&&this.makeObservable&&this.makeObservable();var i=this.Jf();(e?i.Bf:i.Ff).push(t),this.Gf=!!(i.Bf.length+i.Ff.length)},o.prototype.zf=function(t,e){var i,r=this.Jf();i=e?r.Bf:r.Ff;var n=i.lastIndexOf(t);if(-1===n)throw Error("Can't remove listener: does not exist.");i.splice(n,1),this.Gf=!!(r.Bf.length+r.Ff.length)},o.prototype.Wf=function(t,e,i,r){var n=this.Jf();if(!n.at){n.at=!0;var o;o=r?n.Bf:n.Ff;try{o.forEach(function(n){n.nd?n.nd({$f:r?"before":"after",currentTarget:this,target:this,Yf:t,Xf:e,index:i}):(n=r?n.handleRangeWillChange||n:n.handleRangeChange||n,n.call&&n.call(this,t,e,i,r))},this)}finally{n.at=!1}}},o.prototype.Zf=function(t){return this.Kf(t,!0)},o.prototype.tv=function(t){return this.zf(t,!0)},o.prototype.ev=function(t,e,i){return this.Wf(t,e,i,!0)},rt.Yd&&(rt=rt.Yd);var ot={},st=L;ot.Yd=Object,Object.empty=Object.freeze(Object.create(null)),Object.iv=function(t){return Object(t)===t},Object.rv=function(t){return Object.df(t,"valueOf")&&(t=t.valueOf()),t};var at=new st;Object.hash=function(t){return Object.df(t,"hash")?""+t.hash():Object(t)===t?(at.has(t)||at.set(t,Math.random().toString(36).slice(2)),at.get(t)):""+t};var ct=Object.prototype.hasOwnProperty;Object.nv=function(t,e){return ct.call(t,e)},Object.df=function(t,e){return null!=t&&"function"==typeof t[e]&&!ct.call(t,e)},Object.has=function(t,e){if("object"!=typeof t)throw Error("Object.has can't accept non-object: "+typeof t);if(Object.df(t,"has"))return t.has(e);if("string"==typeof e)return e in t&&t[e]!==Object.prototype[e];throw Error("Key must be a string for Object.has on plain objects")},Object.get=function(t,e,i){if("object"!=typeof t)throw Error("Object.get can't accept non-object: "+typeof t);return Object.df(t,"get")?t.get(e,i):Object.has(t,e)?t[e]:i},Object.set=function(t,e,i){Object.df(t,"set")?t.set(e,i):t[e]=i},Object.addEach=function(t,e){Object.df(e,"forEach")?"function"==typeof e.keys?e.forEach(function(e,i){t[i]=e}):e.forEach(function(e){t[e[0]]=e[1]}):Object.keys(e).forEach(function(i){t[i]=e[i]})},Object.forEach=function(t,e,i){Object.keys(t).forEach(function(r){e.call(i,t[r],r,t)})},Object.map=function(t,e,i){return Object.keys(t).map(function(r){return e.call(i,t[r],r,t)})},Object.values=function(t){return Object.map(t,Function.identity)},Object.is=function(t,e){return t===e?0!==t||1/t===1/e:t!==t&&e!==e},Object.Zu=function(t,e,i){if(i=i||Object.Zu,t=Object.rv(t),e=Object.rv(e),t===e)return 0!==t||1/t===1/e;if(Object.df(t,"equals"))return t.Zu(e,i);if(Object.df(e,"equals"))return e.Zu(t,i);if("object"==typeof t&&"object"==typeof e){var r=Object.getPrototypeOf(t),n=Object.getPrototypeOf(e);if(r===n&&(r===Object.prototype||null===r)){for(var o in t)if(!i(t[o],e[o]))return!1;for(o in e)if(!i(t[o],e[o]))return!1;return!0}}return t!==t&&e!==e},Object.Gd=function(t,e){var t=Object.rv(t),e=Object.rv(e),i=typeof t;return t===e||i!==typeof e?0:"number"===i?t-e:"string"===i?t<e?-1:1:Object.df(t,"compare")?t.Gd(e):Object.df(e,"compare")?-e.Gd(t):0},Object.clone=function(t,e,i){if(t=Object.rv(t),i=i||new st,void 0===e)e=1/0;else if(0===e)return t;if(Object.iv(t)){if(!i.has(t))if(Object.df(t,"clone"))i.set(t,t.clone(e,i));else{var r=Object.getPrototypeOf(t);if(null!==r&&r!==Object.prototype)throw Error("Can't clone "+t);r=Object.create(r),i.set(t,r);for(var n in t)r[n]=Object.clone(t[n],e-1,i)}return i.get(t)}return t},Object.clear=function(t){if(Object.df(t,"clear"))t.clear();else for(var e=Object.keys(t),i=e.length;i;)i--,delete t[e[i]];return t},ot.Yd&&(ot=ot.Yd);var ht={},pt=ot;ht.Yd=s,s.prototype.Zu=function(t,e){return e=e||this.Fd||pt.Zu,this===t||!!t&&(this.length===t.length&&this.nf(t).every(function(t){return e(t[0],t[1])}))},s.prototype.Gd=function(t,e){if(e=e||this.Kd||pt.Gd,this===t)return 0;if(!t)return 1;var i=Math.min(this.length,t.length),r=this.nf(t).reduce(function(t,r,n){return 0===t?n>=i?t:e(r[0],r[1]):t},0);return 0===r?this.length-t.length:r},ht.Yd&&(ht=ht.Yd);var ut={};ut.Yd=a;var lt=ot;if(lt.addEach(a.prototype,x.prototype),a.prototype.tf=function(t){var e=[];return Reducible.addEach.call(e,t),e},a.prototype.ov=function(t,e){var i=a(this),r=0;if("[object Function]"!=lt.prototype.toString.call(t))throw new TypeError;return new i.constructor(function(){return t.call(e,i.next(),r++,i)})},a.prototype.sv=function(t,e){var i=a(this),r=0;if("[object Function]"!=lt.prototype.toString.call(t))throw new TypeError;return new i.constructor(function(){for(var n;;)if(n=i.next(),t.call(e,n,r++,i))return n})},a.prototype.reduce=function(t){var e,i=a(this),r=arguments[1],n=arguments[2],o=0;if("[object Function]"!=lt.prototype.toString.call(t))throw new TypeError;try{e=i.next(),r=1<arguments.length?t.call(n,r,e,o,i):e,o++}catch(s){if(isStopIteration(s)){if(1<arguments.length)return arguments[1];throw TypeError("cannot reduce a value from an empty iterator with no initial value")}throw s}try{for(;;)e=i.next(),r=t.call(n,r,e,o,i),o++}catch(c){if(isStopIteration(c))return r;throw c}},a.prototype.every=function(t){var e=a(this),i=!0;if("[object Function]"!=lt.prototype.toString.call(t))throw new TypeError;return e.ov.apply(e,arguments).forEach(function(t){if(!t)throw i=!1,StopIteration}),i},a.prototype.some=function(t){var e=a(this),i=!1;if("[object Function]"!=lt.prototype.toString.call(t))throw new TypeError;return e.ov.apply(e,arguments).forEach(function(t){if(t)throw i=!0,StopIteration}),i},a.prototype.concat=function(){return a.concat(Array.prototype.concat.apply(this,arguments))},a.prototype.av=function(t,e){var i,r=a(this),n=!1;if("[object Function]"!=lt.prototype.toString.call(t))throw new TypeError;return r.forEach(function(o,s){if(!t.call(e,o,s,r))throw n=!0,i=o,StopIteration}),n?r.constructor([i]).concat(r):r.constructor([])},a.prototype.cv=function(t,e){var i=a(this);if("[object Function]"!=lt.prototype.toString.call(t))throw new TypeError;return i.ov(function(r,n){if(!t.call(e,r,n,i))throw StopIteration;return r})},a.prototype.sv=function(t,e){var i=a(this),r=0;if("[object Function]"!=lt.prototype.toString.call(t))throw new TypeError;return new i.constructor(function(){for(var n;;)if(n=i.next(),t.call(e,n,r++,i))return n})},a.prototype.nf=function(){return a.hv(Array.prototype.concat.apply(this,arguments))},a.prototype.enumerate=function(t){return a.count(t).nf(this)},a.xd=function(t){var e;return e=0,new a(function(){if("object"==typeof t)for(;!(e in t);){if(e>=t.length)throw StopIteration;e+=1}else if(e>=t.length)throw StopIteration;var i=t[e];return e+=1,i})},a.pv=function(t,e){2>arguments.length&&(e=1/0);var i=function(){throw StopIteration};return new a(function(){var r;try{return i()}catch(n){if(isStopIteration(n)){if(0>=e)throw n;return e--,r=a.xd(t),(i=r.next.bind(r))()}throw n}})},a.concat=function(t){var t=a(t),e=function(){throw StopIteration};return new a(function(){var i;try{return e()}catch(r){if(isStopIteration(r))return i=a(t.next()),(e=i.next.bind(i))();throw r}})},a.hv=function(t){return t=a(t).map(a),new a(1>t.length?[]:function(){var e,i=t.map(function(t){try{return t.next()}catch(i){if(!isStopIteration(i))throw i;e=!0}});if(e)throw StopIteration;return i})},a.nf=function(){return a.hv(Array.prototype.slice.call(arguments))},a.chain=function(){return a.concat(Array.prototype.slice.call(arguments))},a.range=function(t,e,i){return 3>arguments.length&&(i=1),2>arguments.length&&(e=t,t=0),t=t||0,new a(function(){if(t>=e)throw StopIteration;if(isNaN(t))throw"";var r=t;return t+=i,r})},a.count=function(t,e){return a.range(t,1/0,e||1)},a.repeat=function(t,e){return 2>arguments.length&&(e=1/0),new a.range((+e)).ov(function(){return t})},"undefined"==typeof isStopIteration&&(t.uv=function(t){return"[object StopIteration]"===lt.prototype.toString.call(t)}),"undefined"==typeof StopIteration){t.StopIteration={};var dt=lt.prototype.toString;lt.prototype.toString=function(){return this===t.StopIteration||this instanceof t.lv?"[object StopIteration]":dt.call(this,arguments)}}"undefined"==typeof ReturnValue&&(t.lv=function(e){return this instanceof t.lv?void(this.value=e):new t.lv(e)}),ut.Yd&&(ut=ut.Yd);var ft={},vt=x,gt=ht,yt=L;ft.Yd=Array,Array.empty=[],Object.freeze&&Object.freeze(Array.empty),Array.from=function(t){var e=[];return e.addEach(t),e},Array.prototype.addEach=vt.prototype.addEach,Array.prototype.Xd=vt.prototype.Xd,Array.prototype.toArray=vt.prototype.toArray,Array.prototype.Zd=vt.prototype.Zd,Array.prototype.all=vt.prototype.all,Array.prototype.ie=vt.prototype.ie,Array.prototype.min=vt.prototype.min,Array.prototype.max=vt.prototype.max,Array.prototype.ef=vt.prototype.ef,Array.prototype.if=vt.prototype.if,Array.prototype.only=vt.prototype.only,Array.prototype.rf=vt.prototype.rf,Array.prototype.nf=vt.prototype.nf,Array.prototype.sf=vt.prototype.sf,Array.prototype.reversed=vt.prototype.reversed,Array.prototype.tf=function(t){var e=new this.constructor;return e.addEach(t),e},Array.prototype.has=function(t,e){return-1!==this.find(t,e)},Array.prototype.get=function(t){if(+t!==t)throw Error("Indicies must be numbers");return this[t]},Array.prototype.set=function(t,e){return this.splice(t,1,e),!0},Array.prototype.add=function(t){return this.push(t),!0},Array.prototype["delete"]=function(t,e){var i=this.find(t,e);return-1!==i&&(this.splice(i,1),!0)},Array.prototype.find=function(t,e){for(var e=e||this.Fd||Object.Zu,i=0;i<this.length;i++)if(i in this&&e(this[i],t))return i;return-1},Array.prototype.dv=function(t,e){var e=e||this.Fd||Object.Zu,i=this.length;do if(i--,i in this&&e(this[i],t))return i;while(0<i);return-1},Array.prototype.fv=function(t,e,i){var r=Array.prototype.slice.call(arguments,0,2);return i&&r.push.apply(r,i),this.splice.apply(this,r)},Array.prototype.cf=function(){if(0===this.length)throw Error("Can't get one element from empty array.");for(var t in this)if(Object.nv(this,t))return this[t]},Array.prototype.clear=function(){return this.length=0,this},Array.prototype.Gd=function(t,e){var i,r,n,o,e=e||Object.Gd;if(this===t)return 0;if(!t||!Array.isArray(t))return gt.prototype.Gd.call(this,t,e);for(r=Math.min(this.length,t.length),i=0;i<r;i++)if(i in this){if(!(i in t))return-1;if(n=this[i],o=t[i],n=e(n,o))return n}else if(i in t)return 1;return this.length-t.length},Array.prototype.Zu=function(t){var e,i,r=r||Object.Zu,n=0,o=this.length;if(this===t)return!0;if(!t||!Array.isArray(t))return gt.prototype.Zu.call(this,t);if(o!==t.length)return!1;for(;n<o;++n)if(n in this){if(e=this[n],i=t[n],e!==i&&e&&i&&!r(e,i))return!1}else if(n in t)return!1;return!0},Array.prototype.clone=function(t,e){if(void 0===t)t=1/0;else if(0===t)return this;var i,e=e||new yt,r=[];for(i in this)Object.nv(this,i)&&(r[i]=Object.clone(this[i],t-1,e));return r},Array.prototype.xd=function(t,e){return new c(this,t,e)},Array.prototype.Iterator=c,c.prototype.next=function(){if(this.start===(null==this.end?this._d.length:this.end))throw StopIteration;return this._d[this.start++]},ft.Yd&&(ft=ft.Yd);var mt={};mt.Yd=h;var wt=ht,Tt=X;Object.addEach(h.prototype,x.prototype),Object.addEach(h.prototype,wt.prototype),Object.addEach(h.prototype,Tt.prototype),h.prototype.tf=function(t){return new this.constructor(t,this.Fd,this.content)},h.prototype.find=function(t,e){for(var e=e||this.Fd,i=this.head,r=i.next;r!==i;){if(e(r.value,t))return r;r=r.next}},h.prototype.dv=function(t,e){for(var e=e||this.Fd,i=this.head,r=i.Bd;r!==i;){if(e(r.value,t))return r;r=r.Bd}},h.prototype.has=function(t,e){return!!this.find(t,e)},h.prototype.get=function(t,e){var i=this.find(t,e);return i?i.value:this.content()},h.prototype["delete"]=function(t,e){var i=this.dv(t,e);return!!i&&(i["delete"](),this.length--,!0)},h.prototype.clear=function(){this.head.next=this.head.Bd=this.head,this.length=0},h.prototype.add=function(t){return this.head.vv(new this.Node(t)),this.length++,!0},h.prototype.push=function(){for(var t=this.head,e=0;e<arguments.length;e++){var i=new this.Node(arguments[e]);t.vv(i),this.length++}},h.prototype.unshift=function(){for(var t=this.head,e=0;e<arguments.length;e++){var i=new this.Node(arguments[e]);t.gv(i),this.length++,t=i}},h.prototype.pop=function(){var t,e=this.head;return e.Bd!==e&&(t=e.Bd.value,e.Bd["delete"](),this.length--),t},h.prototype.shift=function(){var t,e=this.head;return e.Bd!==e&&(t=e.next.value,e.next["delete"](),this.length--),t},h.prototype.yv=function(t,e){var i=this.head;if("number"==typeof t){var r=t;if(0<=r)for(t=i.next;r&&(r--,t=t.next,!(t==i)););else for(t=i;0>r&&(r++,t=t.Bd,!(t==i)););return t}return t||e},h.prototype.slice=function(t,e){for(var i=[],r=this.head,t=this.yv(t,r.next),e=this.yv(e,r);t!==e&&t!==r;)i.push(t.value),t=t.next;return i},h.prototype.splice=function(t,e){return this.fv(t,e,Array.prototype.slice.call(arguments,2))},h.prototype.fv=function(t,e,i){var r=[],n=t,t=this.yv(t,this.head);for(void 0===e&&(e=1/0);e--&&0<=e&&t!==this.head;)r.push(t.value),t["delete"](),t=t.next,this.length--;if(i){for(null===n&&t===this.head&&(t=this.head.next),e=0;e<i.length;e++)n=new this.Node(i[e]),t.vv(n);this.length+=i.length}return r},h.prototype.reverse=function(){var t=this.head;do{var e=t.next;t.next=t.Bd,t.Bd=e,t=t.next}while(t!==this.head);return this},h.prototype.reduce=function(t,e,i){for(var r=this.head,n=r.next;n!==r;)e=t.call(i,e,n.value,n,this),n=n.next;return e},h.prototype.reduceRight=function(t,e,i){for(var r=this.head,n=r.Bd;n!==r;)e=t.call(i,e,n.value,n,this),n=n.Bd;return e},h.prototype.cf=function(){if(this.head===this.head.next)throw Error("Can't get one value from empty list");return this.head.next.value},h.prototype.xd=function(){return new p(this.head)},p.prototype.next=function(){if(this.Hd===this.head)throw StopIteration;var t=this.Hd.value;return this.Hd=this.Hd.next,t},h.prototype.Node=u,u.prototype["delete"]=function(){this.Bd.next=this.next,this.next.Bd=this.Bd},u.prototype.vv=function(t){var e=this.Bd;this.Bd=t,t.Bd=e,e.next=t,t.next=this},u.prototype.gv=function(t){var e=this.next;this.next=t,t.next=e,e.Bd=t,t.Bd=this},mt.Yd&&(mt=mt.Yd);var St={},bt=mt;St.Yd=l,l.prototype.mv=function(){return this.wv||(this.wv={Bf:new bt,Ff:new bt}),this.wv},l.prototype.Tv=function(t,e){this.makeObservable&&!this.dispatchMapChanges&&this.makeObservable();var i=this.mv();(e?i.Bf:i.Ff).push(t),this.Sv=!0},l.prototype.bv=function(t,e){var i=this.mv(),i=(e?i.Bf:i.Ff).dv(t);if(!i)throw Error("Can't remove listener: does not exist.");i["delete"]()},l.prototype.Ev=function(t,e,i){var r=this.mv(),n="handleMap"+((i?"Will":"")+"Change");(i?r.Bf:r.Ff).forEach(function(i){var r=i,i=i[n]||i;i.call&&i.call(r,e,t,this)},this)},l.prototype.Iv=function(t){return this.Tv(t,!0)},l.prototype.Rv=function(t){return this.bv(t,!0)},l.prototype.kv=function(t,e){return this.Ev(t,e,!0)},St.Yd&&(St=St.Yd);var Et={},It=ot,Rt=St,kt=X;Et.Yd=d,It.addEach(d.prototype,Rt.prototype),It.addEach(d.prototype,kt.prototype),d.prototype.addEach=function(t){t&&It(t)===t&&("function"==typeof t.forEach?"function"==typeof t.keys?t.forEach(function(t,e){this.set(e,t)},this):t.forEach(function(t){this.set(t[0],t[1])},this):It.keys(t).forEach(function(e){this.set(e,t[e])},this))},d.prototype.get=function(t,e){var i=this.jd.get(new this.Cv(t));return i?i.value:1<arguments.length?e:this.content(t)},d.prototype.set=function(t,e){var i=new this.Cv(t,e),r=this.jd.get(i),n=!1;return r?(this.Sv&&this.kv(t,r.value),r.value=e):(this.Sv&&this.kv(t,void 0),this.jd.add(i)&&(this.length++,n=!0)),this.Sv&&this.Ev(t,e),n},d.prototype.add=function(t,e){return this.set(e,t)},d.prototype.has=function(t){return this.jd.has(new this.Cv(t))},d.prototype["delete"]=function(t){var e=new this.Cv(t);if(this.jd.has(e)){var i=this.jd.get(e).value;return this.Sv&&this.kv(t,i),this.jd["delete"](e),this.length--,this.Sv&&this.Ev(t,void 0),!0}return!1},d.prototype.clear=function(){this.jd.clear(),this.length=0},d.prototype.reduce=function(t,e,i){return this.jd.reduce(function(e,r){return t.call(i,e,r.value,r.key,this)},e,this)},d.prototype.reduceRight=function(t,e,i){return this.jd.reduceRight(function(e,r){return t.call(i,e,r.value,r.key,this)},e,this)},d.prototype.keys=function(){return this.map(function(t,e){return e})},d.prototype.values=function(){return this.map(Function.identity)},d.prototype.Ov=function(){return this.map(function(t,e){return[e,t]})},d.prototype.Zu=function(t,e){return e=e||It.Zu,this===t||(It.df(t,"every")?t.length===this.length&&t.every(function(t,i){return e(this.get(i),t)},this):It.keys(t).length===this.length&&It.keys(t).every(function(i){return e(this.get(i),t[i])},this))},d.prototype.Cv=function(t,e){this.key=t,this.value=e},Et.Yd&&(Et=Et.Yd);
var Ct={},Ot=x,Pt=Et,At=X;Ct.Yd=f,Object.addEach(f.prototype,Ot.prototype),Object.addEach(f.prototype,Pt.prototype),Object.addEach(f.prototype,At.prototype),f.prototype.tf=function(t){return new this.constructor(t,this.mangle,this.content)},f.prototype.Pv=function(t){if("string"!=typeof t)throw new TypeError("key must be a string.")},f.prototype.get=function(t,e){this.Pv(t);var i="~"+t;return i in this.jd?this.jd[i]:1<arguments.length?e:this.content()},f.prototype.set=function(t,e){this.Pv(t);var i="~"+t;return i in this.jd?(this.jd[i]=e,!1):(this.length++,this.jd[i]=e,!0)},f.prototype.has=function(t){return this.Pv(t),"~"+t in this.jd},f.prototype["delete"]=function(t){return this.Pv(t),"~"+t in this.jd&&(delete this.jd["~"+t],this.length--,!0)},f.prototype.clear=function(){for(var t in this.jd)delete this.jd[t];this.length=0},f.prototype.reduce=function(t,e,i){for(var r in this.jd)e=t.call(i,e,this.jd[r],r.slice(1),this);return e},f.prototype.cf=function(){for(var t in this.jd)return this.jd[t];throw Error("Can't get one value from empty dictionary.")},Ct.Yd&&(Ct=Ct.Yd);var Nt={},xt=Ct,_t=mt,Bt=x,Ft=_,Dt=H,Ht=X;Nt.Yd=v,Object.addEach(v.prototype,Bt.prototype),Object.addEach(v.prototype,Ft.prototype),Object.addEach(v.prototype,Ht.prototype),v.prototype.Ud=xt,v.prototype.Vd=_t,v.prototype.tf=function(t){return new this.constructor(t,this.Fd,this.Ld,this.content)},v.prototype.has=function(t){var e=this.Ld(t);return this.Md.get(e).has(t)},v.prototype.get=function(t){var e=this.Ld(t),i=this.Md;return i.has(e)?i.get(e).get(t):this.content(t)},v.prototype["delete"]=function(t){var e=this.Ld(t),i=this.Md;if(i.has(e)){var r=i.get(e);if(r["delete"](t))return this.length--,0===r.length&&i["delete"](e),!0}return!1},v.prototype.clear=function(){this.Md.clear(),this.length=0},v.prototype.add=function(t){var e=this.Ld(t),i=this.Md;return i.has(e)||i.set(e,new this.Vd(null,this.Fd)),!i.get(e).has(t)&&(i.get(e).add(t),this.length++,!0)},v.prototype.reduce=function(t,e,i){return this.Md.reduce(function(e,r){return r.reduce(function(e,r){return t.call(i,e,r,r,this)},e,this)},e,this)},v.prototype.cf=function(){if(0===this.length)throw Error("Can't get one value from empty set.");return this.Md.cf().cf()},v.prototype.xd=function(){return this.Md.values().rf().xd()},v.prototype.log=function(t,e,i,r){t=t||Dt.Ef,e=e||this.Av,i||(i=console.log,r=console);var i=i.bind(r),n=this.Md,o=n.keys();o.forEach(function(s,a){var c,h;a===o.length-1?(c=t.wf,h=" "):(c=0===a?t.yf:t.Tf,h=t.Sf);var p=n.get(s);i.call(r,c+t.vf+t.yf+" "+s),p.forEach(function(n,o){var s,a;o===p.head.Bd?(s=t.wf,a=" "):(s=t.Tf,a=t.Sf);var c;e(o,function(e){c?i.call(r,h+" "+a+"  "+e):(i.call(r,h+" "+s+t.vf+t.vf+e),c=!0)},function(e){i.call(r,h+" "+t.Sf+"  "+e)})})})},v.prototype.Av=function(t,e){var i=t.value;Object(i)===i?JSON.stringify(i,null,4).split("\n").forEach(function(t){e(" "+t)}):e(" "+i)},Nt.Yd&&(Nt=Nt.Yd);var jt={},Lt=Nt,Mt=x,Ut=Et,Vt=X;jt.Yd=g,Object.addEach(g.prototype,Mt.prototype),Object.addEach(g.prototype,Ut.prototype),Object.addEach(g.prototype,Vt.prototype),g.prototype.tf=function(t){return new this.constructor(t,this.Fd,this.Ld,this.content)},g.prototype.log=function(t,e){e=e||this.stringify,this.jd.log(t,e)},g.prototype.stringify=function(t,e){return e+JSON.stringify(t.key)+": "+JSON.stringify(t.value)},jt.Yd&&(jt=jt.Yd);var Qt={},qt=mt,Jt=Nt,Kt=x,Gt=_,zt=X,Wt=rt;Qt.Yd=y,Object.addEach(y.prototype,Kt.prototype),Object.addEach(y.prototype,Gt.prototype),Object.addEach(y.prototype,zt.prototype),Object.addEach(y.prototype,Wt.prototype),y.prototype.Qd=qt,y.prototype.qd=Jt,y.prototype.tf=function(t){return new this.constructor(t,this.Fd,this.Ld,this.content)},y.prototype.has=function(t){return t=new this.order.Node(t),this.jd.has(t)},y.prototype.get=function(t){var e=new this.order.Node(t);return(e=this.jd.get(e))?e.value:this.content(t)},y.prototype.add=function(t){var e=new this.order.Node(t);return!this.jd.has(e)&&(this.Gf&&this.ev([t],[],0),this.order.add(t),e=this.order.head.Bd,this.jd.add(e),this.length++,this.Gf&&this.Wf([t],[],0),!0)},y.prototype["delete"]=function(t){var e=new this.order.Node(t);return!!this.jd.has(e)&&(this.Gf&&this.ev([],[t],0),e=this.jd.get(e),this.jd["delete"](e),e["delete"](),this.length--,this.Gf&&this.Wf([],[t],0),!0)},y.prototype.cf=function(){if(0===this.length)throw Error("Can't get one value from empty set.");return this.jd.cf().value},y.prototype.clear=function(){this.jd.clear(),this.order.clear(),this.length=0},y.prototype.reduce=function(t,e,i){return this.order.reduce(function(e,r){return t.call(i,e,r,r,this)},e,this)},y.prototype.reduceRight=function(t,e,i){return this.order.reduceRight(function(e,r){return t.call(i,e,r,r,this)},e,this)},y.prototype.xd=function(){return this.order.xd()},y.prototype.log=function(){var t=this.jd;return t.log.apply(t,arguments)},Qt.Yd&&(Qt=Qt.Yd);var $t={},Yt=Qt,Xt=x,Zt=_,te=X;$t.Yd=m,Object.addEach(m.prototype,Xt.prototype),Object.addEach(m.prototype,Zt.prototype),Object.addEach(m.prototype,te.prototype),m.prototype.tf=function(t){return new this.constructor(t,this.maxLength,this.Fd,this.Ld,this.content)},m.prototype.has=function(t){return this.jd.has(t)},m.prototype.get=function(t){return t=this.jd.get(t),void 0!==t?(this.jd["delete"](t),this.jd.add(t)):t=this.content(),t},m.prototype.add=function(t){return this.jd.has(t)&&(this.jd["delete"](t),this.length--),this.jd.add(t),this.length++,!(this.jd.length>this.maxLength)||(this.jd["delete"](this.jd.order.head.next.value),this.length--,!1)},m.prototype["delete"]=function(t){return!!this.jd["delete"](t)&&(this.length--,!0)},m.prototype.cf=function(){if(0===this.length)throw Error("Can't get one value from empty collection.");return this.jd.cf()},m.prototype.clear=function(){this.jd.clear(),this.length=0},m.prototype.reduce=function(t,e,i){return this.jd.reduce(function(e,r){return t.call(i,e,r,r,this)},e,this)},m.prototype.reduceRight=function(t,e,i){return this.jd.reduceRight(function(t,e){return callback.call(i,t,e,e,this)},basis,this)},m.prototype.xd=function(){return this.jd.xd()},$t.Yd&&($t=$t.Yd);var ee={},ie=$t,re=x,ne=Et,oe=X;ee.Yd=w,Object.addEach(w.prototype,re.prototype),Object.addEach(w.prototype,ne.prototype),Object.addEach(w.prototype,oe.prototype),w.prototype.tf=function(t){return new this.constructor(t,this.maxLength,this.Fd,this.Ld,this.content)},w.prototype.log=function(t,e){e=e||this.stringify,this.jd.log(t,e)},w.prototype.stringify=function(t,e){return e+JSON.stringify(t.key)+": "+JSON.stringify(t.value)},ee.Yd&&(ee=ee.Yd);var se={},ae=Qt,ce=x,he=Et,pe=X;se.Yd=T,Object.addEach(T.prototype,ce.prototype),Object.addEach(T.prototype,he.prototype),Object.addEach(T.prototype,pe.prototype),T.prototype.tf=function(t){return new this.constructor(t,this.Fd,this.Ld,this.content)},T.prototype.log=function(t,e){e=e||this.stringify,this.jd.log(t,e)},T.prototype.stringify=function(t,e){return e+JSON.stringify(t.key)+": "+JSON.stringify(t.value)},se.Yd&&(se=se.Yd);var ue={},le=se;ue.Yd=S,S.prototype=Object.create(le.prototype),S.prototype.constructor=S,S.prototype.tf=function(t){return new this.constructor(t,this.Jd,this.Fd,this.Ld)},S.prototype.set=function(t,e){var i=this.get(t);i.fv(0,i.length,e)},S.prototype.Jd=function(){return[]},ue.Yd&&(ue=ue.Yd);var de={};de.Yd=b;var fe=X,ve=rt;Object.addEach(b.prototype,x.prototype),Object.addEach(b.prototype,fe.prototype),Object.addEach(b.prototype,ve.prototype),b.prototype.tf=function(t){return new this.constructor(t,this.Fd,this.Kd,this.content)},b.prototype.has=function(t){var e=E(this._d,t,this.Kd);return 0<=e&&this.Fd(this._d[e],t)},b.prototype.get=function(t){var e=I(this._d,t,this.Kd,this.Fd);return-1!==e?this._d[e]:this.content(t)},b.prototype.add=function(t){var e;e=this._d;var i=this.Kd,r=E(e,t,i);if(0>r)e=-r-1;else{for(var n=e.length-1;r<n&&0===i(t,e[r+1]);)r++;e=r}return this.Gf&&this.ev([t],[],e),this._d.splice(e,0,t),this.length++,this.Gf&&this.Wf([t],[],e),!0},b.prototype["delete"]=function(t){var e=I(this._d,t,this.Kd,this.Fd);return-1!==e&&(this.Gf&&this.ev([],[t],e),this._d.splice(e,1),this.length--,this.Gf&&this.Wf([],[t],e),!0)},b.prototype.indexOf=function(t){return I(this._d,t,this.Kd,this.Fd)},b.prototype.lastIndexOf=function(t){return R(this._d,t,this.Kd,this.Fd)},b.prototype.find=function(t){return I(this._d,t,this.Kd,this.Fd)},b.prototype.dv=function(t){return R(this._d,t,this.Kd,this.Fd)},b.prototype.push=function(){this.addEach(arguments)},b.prototype.unshift=function(){this.addEach(arguments)},b.prototype.pop=function(){return this._d.pop()},b.prototype.shift=function(){return this._d.shift()},b.prototype.slice=function(){return this._d.slice.apply(this._d,arguments)},b.prototype.splice=function(t,e){return this.fv(t,e,Array.prototype.slice.call(arguments,2))},b.prototype.fv=function(t,e,i){if(void 0===t&&void 0===e)return[];t=t||0,0>t&&(t+=this.length),void 0===e&&(e=1/0);var r=this.slice(t,t+e);return this.Gf&&this.ev(i,r,t),this._d.splice(t,e),this.addEach(i),this.Gf&&this.Wf(i,r,t),r},b.prototype.reduce=function(t,e,i){return this._d.reduce(function(e,r,n){return t.call(i,e,r,n,this)},e,this)},b.prototype.reduceRight=function(t,e,i){return this._d.reduceRight(function(t,e,r){return callback.call(i,t,e,r,this)},basis,this)},b.prototype.min=function(){if(this.length)return this._d[0]},b.prototype.max=function(){if(this.length)return this._d[this.length-1]},b.prototype.cf=function(){return this._d.cf()},b.prototype.clear=function(){var t;this.Gf&&(t=this._d.slice(),this.ev([],t,0)),this.length=0,this._d.clear(),this.Gf&&this.Wf([],t,0)},b.prototype.Zu=function(t,e){return this._d.Zu(t,e)},b.prototype.Gd=function(t,e){return this._d.Gd(t,e)},b.prototype.xd=function(t,e){return new this.Iterator(this._d,t,e)},b.prototype.Iterator=Array.prototype.Iterator,de.Yd&&(de=de.Yd);var ge={};ge.Yd=k;var ye=de,me=_,we=X;k.prototype=Object.create(ye.prototype),k.prototype.constructor=k,Object.addEach(k.prototype,me.prototype),Object.addEach(k.prototype,we.prototype),k.prototype.add=function(t){return!this.has(t)&&(ye.prototype.add.call(this,t),!0)},k.prototype.reduce=function(t,e,i){var r=this;return this._d.reduce(function(e,n,o){return t.call(i,e,n,n,r,o)},e)},k.prototype.reduceRight=function(t,e,i){var r=this;return this._d.reduceRight(function(e,n,o){return t.call(i,e,n,n,r,o)},e)},ge.Yd&&(ge=ge.Yd);var Te={},Se=ge,be=x,Ee=Et,Ie=X;Te.Yd=C,Object.addEach(C.prototype,be.prototype),Object.addEach(C.prototype,Ee.prototype),Object.addEach(C.prototype,Ie.prototype),C.prototype.tf=function(t){return new this.constructor(t,this.Fd,this.Kd,this.content)},Te.Yd&&(Te=Te.Yd);var Re={};Re.Yd=O;var ke=_,Ce=X,Oe=rt,Pe=H;Object.addEach(O.prototype,x.prototype),Object.addEach(O.prototype,ke.prototype),Object.addEach(O.prototype,Ce.prototype),Object.addEach(O.prototype,Oe.prototype),O.prototype.tf=function(t){return new this.constructor(t,this.Fd,this.Kd,this.content)},O.prototype.has=function(t){return!!this.root&&(this.Wd(t),this.Fd(t,this.root.value))},O.prototype.get=function(t){return this.root&&(this.Wd(t),this.Fd(t,this.root.value))?this.root.value:this.content(t)},O.prototype.add=function(t){var e=new this.Node(t);return this.root?(this.Wd(t),!this.Fd(t,this.root.value)&&(this.Gf&&this.ev([t],[],this.root.index),0>this.Kd(t,this.root.value)?(e.right=this.root,e.left=this.root.left,this.root.left=null):(e.left=this.root,e.right=this.root.right,this.root.right=null),this.root.Nv(),e.Nv(),this.root=e,this.length++,this.Gf&&this.Wf([t],[],this.root.index),!0)):(this.Gf&&this.ev([t],[],0),this.root=e,this.length++,this.Gf&&this.Wf([t],[],0),!0)},O.prototype["delete"]=function(t){if(this.root&&(this.Wd(t),this.Fd(t,this.root.value))){var e=this.root.index;if(this.Gf&&this.ev([],[t],e),this.root.left){var i=this.root.right;this.root=this.root.left,this.Wd(t),this.root.right=i}else this.root=this.root.right;return this.length--,this.root&&this.root.Nv(),this.Gf&&this.Wf([],[t],e),!0}return!1},O.prototype.indexOf=function(t){return this.root&&(this.Wd(t),this.Fd(t,this.root.value))?this.root.index:-1},O.prototype.find=function(t){if(this.root&&(this.Wd(t),this.Fd(t,this.root.value)))return this.root},O.prototype.xv=function(t){if(this.root){for(t=t||this.root;t.right;)t=t.right;return t}},O.prototype._v=function(t){if(this.root){for(t=t||this.root;t.left;)t=t.left;return t}},O.prototype.Bv=function(t){if(this.root)return this.Wd(t),this.root},O.prototype.Fv=function(t){if(this.root)return this.Wd(t),this.root.$d()},O.prototype.zd=function(t){if(this.root)return this.Wd(t),0===this.Kd(t,this.root.value)?this.root:this.root.Dv()},O.prototype.Hv=function(t){if(this.root)return this.Wd(t),this.Kd(t,this.root.value),this.root.Dv()},O.prototype.pop=function(){if(this.root){var t=this.xv();return this["delete"](t.value),t.value}},O.prototype.shift=function(){if(this.root){var t=this._v();return this["delete"](t.value),t.value}},O.prototype.push=function(){this.addEach(arguments)},O.prototype.unshift=function(){this.addEach(arguments)},O.prototype.slice=function(t,e){t=t||0,e=e||this.length,0>t&&(t+=this.length),0>e&&(e+=this.length);var i=[];if(this.root)for(this.jv(t);this.root.index<e&&(i.push(this.root.value),this.root.right);)this.Wd(this.root.Dv().value);return i},O.prototype.splice=function(t,e){return this.fv(t,e,Array.prototype.slice.call(arguments,2))},O.prototype.fv=function(t,e,i){if(void 0===t&&void 0===e)return[];t=t||0,0>t&&(t+=this.length),void 0===e&&(e=1/0);var r=[];if(this.root)for(this.jv(t),t=0;t<e;t++){r.push(this.root.value);var n=this.root.Dv();if(this["delete"](this.root.value),!n)break;this.Wd(n.value)}return this.addEach(i),r},O.prototype.Wd=function(t){var e,i,r,n,o,s;if(this.root){for(e=i=r=new this.Node,s=new this.Node,o=this.root;;)if(n=this.Kd(t,o.value),0>n){if(!o.left)break;if(0>this.Kd(t,o.left.value)&&(n=o.left,o.left=n.right,o.Nv(),n.right=o,n.Nv(),o=n,!o.left))break;n=new P,n.right=o,n.left=s.left,s.left=n,r.left=o,r.Nv(),r=o,o=o.left}else{if(!(0<n))break;if(!o.right)break;if(0<this.Kd(t,o.right.value)&&(n=o.right,o.right=n.left,o.Nv(),n.left=o,n.Nv(),o=n,!o.right))break;n=new P,n.left=o,n.right=s.right,s.right=n,i.right=o,i.Nv(),i=o,o=o.right}for(i.right=o.left,i.Nv(),r.left=o.right,r.Nv(),o.left=e.right,o.right=e.left;s.left;)s.left.right.Nv(),s.left=s.left.left;for(;s.right;)s.right.left.Nv(),s.right=s.right.right;o.Nv(),this.root=o}},O.prototype.jv=function(t){if(this.root){for(var e=this.root,i=this.root.index;i!==t;)if(i>t&&e.left)e=e.left,i-=1+(e.right?e.right.length:0);else{if(!(i<t&&e.right))break;e=e.right,i+=1+(e.left?e.left.length:0)}return this.Wd(e.value),this.root.index===t}return!1},O.prototype.reduce=function(t,e,i){return this.root&&(e=this.root.reduce(t,e,i,this)),e},O.prototype.reduceRight=function(t,e,i){return this.root&&(e=this.root.reduceRight(t,e,i,this)),e},O.prototype.min=function(t){if(t=this._v(t))return t.value},O.prototype.max=function(t){if(t=this.xv(t))return t.value},O.prototype.cf=function(){if(!this.root)throw Error("Can't get one value from empty set");return this.root.value},O.prototype.clear=function(){var t;this.Gf&&(t=this.toArray(),this.ev([],t,0)),this.root=null,this.length=0,this.Gf&&this.Wf([],t,0)},O.prototype.xd=function(t,e){return new this.Iterator(this,t,e)},O.prototype.Iterator=A,O.prototype.summary=function(){return this.root?this.root.summary():"()"},O.prototype.log=function(t,e,i,r){t=t||Pe.bf,e=e||this.Av,i||(i=console.log,r=console),i=i.bind(r),this.root&&this.root.log(t,e,i,i)},O.prototype.Av=function(t,e){e(" "+t.value)},O.Lv=Pe,O.prototype.Node=P,P.prototype.reduce=function(t,e,i,r,n){return n=n||0,this.left&&(e=this.left.reduce(t,e,i,r,n+1)),e=t.call(i,e,this.value,this.value,r,this,n),this.right&&(e=this.right.reduce(t,e,i,r,n+1)),e},P.prototype.reduceRight=function(t,e,i,r,n){return n=n||0,this.right&&(e=this.right.reduce(t,e,i,r,n+1)),e=t.call(i,e,this.value,this.value,r,this,n),this.left&&(e=this.left.reduce(t,e,i,r,n+1)),e},P.prototype.Nv=function(){this.length=1+(this.left?this.left.length:0)+(this.right?this.right.length:0),this.index=this.left?this.left.length:0},P.prototype.Mv=function(){var t;if(t=1+(this.left?this.left.Mv():0),t+=this.right?this.right.Mv():0,this.length!==t)throw Error("Integrity check failed: "+this.summary());return t},P.prototype.Dv=function(){var t=this;if(t.right){for(t=t.right;t.left;)t=t.left;return t}},P.prototype.$d=function(){var t=this;if(t.left){for(t=t.left;t.right;)t=t.right;return t}},P.prototype.summary=function(){var t=this.value||"-",t=t+(" <"+this.length);return this.left||this.right?"("+t+" "+(this.left?this.left.summary():"()")+", "+(this.right?this.right.summary():"()")+")":"("+t+")"},P.prototype.log=function(t,e,i,r){var n,o=this;n=this.left&&this.right?t.pf:this.left?t.gf:this.right?t.yf:t.vf;var s;this.left&&this.left.log(t,e,function(e){s?r(t.Sf+" "+e):(s=!0,r(t.mf+t.vf+e))},function(t){r("  "+t)});var a;e(this,function(e){a?i((o.right?t.Sf:" ")+e):(a=!0,i(n+e))},function(e){r((o.left?t.Sf:" ")+e)});var c;this.right&&this.right.log(t,e,function(e){c?i("  "+e):(c=!0,i(t.wf+t.vf+e))},function(e){i(t.Sf+" "+e)})},A.prototype.next=function(){var t;if(t=this.Bd?this.set.Hv(this.Bd.value):this.set._v(),!t)throw StopIteration;if(void 0!==this.end&&0<=this.set.Kd(t.value,this.end))throw StopIteration;return this.Bd=t,t.value},Re.Yd&&(Re=Re.Yd);var Ae={},Ne=Re,xe=x,_e=Et,Be=X;Ae.Yd=N,Object.addEach(N.prototype,xe.prototype),Object.addEach(N.prototype,_e.prototype),Object.addEach(N.prototype,Be.prototype),N.prototype.tf=function(t){return new this.constructor(t,this.Fd,this.Kd,this.content)},N.prototype.log=function(t,e){e=e||this.stringify,this.jd.log(t,e)},N.prototype.Uv=function(t,e,i,r){r=r||this.stringify,this.jd.Uv(t,e,i,r)},N.prototype.stringify=function(t,e,i,r){t.call(e,r+" "+i.value.key+": "+i.value.value)},Ae.Yd&&(Ae=Ae.Yd),t.Vv=mt,t.Set=Qt,t.Map=se,t.Qv=ue,t.WeakMap=L,t.qv=Re,t.ni=Ae,t.Jv=$t,t.Kv=ee,t.Gv=de,t.oi=ge,t.zv=Te,t.Wv=Nt,t.$v=jt,t.Yv=Ct,t.Iterator=ut}(this)},function(t,e){t.t=function(){return new Function}},function(t,e){function i(t,e,i){null!=t&&("number"==typeof t?this.fromNumber(t,e,i):null==e&&"string"!=typeof t?this.Xv(t,256):this.Xv(t,e))}function r(){return new i(null)}function n(t,e,i,r,n,o){for(;--o>=0;){var s=e*this[t++]+i[r]+n;n=Math.floor(s/67108864),i[r++]=67108863&s}return n}function o(t,e,i,r,n,o){for(var s=32767&e,a=e>>15;--o>=0;){var c=32767&this[t],h=this[t++]>>15,p=a*c+h*s;c=s*c+((32767&p)<<15)+i[r]+(1073741823&n),n=(c>>>30)+(p>>>15)+a*h+(n>>>30),i[r++]=1073741823&c}return n}function s(t,e,i,r,n,o){for(var s=16383&e,a=e>>14;--o>=0;){var c=16383&this[t],h=this[t++]>>14,p=a*c+h*s;c=s*c+((16383&p)<<14)+i[r]+n,n=(c>>28)+(p>>14)+a*h,i[r++]=268435455&c}return n}function a(t){return Pt.charAt(t)}function c(t,e){var i=At[t.charCodeAt(e)];return null==i?-1:i}function h(t){for(var e=this.Zv-1;e>=0;--e)t[e]=this[e];t.Zv=this.Zv,t.tg=this.tg}function p(t){this.Zv=1,this.tg=t<0?-1:0,t>0?this[0]=t:t<-1?this[0]=t+this.eg:this.Zv=0}function u(t){var e=r();return e.ig(t),e}function l(t,e){var r;if(16==e)r=4;else if(8==e)r=3;else if(256==e)r=8;else if(2==e)r=1;else if(32==e)r=5;else{if(4!=e)return void this.fromRadix(t,e);r=2}this.Zv=0,this.tg=0;for(var n=t.length,o=!1,s=0;--n>=0;){var a=8==r?255&t[n]:c(t,n);a<0?"-"==t.charAt(n)&&(o=!0):(o=!1,0==s?this[this.Zv++]=a:s+r>this.rg?(this[this.Zv-1]|=(a&(1<<this.rg-s)-1)<<s,this[this.Zv++]=a>>this.rg-s):this[this.Zv-1]|=a<<s,s+=r,s>=this.rg&&(s-=this.rg))}8==r&&0!=(128&t[0])&&(this.tg=-1,s>0&&(this[this.Zv-1]|=(1<<this.rg-s)-1<<s)),this.ng(),o&&i.ZERO.og(this,this)}function d(){for(var t=this.tg&this.sg;this.Zv>0&&this[this.Zv-1]==t;)--this.Zv}function f(t){if(this.tg<0)return"-"+this.ag().toString(t);var e;if(16==t)e=4;else if(8==t)e=3;else if(2==t)e=1;else if(32==t)e=5;else{if(4!=t)return this.toRadix(t);e=2}var i,r=(1<<e)-1,n=!1,o="",s=this.Zv,c=this.rg-s*this.rg%e;if(s-- >0)for(c<this.rg&&(i=this[s]>>c)>0&&(n=!0,o=a(i));s>=0;)c<e?(i=(this[s]&(1<<c)-1)<<e-c,i|=this[--s]>>(c+=this.rg-e)):(i=this[s]>>(c-=e)&r,c<=0&&(c+=this.rg,--s)),i>0&&(n=!0),n&&(o+=a(i));return n?o:"0"}function v(){var t=r();return i.ZERO.og(this,t),t}function g(){return this.tg<0?this.ag():this}function y(t){var e=this.tg-t.tg;if(0!=e)return e;var i=this.Zv;if(e=i-t.Zv,0!=e)return this.tg<0?-e:e;for(;--i>=0;)if(0!=(e=this[i]-t[i]))return e;return 0}function m(t){var e,i=1;return 0!=(e=t>>>16)&&(t=e,i+=16),0!=(e=t>>8)&&(t=e,i+=8),0!=(e=t>>4)&&(t=e,i+=4),0!=(e=t>>2)&&(t=e,i+=2),0!=(e=t>>1)&&(t=e,i+=1),i}function w(){return this.Zv<=0?0:this.rg*(this.Zv-1)+m(this[this.Zv-1]^this.tg&this.sg)}function T(t,e){var i;for(i=this.Zv-1;i>=0;--i)e[i+t]=this[i];for(i=t-1;i>=0;--i)e[i]=0;e.Zv=this.Zv+t,e.tg=this.tg}function S(t,e){for(var i=t;i<this.Zv;++i)e[i-t]=this[i];e.Zv=Math.max(this.Zv-t,0),e.tg=this.tg}function b(t,e){var i,r=t%this.rg,n=this.rg-r,o=(1<<n)-1,s=Math.floor(t/this.rg),a=this.tg<<r&this.sg;for(i=this.Zv-1;i>=0;--i)e[i+s+1]=this[i]>>n|a,a=(this[i]&o)<<r;for(i=s-1;i>=0;--i)e[i]=0;e[s]=a,e.Zv=this.Zv+s+1,e.tg=this.tg,e.ng()}function E(t,e){e.tg=this.tg;var i=Math.floor(t/this.rg);if(i>=this.Zv)return void(e.Zv=0);var r=t%this.rg,n=this.rg-r,o=(1<<r)-1;e[0]=this[i]>>r;for(var s=i+1;s<this.Zv;++s)e[s-i-1]|=(this[s]&o)<<n,e[s-i]=this[s]>>r;r>0&&(e[this.Zv-i-1]|=(this.tg&o)<<n),e.Zv=this.Zv-i,e.ng()}function I(t,e){for(var i=0,r=0,n=Math.min(t.Zv,this.Zv);i<n;)r+=this[i]-t[i],e[i++]=r&this.sg,r>>=this.rg;if(t.Zv<this.Zv){for(r-=t.tg;i<this.Zv;)r+=this[i],e[i++]=r&this.sg,r>>=this.rg;r+=this.tg}else{for(r+=this.tg;i<t.Zv;)r-=t[i],e[i++]=r&this.sg,r>>=this.rg;r-=t.tg}e.tg=r<0?-1:0,r<-1?e[i++]=this.eg+r:r>0&&(e[i++]=r),e.Zv=i,e.ng()}function R(t,e){var r=this.abs(),n=t.abs(),o=r.Zv;for(e.Zv=o+n.Zv;--o>=0;)e[o]=0;for(o=0;o<n.Zv;++o)e[o+r.Zv]=r.cg(0,n[o],e,o,0,r.Zv);e.tg=0,e.ng(),this.tg!=t.tg&&i.ZERO.og(e,e)}function k(t){for(var e=this.abs(),i=t.Zv=2*e.Zv;--i>=0;)t[i]=0;for(i=0;i<e.Zv-1;++i){var r=e.cg(i,e[i],t,2*i,0,1);(t[i+e.Zv]+=e.cg(i+1,2*e[i],t,2*i+1,r,e.Zv-i-1))>=e.eg&&(t[i+e.Zv]-=e.eg,t[i+e.Zv+1]=1)}t.Zv>0&&(t[t.Zv-1]+=e.cg(i,e[i],t,2*i,0,1)),t.tg=0,t.ng()}function C(t,e,n){var o=t.abs();if(!(o.Zv<=0)){var s=this.abs();if(s.Zv<o.Zv)return null!=e&&e.ig(0),void(null!=n&&this.hg(n));null==n&&(n=r());var a=r(),c=this.tg,h=t.tg,p=this.rg-m(o[o.Zv-1]);p>0?(o.pg(p,a),s.pg(p,n)):(o.hg(a),s.hg(n));var u=a.Zv,l=a[u-1];if(0!=l){var d=l*(1<<this.ug)+(u>1?a[u-2]>>this.lg:0),f=this.dg/d,v=(1<<this.ug)/d,g=1<<this.lg,y=n.Zv,w=y-u,T=null==e?r():e;for(a.fg(w,T),n.vg(T)>=0&&(n[n.Zv++]=1,n.og(T,n)),i.ONE.fg(u,T),T.og(a,a);a.Zv<u;)a[a.Zv++]=0;for(;--w>=0;){var S=n[--y]==l?this.sg:Math.floor(n[y]*f+(n[y-1]+g)*v);if((n[y]+=a.cg(0,S,n,w,0,u))<S)for(a.fg(w,T),n.og(T,n);n[y]<--S;)n.og(T,n)}null!=e&&(n.gg(u,e),c!=h&&i.ZERO.og(e,e)),n.Zv=u,n.ng(),p>0&&n.yg(p,n),c<0&&i.ZERO.og(n,n)}}}function O(t){var e=r();return this.abs().mg(t,null,e),this.tg<0&&e.vg(i.ZERO)>0&&t.og(e,e),e}function P(t){this.i=t}function A(t){return t.tg<0||t.vg(this.i)>=0?t.wg(this.i):t}function N(t){return t}function x(t){t.mg(this.i,null,t)}function _(t,e,i){t.Tg(e,i),this.reduce(i)}function B(t,e){t.Sg(e),this.reduce(e)}function F(){if(this.Zv<1)return 0;var t=this[0];if(0==(1&t))return 0;var e=3&t;return e=e*(2-(15&t)*e)&15,e=e*(2-(255&t)*e)&255,e=e*(2-((65535&t)*e&65535))&65535,e=e*(2-t*e%this.eg)%this.eg,e>0?this.eg-e:-e}function D(t){this.i=t,this.bg=t.Eg(),this.Ig=32767&this.bg,this.Rg=this.bg>>15,this.kg=(1<<t.rg-15)-1,this.Cg=2*t.Zv}function H(t){var e=r();return t.abs().fg(this.i.Zv,e),e.mg(this.i,null,e),t.tg<0&&e.vg(i.ZERO)>0&&this.i.og(e,e),e}function j(t){var e=r();return t.hg(e),this.reduce(e),e}function L(t){for(;t.Zv<=this.Cg;)t[t.Zv++]=0;for(var e=0;e<this.i.Zv;++e){var i=32767&t[e],r=i*this.Ig+((i*this.Rg+(t[e]>>15)*this.Ig&this.kg)<<15)&t.sg;for(i=e+this.i.Zv,t[i]+=this.i.cg(0,r,t,e,0,this.i.Zv);t[i]>=t.eg;)t[i]-=t.eg,t[++i]++}t.ng(),t.gg(this.i.Zv,t),t.vg(this.i)>=0&&t.og(this.i,t)}function M(t,e){t.Sg(e),this.reduce(e)}function U(t,e,i){t.Tg(e,i),this.reduce(i)}function V(){return 0==(this.Zv>0?1&this[0]:this.tg)}function Q(t,e){if(t>4294967295||t<1)return i.ONE;var n=r(),o=r(),s=e.Og(this),a=m(t)-1;for(s.hg(n);--a>=0;)if(e.Pg(n,o),(t&1<<a)>0)e.Ag(o,s,n);else{var c=n;n=o,o=c}return e.Ng(n)}function q(t,e){var i;return i=t<256||e.xg()?new P(e):new D(e),this.exp(t,i)}function J(t){var e,i,r,n="",o=0;for(e=0;e<t.length&&t.charAt(e)!=xt;++e)r=Nt.indexOf(t.charAt(e)),r<0||(0==o?(n+=a(r>>2),i=3&r,o=1):1==o?(n+=a(i<<2|r>>4),i=15&r,o=2):2==o?(n+=a(i),n+=a(r>>2),i=3&r,o=3):(n+=a(i<<2|r>>4),n+=a(15&r),o=0));return 1==o&&(n+=a(i<<2)),n}function K(t){var e,i=J(t),r=new Array;for(e=0;2*e<i.length;++e)r[e]=parseInt(i.substring(2*e,2*e+2),16);return r}/*! (c) Tom Wu | http://www-cs-students.stanford.edu/~tjw/jsbn/
	 */
function G(t,e){return new i(t,e)}function z(t,e){if(e<t.length+11)return alert("Message too long for RSA"),null;for(var r=new Array,n=t.length-1;n>=0&&e>0;){var o=t.charCodeAt(n--);o<128?r[--e]=o:o>127&&o<2048?(r[--e]=63&o|128,r[--e]=o>>6|192):(r[--e]=63&o|128,r[--e]=o>>6&63|128,r[--e]=o>>12|224)}r[--e]=0;for(var s=new SecureRandom,a=new Array;e>2;){for(a[0]=0;0==a[0];)s.nextBytes(a);r[--e]=a[0]}return r[--e]=2,r[--e]=0,new i(r)}function W(t,e,i){for(var r="",n=0;r.length<e;)r+=i(String.fromCharCode.apply(String,t.concat([(4278190080&n)>>24,(16711680&n)>>16,(65280&n)>>8,255&n]))),n+=1;return r}function $(t,e,r){if(t.length+2*_t+2>e)throw"Message too long for RSA";var n,o="";for(n=0;n<e-t.length-2*_t-2;n+=1)o+="\0";var s=rstr_sha1("")+o+""+t,a=new Array(_t);(new SecureRandom).nextBytes(a);var c=W(a,s.length,r||rstr_sha1),h=[];for(n=0;n<s.length;n+=1)h[n]=s.charCodeAt(n)^c.charCodeAt(n);var p=W(h,a.length,rstr_sha1),u=[0];for(n=0;n<a.length;n+=1)u[n+1]=a[n]^p.charCodeAt(n);return new i(u.concat(h))}function Y(){this.n=null,this.e=0,this.d=null,this.o=null,this._g=null,this.Bg=null,this.Fg=null,this.Dg=null}function X(t,e){this.Hg=!0,"string"!=typeof t?(this.n=t,this.e=e):null!=t&&null!=e&&t.length>0&&e.length>0?(this.n=G(t,16),this.e=parseInt(e,16)):alert("Invalid RSA public key")}function Z(t){return t.jg(this.e,this.n)}function tt(t){var e=z(t,this.n.Lg()+7>>3);if(null==e)return null;var i=this.Mg(e);if(null==i)return null;var r=i.toString(16);return 0==(1&r.length)?r:"0"+r}function et(t,e){var i=$(t,this.n.Lg()+7>>3,e);if(null==i)return null;var r=this.Mg(i);if(null==r)return null;var n=r.toString(16);return 0==(1&n.length)?n:"0"+n}function it(t,e){for(var i="",r=e/4-t.length,n=0;n<r;n++)i+="0";return i+t}function rt(t,e){var i=function(t){return KJUR.crypto.Vg.Ug(t,e)},r=i(t);return this.Qg(r,e)}function nt(t,e){var i=KJUR.crypto.Vg.qg(t,e,this.n.Lg()),r=G(i,16),n=this.doPrivate(r),o=n.toString(16);return it(o,this.n.Lg())}function ot(t){return rt.call(this,t,"sha1")}function st(t){return rt.call(this,t,"sha256")}function at(t,e,i){for(var r="",n=0;r.length<e;)r+=hextorstr(i(rstrtohex(t+String.fromCharCode.apply(String,[(4278190080&n)>>24,(16711680&n)>>16,(65280&n)>>8,255&n])))),n+=1;return r}function ct(t,e,i){var r=function(t){return KJUR.crypto.Vg.Jg(t,e)},n=r(rstrtohex(t));return void 0===i&&(i=-1),this.Kg(n,e,i)}function ht(t,e,r){var n,o=hextorstr(t),s=o.length,a=this.n.Lg()-1,c=Math.ceil(a/8),h=function(t){return KJUR.crypto.Vg.Jg(t,e)};if(r===-1||void 0===r)r=s;else if(r===-2)r=c-s-2;else if(r<-2)throw"invalid salt length";if(c<s+r+2)throw"data too long";var p="";r>0&&(p=new Array(r),(new SecureRandom).nextBytes(p),p=String.fromCharCode.apply(String,p));var u=hextorstr(h(rstrtohex("\0\0\0\0\0\0\0\0"+o+p))),l=[];for(n=0;n<c-r-s-2;n+=1)l[n]=0;var d=String.fromCharCode.apply(String,l)+""+p,f=at(u,d.length,h),v=[];for(n=0;n<d.length;n+=1)v[n]=d.charCodeAt(n)^f.charCodeAt(n);var g=65280>>8*c-a&255;for(v[0]&=~g,n=0;n<s;n++)v.push(u.charCodeAt(n));return v.push(188),it(this.doPrivate(new i(v)).toString(16),this.n.Lg())}function pt(t,e,i){var r=new Y;r.Do(e,i);var n=r.Mg(t);return n}function ut(t,e,i){var r=pt(t,e,i),n=r.toString(16).replace(/^1f+00/,"");return n}function lt(t){for(var e in KJUR.crypto.Vg.Gg){var i=KJUR.crypto.Vg.Gg[e],r=i.length;if(t.substring(0,r)==i){var n=[e,t.substring(r)];return n}}return[]}function dt(t,e,i,r){var n=ut(e,i,r),o=lt(n);if(0==o.length)return!1;var s=o[0],a=o[1],c=function(t){return KJUR.crypto.Vg.Ug(t,s)},h=c(t);return a==h}function ft(t,e){var i=G(t,16),r=dt(e,i,this.n.toString(16),this.e.toString(16));return r}function vt(t,e){e=e.replace(Bt,""),e=e.replace(/[ \n]+/g,"");var i=G(e,16);if(i.Lg()>this.n.Lg())return 0;var r=this.Mg(i),n=r.toString(16).replace(/^1f+00/,""),o=lt(n);if(0==o.length)return!1;var s=o[0],a=o[1],c=function(t){return KJUR.crypto.Vg.Ug(t,s)},h=c(t);return a==h}function gt(t,e){e=e.replace(Bt,""),e=e.replace(/[ \n]+/g,"");var i=G(e,16);if(i.Lg()>this.n.Lg())return 0;var r=this.Mg(i),n=r.toString(16).replace(/^1f+00/,""),o=lt(n);if(0==o.length)return!1;var s=(o[0],o[1]);return s==t}function yt(t,e,i,r){var n=function(t){return KJUR.crypto.Vg.Jg(t,i)},o=n(rstrtohex(t));return void 0===r&&(r=-1),this.zg(o,e,i,r)}function mt(t,e,r,n){var o=new i(e,16);if(o.Lg()>this.n.Lg())return!1;var s,a=function(t){return KJUR.crypto.Vg.Jg(t,r)},c=hextorstr(t),h=c.length,p=this.n.Lg()-1,u=Math.ceil(p/8);if(n===-1||void 0===n)n=h;else if(n===-2)n=u-h-2;else if(n<-2)throw"invalid salt length";if(u<h+n+2)throw"data too long";var l=this.Mg(o).toByteArray();for(s=0;s<l.length;s+=1)l[s]&=255;for(;l.length<u;)l.unshift(0);if(188!==l[u-1])throw"encoded message does not end in 0xbc";l=String.fromCharCode.apply(String,l);var d=l.substr(0,u-h-1),f=l.substr(d.length,h),v=65280>>8*u-p&255;if(0!==(d.charCodeAt(0)&v))throw"bits beyond keysize not zero";var g=at(f,d.length,a),y=[];for(s=0;s<d.length;s+=1)y[s]=d.charCodeAt(s)^g.charCodeAt(s);y[0]&=~v;var m=u-h-n-2;for(s=0;s<m;s+=1)if(0!==y[s])throw"leftmost octets not zero";if(1!==y[m])throw"0x01 marker not found";return f===hextorstr(a(rstrtohex("\0\0\0\0\0\0\0\0"+c+String.fromCharCode.apply(String,y.slice(-n)))))}var wt={};wt.userAgent=!1;var Tt={};if("undefined"==typeof St||!St)var St={};St.Wg=function(){var t,e,i,r=arguments,n=null;for(t=0;t<r.length;t+=1)for(i=(""+r[t]).split("."),n=St,e="YAHOO"==i[0]?1:0;e<i.length;e+=1)n[i[e]]=n[i[e]]||{},n=n[i[e]];return n},St.log=function(t,e,i){var r=St.widget.Logger;return!(!r||!r.log)&&r.log(t,e,i)},St.register=function(t,e,i){var r,n,o,s,a,c=St.Ot.$g;for(c[t]||(c[t]={Yg:[],Xg:[]}),r=c[t],n=i.version,o=i.Yh,s=St.Ot.Di,r.name=t,r.version=n,r.Yh=o,r.Yg.push(n),r.Xg.push(o),r.Zg=e,a=0;a<s.length;a+=1)s[a](r);e?(e.VERSION=n,e.ty=o):St.log("mainClass is undefined for module "+t,"warn")},St.Ot=St.Ot||{$g:[],Di:[]},St.Ot.getVersion=function(t){return St.Ot.$g[t]||null},St.Ot.ey=function(t){var e,i=function(t){var e=0;return parseFloat(t.replace(/\./g,function(){return 1==e++?"":"."}))},r=wt,n={iy:0,opera:0,ny:0,oy:0,chrome:0,sy:null,ay:0,hy:0,py:0,uy:0,ly:null,vy:0,gy:0,yy:r&&r.cajaVersion,my:!1,os:null},o=t||wt&&wt.userAgent,s=Tt&&Tt.location,a=s&&s.href;return n.my=a&&0===a.toLowerCase().indexOf("https"),o&&(/windows|win32/i.test(o)?n.os="windows":/macintosh/i.test(o)?n.os="macintosh":/rhino/i.test(o)&&(n.os="rhino"),/KHTML/.test(o)&&(n.oy=1),e=o.match(/AppleWebKit\/([^\s]*)/),e&&e[1]&&(n.oy=i(e[1]),/ Mobile\//.test(o)?(n.sy="Apple",e=o.match(/OS ([^\s]*)/),e&&e[1]&&(e=i(e[1].replace("_","."))),n.ly=e,n.hy=n.uy=n.py=0,e=o.match(/iPad|iPod|iPhone/),e&&e[0]&&(n[e[0].toLowerCase()]=n.ly)):(e=o.match(/NokiaN[^\/]*|Android \d\.\d|webOS\/\d\.\d/),e&&(n.sy=e[0]),/webOS/.test(o)&&(n.sy="WebOS",e=o.match(/webOS\/([^\s]*);/),e&&e[1]&&(n.gy=i(e[1]))),/ Android/.test(o)&&(n.sy="Android",e=o.match(/Android ([^\s]*);/),e&&e[1]&&(n.vy=i(e[1])))),e=o.match(/Chrome\/([^\s]*)/),e&&e[1]?n.chrome=i(e[1]):(e=o.match(/AdobeAIR\/([^\s]*)/),e&&(n.ay=e[0]))),n.oy||(e=o.match(/Opera[\s\/]([^\s]*)/),e&&e[1]?(n.opera=i(e[1]),e=o.match(/Version\/([^\s]*)/),e&&e[1]&&(n.opera=i(e[1])),e=o.match(/Opera Mini[^;]*/),e&&(n.sy=e[0])):(e=o.match(/MSIE\s([^;]*)/),e&&e[1]?n.iy=i(e[1]):(e=o.match(/Gecko\/([^\s]*)/),e&&(n.ny=1,e=o.match(/rv:([^\s\)]*)/),e&&e[1]&&(n.ny=i(e[1]))))))),n},St.Ot.Nh=St.Ot.ey(),function(){if(St.Wg("util","widget","example"),"undefined"!=typeof YAHOO_config){var t,e=YAHOO_config.listener,i=St.Ot.Di,r=!0;if(e){for(t=0;t<i.length;t++)if(i[t]==e){r=!1;break}r&&i.push(e)}}}(),St.lang=St.lang||{},function(){var t=St.lang,e=Object.prototype,i="[object Array]",r="[object Function]",n="[object Object]",o=[],s={wy:"&amp;",Ty:"&lt;",Sy:"&gt;",by:"&quot;",Ey:"&#x27;",Mp:"&#x2F;",Iy:"&#x60;"},a=["toString","valueOf"],c={isArray:function(t){return e.toString.apply(t)===i},Ry:function(t){return"boolean"==typeof t},ky:function(t){return"function"==typeof t||e.toString.apply(t)===r},Cy:function(t){return null===t},Oy:function(t){return"number"==typeof t&&isFinite(t)},iv:function(e){return e&&("object"==typeof e||t.ky(e))||!1},Py:function(t){return"string"==typeof t},Ay:function(t){return"undefined"==typeof t},Ny:St.Ot.Nh.iy?function(i,r){var n,o,s;for(n=0;n<a.length;n+=1)o=a[n],s=r[o],t.ky(s)&&s!=e[o]&&(i[o]=s)}:function(){},xy:function(t){return t.replace(/[&<>"'\/`]/g,function(t){return s[t]})},extend:function(i,r,n){if(!r||!i)throw new Error("extend failed, please check that all dependencies are included.");var o,s=function(){};if(s.prototype=r.prototype,i.prototype=new s,i.prototype.constructor=i,i._y=r.prototype,r.prototype.constructor==e.constructor&&(r.prototype.constructor=r),n){for(o in n)t.hasOwnProperty(n,o)&&(i.prototype[o]=n[o]);t.Ny(i.prototype,n)}},By:function(e,i){if(!i||!e)throw new Error("Absorb failed, verify dependencies.");var r,n,o=arguments,s=o[2];if(s&&s!==!0)for(r=2;r<o.length;r+=1)e[o[r]]=i[o[r]];else{for(n in i)!s&&n in e||(e[n]=i[n]);t.Ny(e,i)}return e},Fy:function(e,i){if(!i||!e)throw new Error("Augment failed, verify dependencies.");var r,n=[e.prototype,i.prototype];for(r=2;r<arguments.length;r+=1)n.push(arguments[r]);return t.By.apply(this,n),e},dump:function(e,i){var r,n,o=[],s="{...}",a="f(){...}",c=", ",h=" => ";if(!t.iv(e))return e+"";if(e instanceof Date||"nodeType"in e&&"tagName"in e)return e;if(t.ky(e))return a;if(i=t.Oy(i)?i:3,t.isArray(e)){for(o.push("["),r=0,n=e.length;r<n;r+=1)t.iv(e[r])?o.push(i>0?t.dump(e[r],i-1):s):o.push(e[r]),o.push(c);o.length>1&&o.pop(),o.push("]")}else{o.push("{");for(r in e)t.hasOwnProperty(e,r)&&(o.push(r+h),t.iv(e[r])?o.push(i>0?t.dump(e[r],i-1):s):o.push(e[r]),o.push(c));o.length>1&&o.pop(),o.push("}")}return o.join("")},Dy:function(e,i,r,o){for(var s,a,c,h,p,u,l,d,f,v=[],g=e.length,y="dump",m=" ",w="{",T="}";(s=e.lastIndexOf(w,g),!(s<0))&&(a=e.indexOf(T,s),!(s+1>a));)l=e.substring(s+1,a),h=l,u=null,c=h.indexOf(m),c>-1&&(u=h.substring(c+1),h=h.substring(0,c)),p=i[h],r&&(p=r(h,p,u)),t.iv(p)?t.isArray(p)?p=t.dump(p,parseInt(u,10)):(u=u||"",d=u.indexOf(y),d>-1&&(u=u.substring(4)),f=p.toString(),p=f===n||d>-1?t.dump(p,parseInt(u,10)):f):t.Py(p)||t.Oy(p)||(p="~-"+v.length+"-~",v[v.length]=l),e=e.substring(0,s)+p+e.substring(a+1),o===!1&&(g=s-1);for(s=v.length-1;s>=0;s-=1)e=e.replace(new RegExp("~-"+s+"-~"),"{"+v[s]+"}","g");return e},trim:function(t){try{return t.replace(/^\s+|\s+$/g,"")}catch(e){return t}},Hy:function(){var e,i={},r=arguments,n=r.length;for(e=0;e<n;e+=1)t.By(i,r[e],!0);return i},jy:function(e,i,r,n,s){e=e||0,i=i||{};var a,c,h=r,p=n;if(t.Py(r)&&(h=i[r]),!h)throw new TypeError("method undefined");return t.Ay(n)||t.isArray(p)||(p=[n]),a=function(){h.apply(i,p||o)},c=s?setInterval(a,e):setTimeout(a,e),{interval:s,cancel:function(){this.interval?clearInterval(c):clearTimeout(c)}}},Ly:function(e){return t.iv(e)||t.Py(e)||t.Oy(e)||t.Ry(e)}};t.hasOwnProperty=e.hasOwnProperty?function(t,e){return t&&t.hasOwnProperty&&t.hasOwnProperty(e)}:function(e,i){return!t.Ay(e[i])&&e.constructor.prototype[i]!==e[i]},c.By(t,c,!0),St.util.My=t,t.Uy=t.Fy,St.Uy=t.Fy,St.extend=t.extend}(),St.register("yahoo",St,{version:"2.9.0",Yh:"2800"});/*! CryptoJS v3.1.2 core-fix.js
	 * code.google.com/p/crypto-js
	 * (c) 2009-2013 by Jeff Mott. All rights reserved.
	 * code.google.com/p/crypto-js/wiki/License
	 * THIS IS FIX of 'core.js' to fix Hmac issue.
	 * https://code.google.com/p/crypto-js/issues/detail?id=84
	 * https://crypto-js.googlecode.com/svn-history/r667/branches/3.x/src/core.js
	 */
var bt=bt||function(t,e){var i={},r=i.Vy={},n=r.Qy=function(){function t(){}return{extend:function(e){t.prototype=this;var i=new t;return e&&i.qy(e),i.hasOwnProperty("init")||(i.init=function(){i.Jy.init.apply(this,arguments)}),i.init.prototype=i,i.Jy=this,i},create:function(){var t=this.extend();return t.init.apply(t,arguments),t},init:function(){},qy:function(t){for(var e in t)t.hasOwnProperty(e)&&(this[e]=t[e]);t.hasOwnProperty("toString")&&(this.toString=t.toString)},clone:function(){return this.init.prototype.extend(this)}}}(),o=r.Ky=n.extend({init:function(t,i){t=this.Gy=t||[],i!=e?this.zy=i:this.zy=4*t.length},toString:function(t){return(t||a).stringify(this)},concat:function(t){var e=this.Gy,i=t.Gy,r=this.zy,n=t.zy;if(this.ng(),r%4)for(var o=0;o<n;o++){var s=i[o>>>2]>>>24-o%4*8&255;e[r+o>>>2]|=s<<24-(r+o)%4*8}else for(var o=0;o<n;o+=4)e[r+o>>>2]=i[o>>>2];return this.zy+=n,this},ng:function(){var e=this.Gy,i=this.zy;e[i>>>2]&=4294967295<<32-i%4*8,e.length=t.ceil(i/4)},clone:function(){var t=n.clone.call(this);return t.Gy=this.Gy.slice(0),t},random:function(e){for(var i=[],r=0;r<e;r+=4)i.push(4294967296*t.random()|0);return new o.init(i,e)}}),s=i.Wy={},a=s.$y={stringify:function(t){for(var e=t.Gy,i=t.zy,r=[],n=0;n<i;n++){var o=e[n>>>2]>>>24-n%4*8&255;r.push((o>>>4).toString(16)),r.push((15&o).toString(16))}return r.join("")},parse:function(t){for(var e=t.length,i=[],r=0;r<e;r+=2)i[r>>>3]|=parseInt(t.substr(r,2),16)<<24-r%8*4;return new o.init(i,e/2)}},c=s.Yy={stringify:function(t){for(var e=t.Gy,i=t.zy,r=[],n=0;n<i;n++){var o=e[n>>>2]>>>24-n%4*8&255;r.push(String.fromCharCode(o))}return r.join("")},parse:function(t){for(var e=t.length,i=[],r=0;r<e;r++)i[r>>>2]|=(255&t.charCodeAt(r))<<24-r%4*8;return new o.init(i,e)}},h=s.Xy={stringify:function(t){try{return decodeURIComponent(escape(c.stringify(t)))}catch(e){throw new Error("Malformed UTF-8 data")}},parse:function(t){return c.parse(unescape(encodeURIComponent(t)))}},p=r.Zy=n.extend({reset:function(){this.tm=new o.init,this.em=0},im:function(t){"string"==typeof t&&(t=h.parse(t)),this.tm.concat(t),this.em+=t.zy},rm:function(e){var i=this.tm,r=i.Gy,n=i.zy,s=this.nm,a=4*s,c=n/a;c=e?t.ceil(c):t.max((0|c)-this.om,0);var h=c*s,p=t.min(4*h,n);if(h){for(var u=0;u<h;u+=s)this.sm(r,u);var l=r.splice(0,h);i.zy-=p}return new o.init(l,p)},clone:function(){var t=n.clone.call(this);return t.tm=this.tm.clone(),t},om:0}),u=(r.am=p.extend({cm:n.extend(),init:function(t){this.cm=this.cm.extend(t),this.reset()},reset:function(){p.reset.call(this),this.hm()},update:function(t){return this.im(t),this.rm(),this},pm:function(t){t&&this.im(t);var e=this.um();return e},nm:16,lm:function(t){return function(e,i){return new t.init(i).pm(e)}},dm:function(t){return function(e,i){return new u.HMAC.init(t,i).pm(e)}}}),i.fm={});return i}(Math);!function(t){function e(t,e,i,r,n,o,s){return t=t+(e&i|~e&r)+n+s,(t<<o|t>>>32-o)+e}function i(t,e,i,r,n,o,s){return t=t+(e&r|i&~r)+n+s,(t<<o|t>>>32-o)+e}function r(t,e,i,r,n,o,s){return t=t+(e^i^r)+n+s,(t<<o|t>>>32-o)+e}function n(t,e,i,r,n,o,s){return t=t+(i^(e|~r))+n+s,(t<<o|t>>>32-o)+e}for(var o=bt,s=o.Vy,a=s.Ky,c=s.am,s=o.fm,h=[],p=0;64>p;p++)h[p]=4294967296*t.abs(t.sin(p+1))|0;s=s.vm=c.extend({hm:function(){this.gm=new a.init([1732584193,4023233417,2562383102,271733878])},sm:function(t,o){for(var s=0;16>s;s++){var a=o+s,c=t[a];t[a]=16711935&(c<<8|c>>>24)|4278255360&(c<<24|c>>>8)}var s=this.gm.Gy,a=t[o+0],c=t[o+1],p=t[o+2],u=t[o+3],l=t[o+4],d=t[o+5],f=t[o+6],v=t[o+7],g=t[o+8],y=t[o+9],m=t[o+10],w=t[o+11],T=t[o+12],S=t[o+13],b=t[o+14],E=t[o+15],I=s[0],R=s[1],k=s[2],C=s[3],I=e(I,R,k,C,a,7,h[0]),C=e(C,I,R,k,c,12,h[1]),k=e(k,C,I,R,p,17,h[2]),R=e(R,k,C,I,u,22,h[3]),I=e(I,R,k,C,l,7,h[4]),C=e(C,I,R,k,d,12,h[5]),k=e(k,C,I,R,f,17,h[6]),R=e(R,k,C,I,v,22,h[7]),I=e(I,R,k,C,g,7,h[8]),C=e(C,I,R,k,y,12,h[9]),k=e(k,C,I,R,m,17,h[10]),R=e(R,k,C,I,w,22,h[11]),I=e(I,R,k,C,T,7,h[12]),C=e(C,I,R,k,S,12,h[13]),k=e(k,C,I,R,b,17,h[14]),R=e(R,k,C,I,E,22,h[15]),I=i(I,R,k,C,c,5,h[16]),C=i(C,I,R,k,f,9,h[17]),k=i(k,C,I,R,w,14,h[18]),R=i(R,k,C,I,a,20,h[19]),I=i(I,R,k,C,d,5,h[20]),C=i(C,I,R,k,m,9,h[21]),k=i(k,C,I,R,E,14,h[22]),R=i(R,k,C,I,l,20,h[23]),I=i(I,R,k,C,y,5,h[24]),C=i(C,I,R,k,b,9,h[25]),k=i(k,C,I,R,u,14,h[26]),R=i(R,k,C,I,g,20,h[27]),I=i(I,R,k,C,S,5,h[28]),C=i(C,I,R,k,p,9,h[29]),k=i(k,C,I,R,v,14,h[30]),R=i(R,k,C,I,T,20,h[31]),I=r(I,R,k,C,d,4,h[32]),C=r(C,I,R,k,g,11,h[33]),k=r(k,C,I,R,w,16,h[34]),R=r(R,k,C,I,b,23,h[35]),I=r(I,R,k,C,c,4,h[36]),C=r(C,I,R,k,l,11,h[37]),k=r(k,C,I,R,v,16,h[38]),R=r(R,k,C,I,m,23,h[39]),I=r(I,R,k,C,S,4,h[40]),C=r(C,I,R,k,a,11,h[41]),k=r(k,C,I,R,u,16,h[42]),R=r(R,k,C,I,f,23,h[43]),I=r(I,R,k,C,y,4,h[44]),C=r(C,I,R,k,T,11,h[45]),k=r(k,C,I,R,E,16,h[46]),R=r(R,k,C,I,p,23,h[47]),I=n(I,R,k,C,a,6,h[48]),C=n(C,I,R,k,v,10,h[49]),k=n(k,C,I,R,b,15,h[50]),R=n(R,k,C,I,d,21,h[51]),I=n(I,R,k,C,T,6,h[52]),C=n(C,I,R,k,u,10,h[53]),k=n(k,C,I,R,m,15,h[54]),R=n(R,k,C,I,c,21,h[55]),I=n(I,R,k,C,g,6,h[56]),C=n(C,I,R,k,E,10,h[57]),k=n(k,C,I,R,f,15,h[58]),R=n(R,k,C,I,S,21,h[59]),I=n(I,R,k,C,l,6,h[60]),C=n(C,I,R,k,w,10,h[61]),k=n(k,C,I,R,p,15,h[62]),R=n(R,k,C,I,y,21,h[63]);s[0]=s[0]+I|0,s[1]=s[1]+R|0,s[2]=s[2]+k|0,s[3]=s[3]+C|0},um:function(){var e=this.tm,i=e.Gy,r=8*this.em,n=8*e.zy;i[n>>>5]|=128<<24-n%32;var o=t.floor(r/4294967296);for(i[(n+64>>>9<<4)+15]=16711935&(o<<8|o>>>24)|4278255360&(o<<24|o>>>8),i[(n+64>>>9<<4)+14]=16711935&(r<<8|r>>>24)|4278255360&(r<<24|r>>>8),e.zy=4*(i.length+1),this.rm(),e=this.gm,i=e.Gy,r=0;4>r;r++)n=i[r],i[r]=16711935&(n<<8|n>>>24)|4278255360&(n<<24|n>>>8);return e},clone:function(){var t=c.clone.call(this);return t.gm=this.gm.clone(),t}}),o.vm=c.lm(s),o.ym=c.dm(s)}(Math),function(){var t=bt,e=t.Vy,i=e.Ky,r=e.am,n=[],e=t.fm.mm=r.extend({hm:function(){this.gm=new i.init([1732584193,4023233417,2562383102,271733878,3285377520])},sm:function(t,e){for(var i=this.gm.Gy,r=i[0],o=i[1],s=i[2],a=i[3],c=i[4],h=0;80>h;h++){if(16>h)n[h]=0|t[e+h];else{var p=n[h-3]^n[h-8]^n[h-14]^n[h-16];n[h]=p<<1|p>>>31}p=(r<<5|r>>>27)+c+n[h],p=20>h?p+((o&s|~o&a)+1518500249):40>h?p+((o^s^a)+1859775393):60>h?p+((o&s|o&a|s&a)-1894007588):p+((o^s^a)-899497514),c=a,a=s,s=o<<30|o>>>2,o=r,r=p}i[0]=i[0]+r|0,i[1]=i[1]+o|0,i[2]=i[2]+s|0,i[3]=i[3]+a|0,i[4]=i[4]+c|0},um:function(){var t=this.tm,e=t.Gy,i=8*this.em,r=8*t.zy;return e[r>>>5]|=128<<24-r%32,e[(r+64>>>9<<4)+14]=Math.floor(i/4294967296),e[(r+64>>>9<<4)+15]=i,t.zy=4*e.length,this.rm(),this.gm},clone:function(){var t=r.clone.call(this);return t.gm=this.gm.clone(),t}});t.mm=r.lm(e),t.wm=r.dm(e)}();/*! (c) Tom Wu | http://www-cs-students.stanford.edu/~tjw/jsbn/ */
var Et,It=0xdeadbeefcafe,Rt=15715070==(16777215&It);Rt&&"Microsoft Internet Explorer"==wt.appName?(i.prototype.cg=o,Et=30):Rt&&"Netscape"!=wt.appName?(i.prototype.cg=n,Et=26):(i.prototype.cg=s,Et=28),i.prototype.rg=Et,i.prototype.sg=(1<<Et)-1,i.prototype.eg=1<<Et;var kt=52;i.prototype.dg=Math.pow(2,kt),i.prototype.ug=kt-Et,i.prototype.lg=2*Et-kt;var Ct,Ot,Pt="0123456789abcdefghijklmnopqrstuvwxyz",At=new Array;for(Ct="0".charCodeAt(0),Ot=0;Ot<=9;++Ot)At[Ct++]=Ot;for(Ct="a".charCodeAt(0),Ot=10;Ot<36;++Ot)At[Ct++]=Ot;for(Ct="A".charCodeAt(0),Ot=10;Ot<36;++Ot)At[Ct++]=Ot;P.prototype.Og=A,P.prototype.Ng=N,P.prototype.reduce=x,P.prototype.Ag=_,P.prototype.Pg=B,D.prototype.Og=H,D.prototype.Ng=j,D.prototype.reduce=L,D.prototype.Ag=U,D.prototype.Pg=M,i.prototype.hg=h,i.prototype.ig=p,i.prototype.Xv=l,i.prototype.ng=d,i.prototype.fg=T,i.prototype.gg=S,i.prototype.pg=b,i.prototype.yg=E,i.prototype.og=I,i.prototype.Tg=R,i.prototype.Sg=k,i.prototype.mg=C,i.prototype.Eg=F,i.prototype.xg=V,i.prototype.exp=Q,i.prototype.toString=f,i.prototype.ag=v,i.prototype.abs=g,i.prototype.vg=y,i.prototype.Lg=w,i.prototype.wg=O,i.prototype.jg=q,i.ZERO=u(0),i.ONE=u(1),/*! asn1-1.0.9.js (c) 2013-2015 Kenji Urushima | kjur.github.com/jsrsasign/license
	 */
"undefined"!=typeof KJUR&&KJUR||(KJUR={}),"undefined"!=typeof KJUR.Tm&&KJUR.Tm||(KJUR.Tm={}),KJUR.Tm.Sm=new function(){this.bm=function(t){var e=t.toString(16);return e.length%2==1&&(e="0"+e),e},this.Em=function(t){var e=t.toString(16);if("-"!=e.substr(0,1))e.length%2==1?e="0"+e:e.match(/^[0-7]/)||(e="00"+e);else{var r=e.substr(1),n=r.length;n%2==1?n+=1:e.match(/^[0-7]/)||(n+=2);for(var o="",s=0;s<n;s++)o+="f";var a=new i(o,16),c=a.xor(t).add(i.ONE);e=c.toString(16).replace(/^-/,"")}return e},this.Im=function(t,e){var i=(KJUR.Tm,bt.Wy.$y.parse(t)),r=bt.Wy.Base64.stringify(i),n=r.replace(/(.{64})/g,"$1\r\n");return n=n.replace(/\r\n$/,""),"-----BEGIN "+e+"-----\r\n"+n+"\r\n-----END "+e+"-----\r\n"},this.Rm=function(t){var e=KJUR.Tm,i=Object.keys(t);if(1!=i.length)throw"key of param shall be only one.";var r=i[0];if(":bool:int:bitstr:octstr:null:oid:enum:utf8str:numstr:prnstr:telstr:ia5str:utctime:gentime:seq:set:tag:".indexOf(":"+r+":")==-1)throw"undefined key: "+r;if("bool"==r)return new e.km(t[r]);if("int"==r)return new e.Cm(t[r]);if("bitstr"==r)return new e.Om(t[r]);if("octstr"==r)return new e.Pm(t[r]);if("null"==r)return new e.Am(t[r]);if("oid"==r)return new e.Nm(t[r]);if("enum"==r)return new e.xm(t[r]);if("utf8str"==r)return new e._m(t[r]);if("numstr"==r)return new e.Bm(t[r]);if("prnstr"==r)return new e.Fm(t[r]);if("telstr"==r)return new e.Dm(t[r]);if("ia5str"==r)return new e.Hm(t[r]);if("utctime"==r)return new e.jm(t[r]);if("gentime"==r)return new e.Lm(t[r]);if("seq"==r){for(var n=t[r],o=[],s=0;s<n.length;s++){var a=e.Sm.Rm(n[s]);o.push(a)}return new e.Mm({_d:o})}if("set"==r){for(var n=t[r],o=[],s=0;s<n.length;s++){var a=e.Sm.Rm(n[s]);o.push(a)}return new e.Um({_d:o})}if("tag"==r){var c=t[r];if("[object Array]"===Object.prototype.toString.call(c)&&3==c.length){var h=e.Sm.Rm(c[2]);return new e.Vm({tag:c[0],Qm:c[1],qm:h})}var p={};if(void 0!==c.Qm&&(p.Qm=c.Qm),void 0!==c.tag&&(p.tag=c.tag),void 0===c.qm)throw"obj shall be specified for 'tag'.";return p.qm=e.Sm.Rm(c.qm),new e.Vm(p)}},this.Jm=function(t){var e=this.Rm(t);return e.Km()}},KJUR.Tm.Sm.Gm=function(t){for(var e="",r=parseInt(t.substr(0,2),16),n=Math.floor(r/40),o=r%40,e=n+"."+o,s="",a=2;a<t.length;a+=2){var c=parseInt(t.substr(a,2),16),h=("00000000"+c.toString(2)).slice(-8);if(s+=h.substr(1,7),"0"==h.substr(0,1)){var p=new i(s,2);e=e+"."+p.toString(10),s=""}}return e},KJUR.Tm.Sm.zm=function(t){var e=function(t){var e=t.toString(16);return 1==e.length&&(e="0"+e),e},r=function(t){var r="",n=new i(t,10),o=n.toString(2),s=7-o.length%7;7==s&&(s=0);for(var a="",c=0;c<s;c++)a+="0";o=a+o;for(var c=0;c<o.length-1;c+=7){var h=o.substr(c,7);c!=o.length-7&&(h="1"+h),r+=e(parseInt(h,2))}return r};if(!t.match(/^[0-9.]+$/))throw"malformed oid string: "+t;var n="",o=t.split("."),s=40*parseInt(o[0])+parseInt(o[1]);n+=e(s),o.splice(0,2);for(var a=0;a<o.length;a++)n+=r(o[a]);return n},KJUR.Tm.Wm=function(){var t="";this.$m=function(){if("undefined"==typeof this.Ym||null==this.Ym)throw"this.hV is null or undefined.";if(this.Ym.length%2==1)throw"value hex must be even length: n="+t.length+",v="+this.Ym;var e=this.Ym.length/2,i=e.toString(16);if(i.length%2==1&&(i="0"+i),e<128)return i;var r=i.length/2;if(r>15)throw"ASN.1 length too long to represent by 8x: n = "+e.toString(16);var n=128+r;return n.toString(16)+i},this.Km=function(){return(null==this.Xm||this.Zm)&&(this.Ym=this.tw(),this.ew=this.$m(),this.Xm=this.iw+this.ew+this.Ym,this.Zm=!1),this.Xm},this.rw=function(){return this.Km(),this.Ym},this.tw=function(){return""}},KJUR.Tm.nw=function(t){KJUR.Tm.nw._y.constructor.call(this);this.ow=function(){return this.tg},this.sw=function(t){this.Xm=null,this.Zm=!0,this.tg=t,this.Ym=stohex(this.tg)},this.aw=function(t){this.Xm=null,this.Zm=!0,this.tg=null,this.Ym=t},this.tw=function(){return this.Ym},"undefined"!=typeof t&&("string"==typeof t?this.sw(t):"undefined"!=typeof t.sc?this.sw(t.sc):"undefined"!=typeof t.cw&&this.aw(t.cw))},St.lang.extend(KJUR.Tm.nw,KJUR.Tm.Wm),KJUR.Tm.hw=function(t){KJUR.Tm.hw._y.constructor.call(this);this.pw=function(t){utc=t.getTime()+6e4*t.getTimezoneOffset();var e=new Date(utc);return e},this.uw=function(t,e,i){var r=this.lw,n=this.pw(t),o=String(n.getFullYear());"utc"==e&&(o=o.substr(2,2));var s=r(String(n.getMonth()+1),2),a=r(String(n.getDate()),2),c=r(String(n.getHours()),2),h=r(String(n.getMinutes()),2),p=r(String(n.getSeconds()),2),u=o+s+a+c+h+p;if(i===!0){var l=n.getMilliseconds();if(0!=l){var d=r(String(l),3);d=d.replace(/[0]+$/,""),u=u+"."+d}}return u+"Z"},this.lw=function(t,e){return t.length>=e?t:new Array(e-t.length+1).join("0")+t},this.ow=function(){return this.tg},this.sw=function(t){this.Xm=null,this.Zm=!0,this.tg=t,this.Ym=stohex(t)},this.dw=function(t,e,i,r,n,o){var s=new Date(Date.UTC(t,e-1,i,r,n,o,0));this.fw(s)},this.tw=function(){return this.Ym}},St.lang.extend(KJUR.Tm.hw,KJUR.Tm.Wm),KJUR.Tm.vw=function(t){KJUR.Tm.nw._y.constructor.call(this);this.gw=function(t){this.Xm=null,this.Zm=!0,this.yw=t},this.mw=function(t){this.Xm=null,this.Zm=!0,this.yw.push(t)},this.yw=new Array,"undefined"!=typeof t&&"undefined"!=typeof t._d&&(this.yw=t._d)},St.lang.extend(KJUR.Tm.vw,KJUR.Tm.Wm),KJUR.Tm.km=function(){KJUR.Tm.km._y.constructor.call(this),this.iw="01",this.Xm="0101ff"},St.lang.extend(KJUR.Tm.km,KJUR.Tm.Wm),KJUR.Tm.Cm=function(t){KJUR.Tm.Cm._y.constructor.call(this),this.iw="02",this.ww=function(t){this.Xm=null,this.Zm=!0,this.Ym=KJUR.Tm.Sm.Em(t)},this.Tw=function(t){var e=new i(String(t),10);this.ww(e)},this.Sw=function(t){this.Ym=t},this.tw=function(){return this.Ym},"undefined"!=typeof t&&("undefined"!=typeof t.bigint?this.ww(t.bigint):"undefined"!=typeof t["int"]?this.Tw(t["int"]):"number"==typeof t?this.Tw(t):"undefined"!=typeof t.cw&&this.Sw(t.cw))},St.lang.extend(KJUR.Tm.Cm,KJUR.Tm.Wm),KJUR.Tm.Om=function(t){KJUR.Tm.Om._y.constructor.call(this),this.iw="03",this.bw=function(t){this.Xm=null,this.Zm=!0,this.Ym=t},this.Ew=function(t,e){if(t<0||7<t)throw"unused bits shall be from 0 to 7: u = "+t;var i="0"+t;this.Xm=null,this.Zm=!0,this.Ym=i+e},this.Iw=function(t){t=t.replace(/0+$/,"");var e=8-t.length%8;8==e&&(e=0);for(var i=0;i<=e;i++)t+="0";for(var r="",i=0;i<t.length-1;i+=8){var n=t.substr(i,8),o=parseInt(n,2).toString(16);1==o.length&&(o="0"+o),r+=o}this.Xm=null,this.Zm=!0,this.Ym="0"+e+r},this.Rw=function(t){for(var e="",i=0;i<t.length;i++)e+=1==t[i]?"1":"0";this.Iw(e)},this.kw=function(t){for(var e=new Array(t),i=0;i<t;i++)e[i]=!1;return e},this.tw=function(){return this.Ym},"undefined"!=typeof t&&("string"==typeof t&&t.toLowerCase().match(/^[0-9a-f]+$/)?this.bw(t):"undefined"!=typeof t.cw?this.bw(t.cw):"undefined"!=typeof t.bin?this.Iw(t.bin):"undefined"!=typeof t._d&&this.Rw(t._d))},St.lang.extend(KJUR.Tm.Om,KJUR.Tm.Wm),KJUR.Tm.Pm=function(t){KJUR.Tm.Pm._y.constructor.call(this,t),this.iw="04"},St.lang.extend(KJUR.Tm.Pm,KJUR.Tm.nw),KJUR.Tm.Am=function(){KJUR.Tm.Am._y.constructor.call(this),this.iw="05",this.Xm="0500"},St.lang.extend(KJUR.Tm.Am,KJUR.Tm.Wm),KJUR.Tm.Nm=function(t){var e=function(t){var e=t.toString(16);return 1==e.length&&(e="0"+e),e},r=function(t){var r="",n=new i(t,10),o=n.toString(2),s=7-o.length%7;7==s&&(s=0);for(var a="",c=0;c<s;c++)a+="0";o=a+o;for(var c=0;c<o.length-1;c+=7){var h=o.substr(c,7);c!=o.length-7&&(h="1"+h),r+=e(parseInt(h,2))}return r};KJUR.Tm.Nm._y.constructor.call(this),this.iw="06",this.Sw=function(t){this.Xm=null,this.Zm=!0,this.tg=null,this.Ym=t},this.Cw=function(t){if(!t.match(/^[0-9.]+$/))throw"malformed oid string: "+t;var i="",n=t.split("."),o=40*parseInt(n[0])+parseInt(n[1]);i+=e(o),n.splice(0,2);for(var s=0;s<n.length;s++)i+=r(n[s]);this.Xm=null,this.Zm=!0,this.tg=null,this.Ym=i},this.Ow=function(t){if("undefined"==typeof KJUR.Tm.x509.Pw.name2oidList[t])throw"DERObjectIdentifier oidName undefined: "+t;var e=KJUR.Tm.x509.Pw.name2oidList[t];this.Cw(e)},this.tw=function(){return this.Ym},"undefined"!=typeof t&&("string"==typeof t&&t.match(/^[0-2].[0-9.]+$/)?this.Cw(t):void 0!==KJUR.Tm.x509.Pw.name2oidList[t]?this.Cw(KJUR.Tm.x509.Pw.name2oidList[t]):"undefined"!=typeof t.oid?this.Cw(t.oid):"undefined"!=typeof t.cw?this.Sw(t.cw):"undefined"!=typeof t.name&&this.Ow(t.name))},St.lang.extend(KJUR.Tm.Nm,KJUR.Tm.Wm),KJUR.Tm.xm=function(t){KJUR.Tm.xm._y.constructor.call(this),this.iw="0a",this.ww=function(t){this.Xm=null,this.Zm=!0,this.Ym=KJUR.Tm.Sm.Em(t)},this.Tw=function(t){var e=new i(String(t),10);this.ww(e)},this.Sw=function(t){this.Ym=t},this.tw=function(){return this.Ym},"undefined"!=typeof t&&("undefined"!=typeof t["int"]?this.Tw(t["int"]):"number"==typeof t?this.Tw(t):"undefined"!=typeof t.cw&&this.Sw(t.cw))},St.lang.extend(KJUR.Tm.xm,KJUR.Tm.Wm),KJUR.Tm._m=function(t){KJUR.Tm._m._y.constructor.call(this,t),this.iw="0c"},St.lang.extend(KJUR.Tm._m,KJUR.Tm.nw),KJUR.Tm.Bm=function(t){KJUR.Tm.Bm._y.constructor.call(this,t),this.iw="12"},St.lang.extend(KJUR.Tm.Bm,KJUR.Tm.nw),KJUR.Tm.Fm=function(t){KJUR.Tm.Fm._y.constructor.call(this,t),this.iw="13"},St.lang.extend(KJUR.Tm.Fm,KJUR.Tm.nw),KJUR.Tm.Dm=function(t){KJUR.Tm.Dm._y.constructor.call(this,t),this.iw="14"},St.lang.extend(KJUR.Tm.Dm,KJUR.Tm.nw),KJUR.Tm.Hm=function(t){KJUR.Tm.Hm._y.constructor.call(this,t),this.iw="16"},St.lang.extend(KJUR.Tm.Hm,KJUR.Tm.nw),KJUR.Tm.jm=function(t){KJUR.Tm.jm._y.constructor.call(this,t),this.iw="17",this.fw=function(t){this.Xm=null,this.Zm=!0,this.Aw=t,this.tg=this.uw(this.Aw,"utc"),this.Ym=stohex(this.tg)},this.tw=function(){return"undefined"==typeof this.Aw&&"undefined"==typeof this.tg&&(this.Aw=new Date,this.tg=this.uw(this.Aw,"utc"),this.Ym=stohex(this.tg)),this.Ym},void 0!==t&&(void 0!==t.sc?this.sw(t.sc):"string"==typeof t&&t.match(/^[0-9]{12}Z$/)?this.sw(t):void 0!==t.cw?this.aw(t.cw):void 0!==t.Aw&&this.fw(t.Aw))},St.lang.extend(KJUR.Tm.jm,KJUR.Tm.hw),KJUR.Tm.Lm=function(t){KJUR.Tm.Lm._y.constructor.call(this,t),this.iw="18",this.Nw=!1,this.fw=function(t){this.Xm=null,this.Zm=!0,this.Aw=t,this.tg=this.uw(this.Aw,"gen",this.Nw),this.Ym=stohex(this.tg)},this.tw=function(){return void 0===this.Aw&&void 0===this.tg&&(this.Aw=new Date,this.tg=this.uw(this.Aw,"gen",this.Nw),this.Ym=stohex(this.tg)),this.Ym},void 0!==t&&(void 0!==t.sc?this.sw(t.sc):"string"==typeof t&&t.match(/^[0-9]{14}Z$/)?this.sw(t):void 0!==t.cw?this.aw(t.cw):void 0!==t.Aw&&this.fw(t.Aw),t.millis===!0&&(this.Nw=!0))},St.lang.extend(KJUR.Tm.Lm,KJUR.Tm.hw),KJUR.Tm.Mm=function(t){KJUR.Tm.Mm._y.constructor.call(this,t),this.iw="30",this.tw=function(){for(var t="",e=0;e<this.yw.length;e++){var i=this.yw[e];t+=i.Km()}return this.Ym=t,this.Ym}},St.lang.extend(KJUR.Tm.Mm,KJUR.Tm.vw),KJUR.Tm.Um=function(t){KJUR.Tm.Um._y.constructor.call(this,t),this.iw="31",this.xw=!0,this.tw=function(){for(var t=new Array,e=0;e<this.yw.length;e++){var i=this.yw[e];t.push(i.Km())}return 1==this.xw&&t.sort(),this.Ym=t.join(""),this.Ym},"undefined"!=typeof t&&"undefined"!=typeof t.sortflag&&0==t.sortflag&&(this.xw=!1)},St.lang.extend(KJUR.Tm.Um,KJUR.Tm.vw),KJUR.Tm.Vm=function(t){KJUR.Tm.Vm._y.constructor.call(this),this.iw="a0",this.Ym="",this._w=!0,this.Bw=null,this.Fw=function(t,e,i){this.iw=e,this._w=t,this.Bw=i,this._w?(this.Ym=this.Bw.Km(),this.Xm=null,this.Zm=!0):(this.Ym=null,this.Xm=i.Km(),this.Xm=this.Xm.replace(/^../,e),this.Zm=!1)},this.tw=function(){return this.Ym},"undefined"!=typeof t&&("undefined"!=typeof t.tag&&(this.iw=t.tag),"undefined"!=typeof t.Qm&&(this._w=t.Qm),"undefined"!=typeof t.qm&&(this.Bw=t.qm,this.Fw(this._w,this.iw,this.Bw)))},St.lang.extend(KJUR.Tm.Vm,KJUR.Tm.Wm);/*! (c) Tom Wu | http://www-cs-students.stanford.edu/~tjw/jsbn/ */
var Nt="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",xt="=";/*! crypto-1.1.8.js (c) 2013-2016 Kenji Urushima | kjur.github.com/jsrsasign/license
	 */
"undefined"!=typeof KJUR&&KJUR||(KJUR={}),"undefined"!=typeof KJUR.crypto&&KJUR.crypto||(KJUR.crypto={}),KJUR.crypto.Vg=new function(){this.Gg={sha1:"3021300906052b0e03021a05000414",Dw:"302d300d06096086480165030402040500041c",sha256:"3031300d060960864801650304020105000420",Hw:"3041300d060960864801650304020205000430",jw:"3051300d060960864801650304020305000440",Lw:"3020300c06082a864886f70d020205000410",Mw:"3020300c06082a864886f70d020505000410",Uw:"3021300906052b2403020105000414"},this.Vw={Mw:"cryptojs",sha1:"cryptojs",Dw:"cryptojs",sha256:"cryptojs",Hw:"cryptojs",jw:"cryptojs",Uw:"cryptojs",Qw:"cryptojs",qw:"cryptojs",Jw:"cryptojs",Kw:"cryptojs",Gw:"cryptojs",zw:"cryptojs",Ww:"cryptojs",$w:"cryptojs/jsrsa",Yw:"cryptojs/jsrsa",Xw:"cryptojs/jsrsa",Zw:"cryptojs/jsrsa",tT:"cryptojs/jsrsa",eT:"cryptojs/jsrsa",iT:"cryptojs/jsrsa",rT:"cryptojs/jsrsa",nT:"cryptojs/jsrsa",oT:"cryptojs/jsrsa",sT:"cryptojs/jsrsa",aT:"cryptojs/jsrsa",cT:"cryptojs/jsrsa",hT:"cryptojs/jsrsa",pT:"cryptojs/jsrsa",uT:"cryptojs/jsrsa",lT:"cryptojs/jsrsa",dT:"cryptojs/jsrsa",fT:"cryptojs/jsrsa",vT:"cryptojs/jsrsa",gT:"cryptojs/jsrsa",yT:"cryptojs/jsrsa",mT:"cryptojs/jsrsa",wT:"cryptojs/jsrsa"},this.TT={Mw:bt.fm.vm,sha1:bt.fm.mm,Dw:bt.fm.SHA224,sha256:bt.fm.SHA256,Hw:bt.fm.SHA384,jw:bt.fm.SHA512,Uw:bt.fm.RIPEMD160},this.ST=function(t,e){if("undefined"==typeof this.Gg[e])throw"alg not supported in Util.DIGESTINFOHEAD: "+e;return this.Gg[e]+t},this.qg=function(t,e,i){var r=this.ST(t,e),n=i/4;if(r.length+22>n)throw"key is too short for SigAlg: keylen="+i+","+e;for(var o="0001",s="00"+r,a="",c=n-o.length-s.length,h=0;h<c;h+=2)a+="ff";var p=o+a+s;return p},this.Ug=function(t,e){var i=new KJUR.crypto.bT({ET:e});return i.IT(t)},this.Jg=function(t,e){var i=new KJUR.crypto.bT({ET:e});return i.RT(t)},this.sha1=function(t){var e=new KJUR.crypto.bT({ET:"sha1",kT:"cryptojs"});return e.IT(t)},this.sha256=function(t){var e=new KJUR.crypto.bT({ET:"sha256",kT:"cryptojs"});return e.IT(t)},this.CT=function(t){var e=new KJUR.crypto.bT({ET:"sha256",kT:"cryptojs"});return e.RT(t)},this.jw=function(t){var e=new KJUR.crypto.bT({ET:"sha512",kT:"cryptojs"});return e.IT(t)},this.OT=function(t){var e=new KJUR.crypto.bT({ET:"sha512",kT:"cryptojs"});return e.RT(t)},this.Mw=function(t){var e=new KJUR.crypto.bT({ET:"md5",kT:"cryptojs"});return e.IT(t)},this.Uw=function(t){var e=new KJUR.crypto.bT({ET:"ripemd160",kT:"cryptojs"});return e.IT(t)},this.PT=function(t){}},KJUR.crypto.bT=function(t){this.AT=function(t,e){if(null!=t&&void 0===e&&(e=KJUR.crypto.Vg.Vw[t]),":md5:sha1:sha224:sha256:sha384:sha512:ripemd160:".indexOf(t)!=-1&&"cryptojs"==e){try{this.NT=KJUR.crypto.Vg.TT[t].create()}catch(i){throw"setAlgAndProvider hash alg set fail alg="+t+"/"+i}this.xT=function(t){this.NT.update(t)},this._T=function(t){var e=bt.Wy.$y.parse(t);this.NT.update(e)},this.digest=function(){var t=this.NT.pm();return t.toString(bt.Wy.$y)},this.IT=function(t){return this.xT(t),this.digest()},this.RT=function(t){return this._T(t),this.digest()}}if(":sha256:".indexOf(t)!=-1&&"sjcl"==e){try{this.NT=new sjcl.hash.sha256}catch(i){throw"setAlgAndProvider hash alg set fail alg="+t+"/"+i}this.xT=function(t){this.NT.update(t)},this._T=function(t){var e=sjcl.codec.cw.toBits(t);this.NT.update(e)},this.digest=function(){var t=this.NT.pm();return sjcl.codec.cw.fromBits(t)},this.IT=function(t){return this.xT(t),this.digest()},this.RT=function(t){return this._T(t),this.digest()}}},this.xT=function(t){throw"updateString(str) not supported for this alg/prov: "+this.BT+"/"+this.FT},this._T=function(t){throw"updateHex(hex) not supported for this alg/prov: "+this.BT+"/"+this.FT},this.digest=function(){throw"digest() not supported for this alg/prov: "+this.BT+"/"+this.FT},this.IT=function(t){throw"digestString(str) not supported for this alg/prov: "+this.BT+"/"+this.FT},this.RT=function(t){throw"digestHex(hex) not supported for this alg/prov: "+this.BT+"/"+this.FT},void 0!==t&&void 0!==t.ET&&(this.BT=t.ET,void 0===t.kT&&(this.FT=KJUR.crypto.Vg.Vw[this.BT]),this.AT(this.BT,this.FT))},KJUR.crypto.DT=function(t){this.AT=function(t,e){if(t=t.toLowerCase(),null==t&&(t="hmacsha1"),t=t.toLowerCase(),"hmac"!=t.substr(0,4))throw"setAlgAndProvider unsupported HMAC alg: "+t;void 0===e&&(e=KJUR.crypto.Vg.Vw[t]),this.HT=t+"/"+e;var i=t.substr(4);if(":md5:sha1:sha224:sha256:sha384:sha512:ripemd160:".indexOf(i)!=-1&&"cryptojs"==e){try{var r=KJUR.crypto.Vg.TT[i];this.jT=bt.fm.HMAC.create(r,this.LT)}catch(n){throw"setAlgAndProvider hash alg set fail hashAlg="+i+"/"+n}this.xT=function(t){this.jT.update(t)},this._T=function(t){var e=bt.Wy.$y.parse(t);this.jT.update(e)},this.MT=function(){var t=this.jT.pm();return t.toString(bt.Wy.$y)},this.UT=function(t){return this.xT(t),this.MT()},this.VT=function(t){return this._T(t),this.MT()}}},this.xT=function(t){throw"updateString(str) not supported for this alg/prov: "+this.HT},this._T=function(t){throw"updateHex(hex) not supported for this alg/prov: "+this.HT},this.MT=function(){throw"digest() not supported for this alg/prov: "+this.HT},this.UT=function(t){throw"digestString(str) not supported for this alg/prov: "+this.HT},this.VT=function(t){throw"digestHex(hex) not supported for this alg/prov: "+this.HT},this.QT=function(t){if("string"==typeof t){var e=t;return t.length%2!=1&&t.match(/^[0-9A-Fa-f]+$/)||(e=rstrtohex(t)),void(this.LT=bt.Wy.$y.parse(e))}if("object"!=typeof t)throw"KJUR.crypto.Mac unsupported password type: "+t;var e=null;if(void 0!==t.cw){if(t.cw.length%2!=0||!t.cw.match(/^[0-9A-Fa-f]+$/))throw"Mac: wrong hex password: "+t.cw;e=t.cw}if(void 0!==t.utf8&&(e=utf8tohex(t.utf8)),void 0!==t.rstr&&(e=rstrtohex(t.rstr)),void 0!==t.b64&&(e=J(t.b64)),void 0!==t.b64u&&(e=b64utohex(t.b64u)),null==e)throw"KJUR.crypto.Mac unsupported password type: "+t;this.LT=bt.Wy.$y.parse(e)},void 0!==t&&(void 0!==t.LT&&this.QT(t.LT),void 0!==t.ET&&(this.BT=t.ET,void 0===t.kT&&(this.FT=KJUR.crypto.Vg.Vw[this.BT]),this.AT(this.BT,this.FT)))},KJUR.crypto.Signature=function(t){var e=null;if(this.qT=function(){this.BT.match(/^(.+)with(.+)$/)&&(this.JT=RegExp.$1.toLowerCase(),this.KT=RegExp.$2.toLowerCase())},this.GT=function(t,e){for(var i="",r=e/4-t.length,n=0;n<r;n++)i+="0";return i+t},this.AT=function(t,e){if(this.qT(),"cryptojs/jsrsa"!=e)throw"provider not supported: "+e;if(":md5:sha1:sha224:sha256:sha384:sha512:ripemd160:".indexOf(this.JT)!=-1){try{this.NT=new KJUR.crypto.bT({ET:this.JT})}catch(i){throw"setAlgAndProvider hash alg set fail alg="+this.JT+"/"+i}this.init=function(t,e){var i=null;try{i=void 0===e?KEYUTIL.getKey(t):KEYUTIL.getKey(t,e)}catch(r){throw"init failed:"+r}if(i.isPrivate===!0)this.zT=i,this.state="SIGN";else{if(i.Hg!==!0)throw"init failed.:"+i;this.WT=i,this.state="VERIFY"}},this.$T=function(t){"string"==typeof t.YT&&"string"==typeof t.XT?(this.YT=t.YT,this.XT=t.XT):this.zT=t,this.state="SIGN"},this.ZT=function(t){"string"==typeof t.tS&&"string"==typeof t.XT?(this.tS=t.tS,this.XT=t.XT):t instanceof KJUR.crypto.ECDSA?this.WT=t:t instanceof Y&&(this.WT=t),this.state="VERIFY"},this.eS=function(t){var e=new X509;e.readCertPEM(t),this.WT=e.iS,this.state="VERIFY"},this.xT=function(t){this.NT.xT(t)},this._T=function(t){this.NT._T(t)},this.sign=function(){if(this.rS=this.NT.digest(),"undefined"!=typeof this.YT&&"undefined"!=typeof this.XT){var t=new KJUR.crypto.ECDSA({curve:this.XT});this.nS=t.oS(this.rS,this.YT)}else if(this.zT instanceof Y&&"rsaandmgf1"==this.KT)this.nS=this.zT.Kg(this.rS,this.JT,this.sS);else if(this.zT instanceof Y&&"rsa"==this.KT)this.nS=this.zT.Qg(this.rS,this.JT);else if(this.zT instanceof KJUR.crypto.ECDSA)this.nS=this.zT.Qg(this.rS);else{if(!(this.zT instanceof KJUR.crypto.DSA))throw"Signature: unsupported public key alg: "+this.KT;this.nS=this.zT.Qg(this.rS)}return this.nS},this.aS=function(t){return this.xT(t),this.sign()},this.oS=function(t){return this._T(t),this.sign()},this.verify=function(t){if(this.rS=this.NT.digest(),"undefined"!=typeof this.tS&&"undefined"!=typeof this.XT){var e=new KJUR.crypto.ECDSA({curve:this.XT});return e.verifyHex(this.rS,t,this.tS)}if(this.WT instanceof Y&&"rsaandmgf1"==this.KT)return this.WT.zg(this.rS,t,this.JT,this.sS);if(this.WT instanceof Y&&"rsa"==this.KT)return this.WT.cS(this.rS,t);if(this.WT instanceof KJUR.crypto.ECDSA)return this.WT.cS(this.rS,t);if(this.WT instanceof KJUR.crypto.DSA)return this.WT.cS(this.rS,t);throw"Signature: unsupported public key alg: "+this.KT}}},this.init=function(t,e){throw"init(key, pass) not supported for this alg:prov="+this.hS},this.ZT=function(t){throw"initVerifyByPublicKey(rsaPubKeyy) not supported for this alg:prov="+this.hS},this.eS=function(t){throw"initVerifyByCertificatePEM(certPEM) not supported for this alg:prov="+this.hS},this.$T=function(t){throw"initSign(prvKey) not supported for this alg:prov="+this.hS},this.xT=function(t){throw"updateString(str) not supported for this alg:prov="+this.hS},this._T=function(t){throw"updateHex(hex) not supported for this alg:prov="+this.hS},this.sign=function(){throw"sign() not supported for this alg:prov="+this.hS},this.aS=function(t){throw"digestString(str) not supported for this alg:prov="+this.hS},this.oS=function(t){throw"digestHex(hex) not supported for this alg:prov="+this.hS},this.verify=function(t){throw"verify(hSigVal) not supported for this alg:prov="+this.hS},this.pS=t,void 0!==t&&(void 0!==t.ET&&(this.BT=t.ET,void 0===t.kT?this.FT=KJUR.crypto.Vg.Vw[this.BT]:this.FT=t.kT,this.hS=this.BT+":"+this.FT,this.AT(this.BT,this.FT),this.qT()),void 0!==t.uS&&(this.sS=t.uS),void 0!==t.prvkeypem)){if(void 0!==t.prvkeypas)throw"both prvkeypem and prvkeypas parameters not supported";try{var e=new Y;e.readPrivateKeyFromPEMString(t.prvkeypem),this.$T(e)}catch(i){throw"fatal error to load pem private key: "+i}}},KJUR.crypto.Pw=new function(){this.lS={dS:"rsaEncryption",fS:"ecPublicKey",vS:"dsa",gS:"secp256r1",yS:"secp192k1",mS:"secp224r1",wS:"secp256k1",TS:"secp521r1",SS:"secp384r1",bS:"SHA1withDSA","608648016503040301":"SHA224withDSA","608648016503040302":"SHA256withDSA"}};var _t=20;Y.prototype.Mg=Z,Y.prototype.Do=X,Y.prototype.encrypt=tt,Y.prototype.ES=et,Y.prototype.type="RSA";/*! rsasign-1.2.7.js (c) 2012 Kenji Urushima | kjur.github.com/jsrsasign/license
	 */
var Bt=new RegExp("");Bt.compile("[^0-9a-f]","gi"),Y.prototype.Qg=nt,Y.prototype.aS=rt,Y.prototype.IS=ot,Y.prototype.RS=st,Y.prototype.sign=rt,Y.prototype.kS=ot,Y.prototype.CS=st,Y.prototype.Kg=ht,Y.prototype.OS=ct,Y.prototype.PS=ct,Y.NS=-1,Y.xS=-2,Y.prototype.cS=gt,Y.prototype.Ho=vt,Y.prototype._S=ft,Y.prototype.verify=vt,Y.prototype.BS=ft,Y.prototype.zg=mt,Y.prototype.FS=yt,Y.prototype.DS=yt,Y.HS=-2,e.jS=i,e.No=Y,e.Signature=KJUR.crypto.Signature,e.bT=KJUR.crypto.bT,e.LS=bt,e.xo=J,e.MS=K},function(t,e){"use strict";var i={};i.US=function(){return Math.random().toString(36).substr(2,10)},i.VS=i.US(),i.QS=function(t){return t.trim().split("\n").map(function(t){return t.trim()})},i.qS=function(t){var e=t.split("\nm=");return e.map(function(t,e){return(e>0?"m="+t:t).trim()+"\r\n"})},i.JS=function(t,e){return i.QS(t).filter(function(t){return 0===t.indexOf(e)})},i.KS=function(t){var e;e=0===t.indexOf("a=candidate:")?t.substring(12).split(" "):t.substring(10).split(" ");for(var i={GS:e[0],zS:e[1],protocol:e[2].toLowerCase(),WS:parseInt(e[3],10),$S:e[4],port:parseInt(e[5],10),type:e[7]},r=8;r<e.length;r+=2)switch(e[r]){case"raddr":i.YS=e[r+1];break;case"rport":i.XS=parseInt(e[r+1],10);break;case"tcptype":i.ZS=e[r+1]}return i},i.tb=function(t){var e=[];e.push(t.GS),e.push(t.zS),e.push(t.protocol.toUpperCase()),e.push(t.WS),e.push(t.$S),e.push(t.port);var i=t.type;return e.push("typ"),e.push(i),"host"!==i&&t.YS&&t.XS&&(e.push("raddr"),e.push(t.YS),e.push("rport"),e.push(t.XS)),t.ZS&&"tcp"===t.protocol.toLowerCase()&&(e.push("tcptype"),e.push(t.ZS)),"candidate:"+e.join(" ")},i.eb=function(t){var e=t.substr(9).split(" "),i={ib:parseInt(e.shift(),10)};return e=e[0].split("/"),i.name=e[0],i.rb=parseInt(e[1],10),i.nb=3===e.length?parseInt(e[2],10):1,i},i.ob=function(t){var e=t.ib;return void 0!==t.sb&&(e=t.sb),"a=rtpmap:"+e+" "+t.name+"/"+t.rb+(1!==t.nb?"/"+t.nb:"")+"\r\n"},i.ab=function(t){var e=t.substr(9).split(" ");return{id:parseInt(e[0],10),uri:e[1]}},i.cb=function(t){return"a=extmap:"+(t.id||t.preferredId)+" "+t.uri+"\r\n"},i.hb=function(t){for(var e,i={},r=t.substr(t.indexOf(" ")+1).split(";"),n=0;n<r.length;n++)e=r[n].trim().split("="),i[e[0].trim()]=e[1];return i},i.pb=function(t){var e="",i=t.ib;if(void 0!==t.sb&&(i=t.sb),t.parameters&&Object.keys(t.parameters).length){var r=[];Object.keys(t.parameters).forEach(function(e){r.push(e+"="+t.parameters[e])}),e+="a=fmtp:"+i+" "+r.join(";")+"\r\n"}return e},i.ub=function(t){var e=t.substr(t.indexOf(" ")+1).split(" ");return{type:e.shift(),lb:e.join(" ")}},i.fb=function(t){var e="",i=t.ib;return void 0!==t.sb&&(i=t.sb),t.vb&&t.vb.length&&t.vb.forEach(function(t){e+="a=rtcp-fb:"+i+" "+t.type+(t.lb&&t.lb.length?" "+t.lb:"")+"\r\n"}),e},i.gb=function(t){var e=t.indexOf(" "),i={yb:parseInt(t.substr(7,e-7),10)},r=t.indexOf(":",e);return r>-1?(i.mb=t.substr(e+1,r-e-1),i.value=t.substr(r+1)):i.mb=t.substr(e+1),i},i.wb=function(t,e){var r=i.QS(t);r=r.concat(i.QS(e));var n=r.filter(function(t){return 0===t.indexOf("a=fingerprint:")})[0].substr(14),o={Tb:"auto",Sb:[{algorithm:n.split(" ")[0].toLowerCase(),value:n.split(" ")[1]}]};return o},i.bb=function(t,e){var i="a=setup:"+e+"\r\n";return t.Sb.forEach(function(t){i+="a=fingerprint:"+t.algorithm+" "+t.value+"\r\n"}),i},i.Eb=function(t,e){var r=i.QS(t);r=r.concat(i.QS(e));var n={Ib:r.filter(function(t){return 0===t.indexOf("a=ice-ufrag:")})[0].substr(12),password:r.filter(function(t){return 0===t.indexOf("a=ice-pwd:")})[0].substr(10)};return n},i.Rb=function(t){return"a=ice-ufrag:"+t.Ib+"\r\na=ice-pwd:"+t.password+"\r\n"},i.kb=function(t){for(var e={Cb:[],Ob:[],Pb:[],Ab:[]},r=i.QS(t),n=r[0].split(" "),o=3;o<n.length;o++){var s=n[o],a=i.JS(t,"a=rtpmap:"+s+" ")[0];if(a){var c=i.eb(a),h=i.JS(t,"a=fmtp:"+s+" ");switch(c.parameters=h.length?i.hb(h[0]):{},c.vb=i.JS(t,"a=rtcp-fb:"+s+" ").map(i.ub),e.Cb.push(c),c.name.toUpperCase()){case"RED":case"ULPFEC":e.Pb.push(c.name.toUpperCase())}}}return i.JS(t,"a=extmap:").forEach(function(t){e.Ob.push(i.ab(t))}),e},i.Nb=function(t,e){var r="";r+="m="+t+" ",r+=e.Cb.length>0?"9":"0",r+=" UDP/TLS/RTP/SAVPF ",r+=e.Cb.map(function(t){return void 0!==t.sb?t.sb:t.ib}).join(" ")+"\r\n",r+="c=IN IP4 0.0.0.0\r\n",r+="a=rtcp:9 IN IP4 0.0.0.0\r\n",e.Cb.forEach(function(t){r+=i.ob(t),r+=i.pb(t),r+=i.fb(t)});var n=0;return e.Cb.forEach(function(t){t.xb>n&&(n=t.xb)}),n>0&&(r+="a=maxptime:"+n+"\r\n"),r+="a=rtcp-mux\r\n",e.Ob.forEach(function(t){r+=i.cb(t)}),r},i._b=function(t){var e,r=[],n=i.kb(t),o=n.Pb.indexOf("RED")!==-1,s=n.Pb.indexOf("ULPFEC")!==-1,a=i.JS(t,"a=ssrc:").map(function(t){return i.gb(t)}).filter(function(t){return"cname"===t.mb}),c=a.length>0&&a[0].yb,h=i.JS(t,"a=ssrc-group:FID").map(function(t){var e=t.split(" ");return e.shift(),e.map(function(t){return parseInt(t,10)})});h.length>0&&h[0].length>1&&h[0][0]===c&&(e=h[0][1]),n.Cb.forEach(function(t){if("RTX"===t.name.toUpperCase()&&t.parameters.apt){var i={yb:c,Bb:parseInt(t.parameters.apt,10),Fb:{yb:e}};r.push(i),o&&(i=JSON.parse(JSON.stringify(i)),i.Db={yb:e,Hb:s?"red+ulpfec":"red"},r.push(i))}}),0===r.length&&c&&r.push({yb:c});var p=i.JS(t,"b=");return p.length&&(0===p[0].indexOf("b=TIAS:")?p=parseInt(p[0].substr(7),10):0===p[0].indexOf("b=AS:")&&(p=parseInt(p[0].substr(5),10)),r.forEach(function(t){t.jb=p})),r},i.Lb=function(t){var e={},r=i.JS(t,"a=ssrc:").map(function(t){return i.gb(t)}).filter(function(t){return"cname"===t.mb})[0];r&&(e.Mb=r.value,e.yb=r.yb);var n=i.JS(t,"a=rtcp-rsize");e.Ub=n.length>0,e.Vb=0===n.length;var o=i.JS(t,"a=rtcp-mux");return e.Qb=o.length>0,e},i.qb=function(t){var e,r=i.JS(t,"a=msid:");if(1===r.length)return e=r[0].substr(7).split(" "),{stream:e[0],track:e[1]};var n=i.JS(t,"a=ssrc:").map(function(t){return i.gb(t)}).filter(function(t){return"msid"===t.mb});return n.length>0?(e=n[0].value.split(" "),{stream:e[0],track:e[1]}):void 0},i.Jb=function(){return"v=0\r\no=thisisadapterortc 8169639915646943137 2 IN IP4 127.0.0.1\r\ns=-\r\nt=0 0\r\n"},i.Kb=function(t,e,r,n){var o=i.Nb(t.kind,e);if(o+=i.Rb(t.Gb.getLocalParameters()),o+=i.bb(t.zb.getLocalParameters(),"offer"===r?"actpass":"active"),o+="a=mid:"+t.Wb+"\r\n",o+=t.$b&&t.Yb?"a=sendrecv\r\n":t.$b?"a=sendonly\r\n":t.Yb?"a=recvonly\r\n":"a=inactive\r\n",t.$b){var s="msid:"+n.id+" "+t.$b.track.id+"\r\n";o+="a="+s,o+="a=ssrc:"+t.Xb[0].yb+" "+s,t.Xb[0].Fb&&(o+="a=ssrc:"+t.Xb[0].Fb.yb+" "+s,o+="a=ssrc-group:FID "+t.Xb[0].yb+" "+t.Xb[0].Fb.yb+"\r\n")}return o+="a=ssrc:"+t.Xb[0].yb+" cname:"+i.VS+"\r\n",t.$b&&t.Xb[0].Fb&&(o+="a=ssrc:"+t.Xb[0].Fb.yb+" cname:"+i.VS+"\r\n"),o},i.Zb=function(t,e){for(var r=i.QS(t),n=0;n<r.length;n++)switch(r[n]){case"a=sendrecv":case"a=sendonly":case"a=recvonly":case"a=inactive":return r[n].substr(2)}return e?i.Zb(e):"sendrecv"},i.tE=function(t){var e=i.QS(t),r=e[0].split(" ");return r[0].substr(2)},i.Ut=function(t){return"0"===t.split(" ",2)[1]},t.t=i},function(t,e,i){"use strict";var r=i(1),n=i(11),o=function(){function t(t,e){this.msg=t,this.eE=Date.now()+e,this.iE=r.defer()}return t.prototype.rE=function(){return Date.now()>=this.eE},t}(),s=function(){function t(t,e,i,r,n,o,s){void 0===e&&(e=3e4),void 0===i&&(i=100),void 0===r&&(r=3e4),void 0===n&&(n=15e3),void 0===o&&(o=Date),void 0===s&&(s=!1),this.nE=1,this.oE=-1,this.sE=-1,this.aE={},this.cE=[],this.hE=[],this.pE=!1,this.uE=!0,this.lE=t,this.dE=Array(),this.lr=e,this.dr=i,this.vr=r,this.fE=n,this.vE=o,this.pE=s||/MSIE 10/i.test(navigator.userAgent)||/MSIE 9/i.test(navigator.userAgent)||/rv:11.0/i.test(navigator.userAgent)||/Edge./i.test(navigator.userAgent)}return t.prototype.Et=function(t){var e=t.service+"_"+t.msgId,i=this.aE[e];null!=i?i(t):n.m().error(n.u+"Could not find a dispatcher for ",t,e,this.aE)},t.prototype.on=function(t,e,i){this.aE[t+"_"+e]=i},t.prototype.onerror=function(t){this.cE.push(t)},t.prototype.gE=function(t){this.hE.push(t)},t.prototype.yE=function(){var t=this;if(!window.WebSocket)return void this.cE.forEach(function(t){return t("WebSocket not defined")});var e=new WebSocket(this.lE);return e.binaryType="arraybuffer",e.onopen=function(e){t.mE(),n.m().debug(n.u+"HiveServicesConnection established to "+t.lE),t.sE=(new t.vE).getTime(),t.wE(),t.hE.forEach(function(e){return e(t)}),t.TE(),t.SE()},e.onclose=function(e){t.close(t.uE),t.connect()},e.onmessage=function(e){t.Et(n.On.zn(e.data))},e.onerror=function(e){t.close(!0),t.cE.forEach(function(t){return t(e.toString())})},e},t.prototype.isOpen=function(){return null!=this.vp&&this.vp.readyState==this.vp.OPEN},t.prototype.connect=function(t){var e=this;t&&(this.uE=!0),this.uE&&1!=this.isOpen()&&(this.oE>0||(this.sE>-1&&(new this.vE).getTime()-this.sE>this.lr?(this.nE=n.ke.Kn,this.sE=-1):this.nE=Math.min(2*this.nE,this.lr),this.oE=setTimeout(function(){e.oE=-1,n.m().debug(n.u+"Connection attempt to "+e.lE+" [t:"+e.nE+" hb:"+e.pE+"]"),e.vp=e.yE(),e.nE=Math.max(e.nE,n.ke.Kn)},this.nE)))},t.prototype.mE=function(){this.oE>-1&&(clearTimeout(this.oE),this.oE=-1)},t.prototype.close=function(t){this.uE=void 0!=t&&t,n.m().debug(n.u+"Closing connection [reconnect:"+this.uE+"]"),this.mE(),null!=this.vp&&(this.vp.close(),this.vp=null)},t.prototype.wE=function(){for(;this.dE.length>0;){var t=this.dE.pop();try{t.rE()?t.iE.reject(new Error("Message expired")):(this.TE(),this.vp.send(t.msg.Gn()))}catch(e){if(e.code===DOMException.INVALID_STATE_ERR){this.dE.push(t);break}n.m().error(n.u+"Failed to send the message, dropped: ",e.code,e.name),t.iE.reject(e)}}this.SE()},t.prototype.TE=function(){this.bE&&(clearTimeout(this.bE),this.bE=null)},t.prototype.SE=function(){var t=this;this.pE&&!this.bE&&(this.bE=setInterval(function(){t.send(new n.On(Services.Ed,0,""))},this.fE))},t.prototype.send=function(t,e){if(void 0===e&&(e=this.vr),this.dE.length>=this.dr)throw new Error("HiveServices connection cannot queue more messages");var i=new o(t,e);return this.dE.push(i),this.vp&&this.wE(),i.iE.gt},t.prototype.EE=function(t){this.pE=t,this.pE&&this.SE()},t}();e.IE=s},function(t,e,i){"use strict";var r=i(16),n=i(38),o=i(23),s=i(2),a=function(){function t(){}return t.prototype.apply=function(t){t.bind(new r.rs(s.Framework.Be.we,n.RE,r.ns.us)),t.bind(new r.rs(s.Framework.Be.Te,o.fl.dl))},t}();e.ad=a},function(t,e){"use strict";var i=function(){function t(){"undefined"!=typeof global?this.kE=global:this.kE=window}return t.prototype.Ct=function(){return!1},t.prototype.CE=function(t,e,i){},t.prototype.Ee=function(){},t.prototype.time=function(){return+new Date},t.prototype.setTimeout=function(t,e){var i=this.kE.setTimeout(function(){t()},e);return i},t.prototype.setInterval=function(t,e){var i=this.kE.setInterval(function(){t()},e);return i},t.prototype.OE=function(t,e){this.kE.OE(t,e)},t.prototype.clearTimeout=function(t){return this.kE.clearTimeout(t),!0},t}();e.RE=i},function(t,e){"use strict";var i=function(){function t(){var e=this;if(this.PE=new Array,this.callbacks=new Array,t.Fi)throw new Error("Error: Instantiation failed: Use KeyHandlerHiveComm.getInstance() instead of new.");var i={};document.addEventListener("keydown",function(t){i[t.keyCode]=!0,e.AE(i)},!0),document.addEventListener("keyup",function(t){i={}},!0)}return t.Hi=function(){return void 0===this.Fi&&(this.Fi=new t),this.Fi},t.prototype.Io=function(t,e){this.PE.push(t),this.callbacks.push(e)},t.prototype.AE=function(t){for(var e=function(e){var r=!0;i.PE[e].forEach(function(e){void 0!=t[e]&&t[e]||(r=!1)}),r&&i.callbacks[e]()},i=this,r=0;r<this.PE.length;r++)e(r)},t}();e.Ro=i},function(t,e,i){"use strict";var r=i(14),n=i(25),o=i(7),s=function(){function t(t){this.NE=n.ke.ai?9989:9988,this.xE=-1,this._E=t,this.BE()}return t.prototype.BE=function(){var t=this;this._E.options().silent&&void 0===this.FE&&(this.url="//"+r.hi.Co+":"+this.NE+"/feedback",this._E.m().info("starting periodic alive ping to hive tester ["+this.url+"]"),this.FE=setInterval(function(){t.DE()},n.ke.pd))},t.prototype.DE=function(){var t=this,e=this._E.getCurrentTime();e>this.xE?(this._E.m().info("sending hive tester ping ["+e+" > "+this.xE+"]"),o.Ui(this.url).then(function(t){},function(e){t._E.m().error("error sending hive tester ping",e),clearInterval(t.FE)})):this._E.m().warn("not sending hive tester ping ["+e+" <= "+this.xE+"]"),this.xE=e},t}();e.Ol=s},function(t,e,i){"use strict";var r=this&&this.__extends||function(t,e){function i(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)},n=i(1),o=i(7),s=i(6),a=i(42),c=i(12),h=i(14),p=i(10),u=i(15),l=i(13),d=a.pt.fi,f=s.pt.fi.gi,v=c.pt.HiveTechError,g=c.pt.uo,y=i(19);e.HE=navigator;var m=function(t){function e(){t.apply(this,arguments)}return r(e,t),e}(o.Si),w=function(){function t(t,e){this.jE=0,this._E=t,this.options_=new d.LE,this.ME(e),o.Gi(window.location.href,new f,this.options_)}return t.prototype.Ti=function(){return t.Al},t.prototype.getVersion=function(){return this.version},t.prototype.Bl=function(){return!1},t.prototype.UE=function(){var t=this;if(null==this.VE||Date.now()-this.jE>1e4){var e=n.defer(),i=new y;i.dn(navigator.userAgent);var r=i.Ch();if("IE"===r.name&&r.version&&parseInt(r.version)<10)e.reject(new v(g.so,"Internet Explorer < v.10 not supported"));else{this.QE=Date.now(),this.qE=0;var s="//"+h.hi.Co+":"+this._E.options().monitorPort+"/version.json";this.m().debug(this.id()+"verifying Hive Client version"),o.Ui(s).then(function(i){var r=JSON.parse(i);t.state=r.state,t.version=r.version,"ready"===t.state?"developer"===t.version||t.version>=t.options_.minVersion?(t.qE=Date.now(),t.m().debug(t.id()+"Hive Client ready - version "+t.version+" ["+(t.qE-t.QE)+"]"),e.resolve("ready")):(l.ErrorMonitor.Hi().Eo(t.id()+"Client version requirement not satisfied: "+t.version+" < "+t.options_.minVersion),t._E.Ul(new p.B.Mn(null,p.B.Hr._r)),e.reject(new v(g.ho,"version "+t.version))):(l.ErrorMonitor.Hi().Eo(t.id()+"Client state: "+t.state),t._E.Ul(new p.B.Mn(null,p.B.Hr.xr)),e.reject(new v(g.so,"state "+t.state)))},function(i){var r="Client not reachable";void 0!=i&&void 0!=i.status&&i.status!=-1&&(r="Client check returned "+i.status),l.ErrorMonitor.Hi().Eo(t.id()+r),t._E.Ul(new p.B.Mn(null,p.B.Hr.Nr)),e.reject(new v(g.so,r))})["catch"](function(i){var r="Error fetching Hive Client version: "+i;l.ErrorMonitor.Hi().Eo(t.id()+r),e.reject(new v(g.so,r))})}this.VE=e.gt,this.jE=Date.now()}return this.VE},t.prototype.initSession=function(t,e){var i=this,r=n.defer();return this.options_.minVersion!=h.hi.Ao?this.UE().then(function(){return i.JE(t,r)}).fail(function(t){r.reject(t)}):this.JE(t,r).fail(function(t){r.reject(t)}),r.gt},t.prototype.Dl=function(){return this.options_.initTimeout},t.prototype.at=function(t,e){return t.indexOf(e.KE)>-1},t.prototype.wi=function(t,i){var r=this;this.m().debug(this.id()+"Stopping session "+t.id+" [complete close:"+i+"]");var n="//"+h.hi.Co+":"+this._E.options().playerPort+"/session?action=stop";n+="&currentSession="+t.id,i&&(n+="&completeStop=true"),i&&e.HE.sendBeacon?(e.HE.sendBeacon(n),this.m().debug(this.id()+"session stopped ["+t.id+"][beacon]")):o.Ui(n,null,!i).then(function(){r.m().debug(r.id()+"session stopped ["+t.id+"]"+(i?"[sync]":""))},function(e){r.m().warn(r.id()+"session close error ["+t.id+"]"+(i?"[sync]":""),e)})},t.prototype.td=function(t,e){var i=this,r=n.defer(),s="playing-point="+e.Un;s+="&buffer-length="+e.Yl,s+="&total-buffering="+e.Xl,s+="&width="+e.width,s+="&height="+e.height,s+="&fullscreen="+e.Zl;var a=t.KE+"stats?"+s;return this.m().trace(a),o.Ui(a).then(function(){r.resolve(!0)},function(t){i.m().warn(i.id()+"error sending feedback to Hive Client",t),r.reject(t)}),r.gt},t.prototype.nd=function(t,e,i){var r=this;if(!(e!==p.B._.Ar&&e!==p.B._.HIDDEN||this.version&&("developer"===this.version||this.version>="2017")))return n.resolve(!0);var s=n.defer(),a=t.KE+"player-event?type="+p.B._[e];if(void 0!=i)for(var c in i)a+="&"+c+"="+i[c];return this.m().debug(this.id()+"event "+p.B._[e],void 0!=i?i:""),o.Ui(a).then(function(){s.resolve(!0)},function(t){r.m().warn(r.id()+"error sending feedback event to Hive Client",t),s.reject(t)}),s.gt},t.prototype.cn=function(t,e){return n.resolve(!0)},t.prototype.Ll=function(t){var e=this,i=n.defer(),r="comm-version="+this._E.Pl();r+="&plugin-name="+this._E.T(),r+="&plugin-version="+this._E.I(),r+="&player-tech="+this._E.ht(),r+="&player-version="+this._E.J();var s=this._E.Ml();s&&(r+="&telemetry-id="+this._E.Ml());var a=t.KE+"player-info?"+r;return o.Ui(a).then(function(){i.resolve(!0)},function(t){e.m().debug(e.id()+"error sending player Info to Hive Client",t),i.reject(t)}),i.gt},t.prototype.onError=function(t){var e=!0;if(void 0!=this.options_.onError)try{e=this.options_.onError(t)}catch(i){l.ErrorMonitor.Hi().Eo(this.id()+"exception in user-defined onError callback: "+i)}return e},t.prototype.jl=function(t,e,i){var r={isReadyIn:this.QE,isReadyOut:this.qE,leaseIn:this.GE,leaseOut:this.zE,resolveIn:this.WE,resolveOut:this.$E};"undefined"!=typeof e&&null!=e&&(r.sessionId=e.id),"undefined"!=typeof i&&(r.total=i);var n=JSON.parse(JSON.stringify(r));l.ErrorMonitor.Hi().Eo(t.message,n),this._E.Ul(new p.B.Mn(null,p.B.Hr.Dr,r)),this.YE()},t.prototype.onActiveSession=function(t){if(this.Ll(t),o.Wi.setItem("hiveActiveSessionId",t.id),void 0!=this.options_.onActiveSession)try{this.options_.onActiveSession(t.v())}catch(e){l.ErrorMonitor.Hi().Eo(this.id()+"exception in user-defined onActiveSession callback: "+e)}},t.prototype.id=function(){return"["+t.Al+"] "},t.prototype.ME=function(e){void 0!=e[t.Al]&&o.Ki(e[t.Al],this.options_)},t.prototype.JE=function(t,e){var i=this,r=(new Date).getTime();return this.XE(t).then(function(n){return n?void i.ZE(t,n,r,e):i.p(t).then(function(n){i.ZE(t,n,r,e)})})},t.prototype.XE=function(t){var e=this,i=n.defer();if(this.GE=Date.now(),this._E.options().useSessionCheck){var r="//"+h.hi.Co+":"+this._E.options().playerPort+"/session?&action=check";r+="&hivePluginId="+this._E.S(),r+="&callback="+t;var s=o.Wi.getItem("hiveActiveSessionId");o.Wi.removeItem("hiveActiveSessionId"),s&&(r+="&currentSession="+s),this.tI(),o.Ui(r).then(function(n){if(e.zE=Date.now(),n){var o=e.eI(n,r,t,e.GE);return void i.resolve(o)}e.m().debug(e.id()+"session allowed ["+(e.zE-e.GE)+"]"),i.resolve(!1)},function(t){if(400==t.status){var r="bad request";if(t.body)try{var n=JSON.parse(t.body);r=n.status}catch(o){}l.ErrorMonitor.Hi().Eo(e.id()+"error resolving ticket"),e.$E=Date.now(),i.reject(new v(g.Zn,r))}else if(403==t.status){var s=void 0;if(t.body)try{var n=JSON.parse(t.body);s={iI:n.iI}}catch(o){}l.ErrorMonitor.Hi().Eo(e.id()+"reports another active session",s),e._E.Ul(new p.B.Mn(null,p.B.Hr.Br,s)),i.reject(new v(g.co,"another active session"+(s?" ["+s.iI+"]":"")))}else 404==t.status?(e.m().debug(e.id()+"installed version does not support active session check"),e.zE=Date.now(),i.resolve(!1)):t.status==-1?(clearTimeout(e.rI),e.nI().then(function(t){i.reject(t)}).fail(function(){i.reject(new v(g.ao,t))})):(l.ErrorMonitor.Hi().Eo(e.id()+" unhandled error from Java",{error:t.status}),e._E.Ul(new p.B.Mn(null,p.B.Hr.Fr)),i.reject(new v(g.ao,t)))})["catch"](function(t){l.ErrorMonitor.Hi().Eo(e.id()+" unhandled error on requestLeaseDirect",{error:t}),e._E.Ul(new p.B.Mn(null,p.B.Hr.Fr)),i.reject(new v(g.ao,t))})["oe"](function(){clearTimeout(e.rI)})}else this.m().debug(this.id()+"Hive session check disabled - will directly resolve ticket (other active sessions may fail)"),i.resolve(!1);return i.gt},t.prototype.p=function(t){var e=this;this.WE=Date.now();var i=n.defer();this.m().debug(this.id()+"resolving ticket: "+t);var r=this.oI(t);return o.Ui(r,"application/json").then(function(n){var o=e.eI(n,r,t,e.WE);i.resolve(o)},function(r){r&&r.status==-1?e.nI().then(function(t){i.reject(t)}).fail(function(){i.reject(new v(g.ao,r))}):(l.ErrorMonitor.Hi().Eo(e.id()+"error resolving ticket",{ticket:t}),i.reject(new v(g.Zn,r)))})["catch"](function(t){l.ErrorMonitor.Hi().Eo(e.id()+"error parsing ticket response: "+t),i.reject(new v(g.ao,t))}),i.gt},t.prototype.eI=function(t,e,i,r){var n=JSON.parse(t),s=o.qi(e,n.location);return n.version&&!this.version&&(this.version=n.version),this.$E=Date.now(),this.m().debug(this.id()+"resolved ticket "+i+" -> "+s+" ["+(this.$E-r)+"]"),s},t.prototype.ZE=function(t,e,i,r){var n=this.sI(t,e);if(null!=n){var o=(new Date).getTime(),s=o-i;s>=this.options_.warnSlowRespTimeout&&this.jl(new v(g.po,this.id()+" The tech initialization took more than "+this.options_.warnSlowRespTimeout+" milliseconds"),n,s),window.HiveRequest=XMLHttpRequest,r.resolve(n)}else r.reject(new v(g.Zn,"error generating session"))},t.prototype.sI=function(t,e){var i=new u.es;i.jo(t);var r=new m(t,i,e,null);r.aI=!0;var n=h.hi.Po,o=n.exec(r.manifest);return null!=o?(r.KE=o[1],r.id=o[5],r):null},t.prototype.oI=function(t){var e=t.indexOf("?")==-1?"?":"&";return o.Ji(h.hi.Oo,h.hi.Co,this._E.options().playerPort,t,e,this._E.S())},t.prototype.tI=function(){var t=this;this.rI&&clearTimeout(this.rI),this.rI=setTimeout(function(){l.ErrorMonitor.Hi().Eo(t.id()+" The Lease Request is taking more than "+t.options_.warnSlowRespTimeout+" secs")},this.options_.warnSlowRespTimeout)},t.prototype.YE=function(){this.GE=0,this.zE=0,this.WE=0,this.$E=0},t.prototype.m=function(){return this._E.m()},t.prototype._l=function(){this.YE()},t.prototype.nI=function(){var t=this,e=n.defer(),i="//"+h.hi.Co+":"+this._E.options().monitorPort+"/version.json";return this.m().debug(this.id()+"checking if the monitor port is reachable"),o.Ui(i).then(function(i){var r=JSON.parse(i);t.state=r.state,l.ErrorMonitor.Hi().Eo(t.id()+"Client state: "+t.state),t._E.Ul(new p.B.Mn(null,p.B.Hr.xr)),e.resolve(new v(g.so,"state "+t.state))}).fail(function(i){if(i&&i.status==-1){var r="client not reachable";t._E.Ul(new p.B.Mn(null,p.B.Hr.Nr)),t.m().warn(t.id()+r),e.resolve(new v(g.so,r))}else{var r="VerifyClientState error";l.ErrorMonitor.Hi().Eo(t.id()+r,{error:i}),t._E.Ul(new p.B.Mn(null,p.B.Hr.xr)),e.resolve(new v(g.ao,r))}}),e.gt},t.Al="HiveJava",t}();e.HiveJava=w},function(t,e,i){"use strict";var r,n=this&&this.__extends||function(t,e){function i(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)},o=i(6),s=i(14);!function(t){var e;!function(t){var e=function(t){function e(){t.apply(this,arguments),this.minVersion=s.hi.Ao,this.initTimeout=6e4,this.warnSlowRespTimeout=5e3}return n(e,t),e}(o.pt.fi.vi);t.LE=e}(e=t.fi||(t.fi={}))}(r=e.pt||(e.pt={}))},function(t,e,i){"use strict";var r=i(1),n=i(7),o=i(44),s=i(12),a=s.pt.HiveTechError,c=s.pt.uo,h=i(26),p=i(10),u=i(15),l=i(45),d=i(22),f=i(13),v=(i(19),navigator),g=function(){function t(t,e){this.jE=0,this._E=t,this.options_=new o.pt.fi.cI,this.ME(e),this.UE()}return t.prototype.Ti=function(){return t.Al},t.prototype.getVersion=function(){return this.version},t.prototype.Bl=function(){return!1},t.prototype.UE=function(){var t=this;if(null==this.VE||Date.now()-this.jE>1e4){var e=r.defer(),i="//"+h.ld.Co+":"+h.ld.ud+"/version.json";n.Ui(i).then(function(i){var r=JSON.parse(i);t.state=r.state,t.version=r.version,"ready"===t.state?e.resolve("ready"):(t.m().warn(t.id()+"Client not ready: "+t.state),e.reject(new a(c.so,"state "+t.state)))},function(i){var r="Client not reachable";void 0!=i&&void 0!=i.status&&i.status!=-1&&(r="Client check returned "+i.status),t.m().warn(t.id()+r),e.reject(new a(c.so,r))})["catch"](function(t){e.reject(new a(c.so,"error parsing response"))}),this.VE=e.gt,this.jE=Date.now()}return this.VE},t.prototype.initSession=function(t,e){var i=this;console.log("ask init session to hivejsproxy");var n=r.defer();return this.UE().then(function(){return i.p(t).then(function(e){var r=i.sI(t,e);null!=r?(window.HiveRequest=function(){return new l.hI(r.id)},n.resolve(r)):n.reject(new a(c.Zn,"error generating session"))})}).fail(function(t){n.reject(t)}),n.gt},t.prototype.Dl=function(){return this.options_.initTimeout},t.prototype.at=function(t,e){return!0},t.prototype.wi=function(t,e){var i=this;this.m().debug(this.id()+"Stopping session "+t.id+" [onUnload:"+e+"]");var r="//"+h.ld.Co+":"+h.ld.ud+"/proxy/"+t.id+"/stop";e&&v.sendBeacon?(v.sendBeacon(r),this.m().debug(this.id()+"session stopped ["+t.id+"][beacon]")):n.Ui(r,null,!e).then(function(){i.m().debug(i.id()+"session stopped ["+t.id+"]"+(e?"[sync]":""))},function(r){i.m().warn(i.id()+"session close error ["+t.id+"]"+(e?"[sync]":""),r)})},t.prototype.td=function(t,e){var i=this,o=r.defer(),s="playing-point="+e.Un;s+="&buffer-length="+e.Yl,s+="&total-buffering="+e.Xl,s+="&width="+e.width,s+="&height="+e.height,s+="&fullscreen="+e.Zl;var a="//"+h.ld.Co+":"+h.ld.ud+"/proxy/"+t.id+"/stats/put?"+s;return n.Ui(a).then(function(){o.resolve(!0)},function(t){i.m().warn(i.id()+"error sending feedback to Hive Client",t),o.reject(t)}),o.gt},t.prototype.nd=function(t,e,i){var o=this,s=r.defer(),a="//"+h.ld.Co+":"+h.ld.ud+"/proxy/"+t.id+"/event?type="+e;if(void 0!=i)for(var c in i)a+="&"+c+"="+i[c];return this.m().debug(this.id()+"event "+p.B._[e],void 0!=i?i:""),n.Ui(a).then(function(){s.resolve(!0)},function(t){o.m().warn(o.id()+"error sending feedback event to Hive Client",t),s.reject(t)}),s.gt},t.prototype.cn=function(t,e){return r.resolve(!0)},t.prototype.onError=function(t){var e=!0;if(void 0!=this.options_.onError)try{e=this.options_.onError(t)}catch(i){f.ErrorMonitor.Hi().Eo(this.id()+"exception in user-defined onError callback: "+i)}return e},t.prototype.onActiveSession=function(t){var e="//"+h.ld.Co+":"+h.ld.ud+"/proxy/"+t.id+"/session?manifest"+this._E.rt();if(n.Ui(e),this.pI(t),void 0!=this.options_.onActiveSession)try{this.options_.onActiveSession(t.v())}catch(i){f.ErrorMonitor.Hi().Eo(this.id()+"exception in user-defined onActiveSession callback: "+i)}},t.prototype.jl=function(){},t.prototype._l=function(){},t.prototype.id=function(){return"["+t.Al+"] "},t.prototype.ME=function(e){void 0!=e[t.Al]&&n.Ki(e[t.Al],this.options_)},t.prototype.p=function(t){var e=this,i=r.defer();this.m().debug(this.id()+"resolving ticket: "+t);var o=this.oI(t),s=JSON.stringify(this.uI());return n.Qi(o,s,"application/json").then(function(r){var n=JSON.parse(r);e.m().debug(e.id()+"resolved ticket "+t+" -> "+n.manifest),i.resolve(n)},function(r){e.m().warn(e.id()+"ticket "+t+" resolve error: "+r),i.reject(new a(c.Zn,r))})["catch"](function(t){i.reject(new a(c.ao,t))}),i.gt},t.prototype.oI=function(t){return t=encodeURIComponent(t),n.Ji(h.ld.Oo,h.ld.Co,h.ld.ud,t,"&",this._E.S())},t.prototype.sI=function(t,e){var i=new u.es;i.jo(t);var r=new n.Si(t,i,e.manifest,null);return r.aI=!0,r.id=e.sessionId,r},t.prototype.uI=function(){var t={};t.HiveConfig={};for(var e in window.HiveConfig){t.HiveConfig[e]={};for(var i in window.HiveConfig[e])t.HiveConfig[e][i]=window.HiveConfig[e][i]}return t},t.prototype.pI=function(t){var e=this;if(void 0!==d.HiveConfig.Stats.render){var i="//"+h.ld.Co+":"+h.ld.ud+"/proxy/"+t.id+"/stats/get";if("undefined"!=typeof EventSource){var r=new EventSource(i);r.onmessage=function(t){e.lI(t.data)}}else this.dI=setInterval(function(){n.Ui(i).then(function(t){e.lI(t)})},4e3)}},t.prototype.lI=function(t){try{var e=JSON.parse(t);e.fI=function(t){return t>1e6?(t/1e6).toFixed(2)+"MB":t>1e3?(t/1e3).toFixed(2)+"KB":t+"B"},d.HiveConfig.Stats.render(e)}catch(i){console.warn(i)}},t.prototype.m=function(){return this._E.m()},t.Al="HiveJsProxy",t}();e.HiveJsProxy=g},function(t,e,i){"use strict";var r,n=this&&this.__extends||function(t,e){function i(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)},o=i(6);!function(t){var e;!function(t){var e=function(t){function e(){t.apply(this,arguments)}return n(e,t),e}(o.pt.fi.vi);t.cI=e}(e=t.fi||(t.fi={}))}(r=e.pt||(e.pt={}))},function(t,e,i){"use strict";var r=i(26),n=function(){function t(t){this.readyState=3,this.vI=!1,this.status=0,this.abort=function(){},this.iI=t}return t.prototype.open=function(t,e,i){console.log(t+" "+e),this.url=e},t.prototype.onload=function(){},t.prototype.onloadend=function(t){},t.prototype.onerror=function(t){},t.prototype.onprogress=function(t){},t.prototype.onreadystatechange=function(){},t.prototype.getAllResponseHeaders=function(){return this.gI},t.prototype.getResponseHeader=function(t){var e=this.getAllResponseHeaders();return e?this.getAllResponseHeaders()[t]:void 0},t.prototype.send=function(){var t=this,e=new XMLHttpRequest;this.responseType&&(e.responseType=this.responseType),e.open("GET","//"+r.ld.Co+":"+r.ld.ud+"/proxy/"+this.iI+"/player?req="+encodeURIComponent(this.url)),e.onreadystatechange=function(){if(4===e.readyState){t.gI=e.getAllResponseHeaders(),t.response=e.response;var i=e.response.byteLength;"arraybuffer"!==e.responseType&&(t.responseText=e.response),t.readyState=4,t.status=e.status,t.onreadystatechange(),t.onload(),t.onloadend({type:"loadend",target:t,currentTarget:t,bubbles:!1,cancelable:!1,lengthComputable:!1,loaded:i,total:0})}},e.send()},t}();e.hI=n},function(t,e,i){"use strict";var r,n=this&&this.__extends||function(t,e){function i(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)},o=i(6);!function(t){var e;!function(t){var e=function(t){function e(){t.apply(this,arguments)}return n(e,t),e}(o.pt.fi.vi);t.yI=e}(e=t.fi||(t.fi={}))}(r=e.pt||(e.pt={}))},function(t,e,i){"use strict";var r=i(1),n=i(7),o=i(46),s=i(13),a=o.pt.fi.yI,c=function(){function t(e,i){this._E=e,this.options_=new a,void 0!==i[t.Al]&&n.Ki(i[t.Al],this.options_)}return t.prototype.Ti=function(){return t.Al},t.prototype.getVersion=function(){return null},t.prototype.Bl=function(){return!0},t.prototype.UE=function(){return r.resolve(!0)},t.prototype.initSession=function(t,e){var i=r.defer();window.HiveRequest=XMLHttpRequest;var n=e.ticket;return i.resolve(this.sI(t,n,n.Go(),e)),i.gt},t.prototype.Dl=function(){return this.options().initTimeout},t.prototype.at=function(t,e){var i=e.manifest.toLowerCase().indexOf("/manifest");if(i>-1){var r=e.manifest.substring(0,i);if(t.indexOf(r)>-1)return!0}else if(t==e.manifest)return!0;return!1},t.prototype.wi=function(t){t.mi&&(this._E.m().debug("[StatsJS] stopping session ["+t.id+"]"),t.mi.mI.reset())},t.prototype.td=function(t,e){var i=0;return this.wI<e.Xl&&(i=e.Xl-this.wI,this.wI=e.Xl),t.mi.SI.TI(i,e.Yl),t.mi.bn.nn(e.Un,e.Yl,e.Xl),this.bI(),r.resolve(!0)},t.prototype.nd=function(t,e,i){return t.mi.bn.an(t.ticket.sessionId,e,i),r.resolve(!0)},t.prototype.cn=function(t,e){return t.mi.bn.hn([e]),r.resolve(!0)},t.prototype.onError=function(t){var e=!0;if(void 0!=this.options().onError)try{e=this.options().onError(t)}catch(i){s.ErrorMonitor.Hi().Eo("[StatsJS] exception in user-defined onError callback: "+i)}return e},t.prototype.onActiveSession=function(t){this.EI(),this.II=t.mi,this.II.mI.init(this.II.SI),this.II.SI.RI.init(this._E.isLive(),this._E.Y(),t.ticket.Go()),this._E.Ll(this.II),this.II.bn.en(t.ticket.sessionId,this._E.rt(),200);var e=this._E.Vl();if(e&&e.length>0&&this.II.bn.hn(e),void 0!=this.options_.onActiveSession)try{this.options_.onActiveSession(t.v())}catch(i){s.ErrorMonitor.Hi().Eo("[StatsJS] exception in user-defined onActiveSession callback: "+i)}},t.prototype.jl=function(){},t.prototype._l=function(){},t.prototype.options=function(){return this.options_},t.prototype.EI=function(){this.wI=0},t.prototype.sI=function(t,e,i,r){var o=new n.Si(t,e,i,r);return o.aI=!1,o.id=e.sessionId,o},t.prototype.bI=function(){try{var t=this._E.ct();void 0!=t&&(this.II.SI.kI.metrics.bitrateUpN+=t._i(),this.II.SI.kI.metrics.bitrateDwnN+=t.Bi(),null!=t.Ai()&&(this.II.SI.kI.metrics.srcThroughput=t.Ai()),null!=t.Ni()&&this.CI(!0,t.Ni()),null!=t.xi()&&this.CI(!1,t.xi()))}catch(e){s.ErrorMonitor.Hi().Eo(e)}},t.prototype.CI=function(t,e){var i=this,r=0,n=0,o=0,s=0;e.forEach(function(e,a){var c=e.success+e.Ei;if(r+=c,s+=e.Ii,n+=e.success,o+=e.Ei,t){var h=i.II.SI.OI(a);i.AI(h,c,e.success,e.Ei,e.Ii)}});var a=this.II.SI.NI();this.AI(a,r,n,o,s)},t.prototype.AI=function(t,e,i,r,n){t.srcReqN+=e,
t.srcRespN+=i,t.srcRespErrN+=r,t.srcRespQt+=n,t.respFallbackN+=i,t.respFallbackErrN+=r},t.Al="StatsJS",t}();e.StatsJS=c},function(t,e){"use strict";var i=function(){function t(){}return t.xI=function(t){return t.match(/^(192\.168\.|169\.254\.|10\.|172\.(1[6-9]|2\d|3[01]))/)},t._I=function(t){return t.match(/^[a-f0-9]{1,4}(:[a-f0-9]{1,4}){7}$/)},t}();e.BI=i},function(t,e,i){"use strict";var r=i(16),n=i(2),o=i(23),s=i(51),a=i(8),c=i(10),h=i(53),p=i(52),u=i(56),l=i(50),d=i(55),f=i(54),v=function(){function t(){}return t.prototype.apply=function(t){t.bind(new r.rs(a.nr.tr,s.FI,r.ns.us)),t.bind(new r.rs(a.nr._e,p.DI,r.ns.us)),t.bind(new r.rs(a.nr.Yi,u.HI,r.ns.us)),t.bind(new r.rs(a.nr.Ce,l.jI,r.ns.us)),t.bind(new r.rs(n.Framework.Be.Te,o.fl.dl,r.ns.us)),t.bind(new r.rs(a.nr.Xi,f.LI,r.ns.us)),t.bind(new r.rs(a.nr.er,h.Stats.qd,r.ns.us)),t.bind(new r.rs(a.nr.$i,h.Stats.An,r.ns.us)),t.bind(new r.rs(a.nr.ir,c.B.Sn,r.ns.us)),t.bind(new r.rs(a.nr.rr,c.B.An,r.ns.us)),t.bind(new r.rs(a.nr.Zi,d.MI,r.ns.us))},t}();e.hd=v},function(t,e,i){"use strict";var r=i(1),n=i(21),o=i(2),s=i(9),a=function(){function t(){this.zr=null,this.indexedDB=window.indexedDB||window.mozIndexedDB||window.webkitIndexedDB||window.msIndexedDB,o.Framework&&o.Framework.resolve(o.Framework.Be.Te)?this.m=o.Framework.resolve(o.Framework.Be.Te).log():this.m=console}return t.prototype.UI=function(){var t=r.defer(),e=indexedDB.open("IdentityDB");return e.onupgradeneeded=function(){var t=e.result;t.createObjectStore("IdentityStore",{keyPath:"id"})},e.onsuccess=function(){var i=e.result;t.resolve(i)},e.onerror=function(e){t.reject(e)},t.gt},t.prototype.Il=function(){var t=this;if(this.VI)return this.VI;var e=r.defer();if(this.zr)e.resolve(this.zr);else if(s.yr.or&&this.indexedDB){var i=setTimeout(function(){t.m.warn("[HiveComm] timeout retrieving persistent ID - generating random one"),t.zr=t.QI(),t.m.debug("[HiveComm] Generated UUID: "+t.zr),e.resolve(t.zr)},4e3);try{var n=this.UI();n.then(function(r){var n=r.transaction("IdentityStore","readwrite"),o=n.objectStore("IdentityStore"),a=o.get("MYID");a.onsuccess=function(){if(clearTimeout(i),t.zr)e.resolve(t.zr);else if(null!=a.result&&s.yr.or){var o=a.result.value;t.m.debug("[HiveComm] Retrieved persistent UUID: "+o),t.zr=o,r.close(),e.resolve(t.zr)}else{var c=t.QI(),h=r.transaction("IdentityStore","readwrite"),p=n.objectStore("IdentityStore");p.put({id:"MYID",value:c}),h.oncomplete=function(){t.m.debug("[HiveComm] completed UUID persistence"),r.close()},t.m.debug("[HiveComm] Generated UUID: "+c),t.zr=c,e.resolve(t.zr)}},a.onerror=function(r){clearTimeout(i),t.zr||(t.m.warn("[HiveComm] error retrieving persistent UUID: "+r),t.zr=t.QI(),t.m.debug("[HiveComm] Generated UUID: "+t.zr)),e.resolve(t.zr)}}).fail(function(r){clearTimeout(i),t.zr||(t.m.warn("[HiveComm] error opening indexedDB - generating random id. Error: "+r),t.zr=t.QI(),t.m.debug("[HiveComm] Generated UUID: "+t.zr)),e.resolve(t.zr)})}catch(o){this.zr=this.QI(),this.m.debug("[HiveComm] Persistence error - Generate UUID: "+this.zr,o),e.resolve(this.zr)}}else this.zr=this.QI(),this.m.debug("[HiveComm] Persistence disabled - Generate UUID: "+this.zr),e.resolve(this.zr);return this.VI=e.gt,this.VI},t.prototype.QI=function(){return n.Ko()},t}();e.jI=a},function(t,e,i){"use strict";var r=i(1),n=i(2),o=i(8),s=i(28),a=function(){function t(t,e,i,r,n,o,s){this.ticket=t,this.SI=e,this.Jl=i,this.mI=r,this.qI=n,this.bn=o,this.app=s}return t.prototype.Wr=function(t,e){this.app=new c(t,e),this.SI.Wr(this.app),this.bn.Wr(this.app)},t}();e.JI=a;var c=function(){function t(t,e){this.app=t,this.version=e}return t}();e.KI=c;var h=function(){function t(){this.zr=null,this.m=n.Framework.resolve(n.Framework.Be.Te).log(),this.SI=n.Framework.resolve(o.nr.er),this.mI=n.Framework.resolve(o.nr.$i),this.Jl=n.Framework.resolve(o.nr._e),this.GI=n.Framework.resolve(o.nr.Ce),this.zI=n.Framework.resolve(o.nr.Yi),this.bn=n.Framework.resolve(o.nr.ir),this.client=n.Framework.resolve(o.nr.rr)}return t.prototype.initSession=function(t,e){var i=this,n=r.defer(),o=this.GI.Il(),s=this.zI.WI(t);return null!=s?o.then(function(t){return i.$I(t,s,n,e)}).fail(n.reject):n.reject("Ticket URL not valid"),n.gt},t.prototype.$I=function(t,e,i,r){var n=this;this.zr=t;var o=this.Jl.init(this.zr,e),h=this.zI.resolve(o.YI,e,r);o.gt.then(function(t){h.then(function(t){if(null==n.SI.ticket||null!=n.SI.ticket&&!n.XI(t,n.SI.ticket)){var e=new c(s.Hive.dd(),s.Hive.getVersion());n.SI.init(n.zr,t,e),n.bn.init(n.zr,e),n.bn.Xr(t);var r=new a(t,n.SI,n.Jl,n.mI,n.client,n.bn,e);i.resolve(r)}else n.m.warn("Attempt to init the same ticket "+n.SI.ticket)}).fail(function(t){return i.reject(t?t:"Error resolving the ticket")}),t.onerror(function(t){i.reject("Error establishing connection to Hive Services")})}).fail(function(t){return i.reject(t)}),this.Jl.connect()},t.prototype.XI=function(t,e){return t.Uo()===e.Uo()&&t.ln()===e.ln()&&t.un()===e.un()},t.prototype.close=function(){this.Jl.close()},t}();e.FI=h},function(t,e,i){"use strict";var r=i(1),n=i(20),o=i(36),s=i(2),a=i(9),c=i(11),h=function(){function t(){this.m=s.Framework.resolve(s.Framework.Be.Te).log()}return t.prototype.init=function(t,e){var i=this;if(this.ZI)this.ZI.then(function(){var t={partnerId:e.un(),customerId:e.ln(),contentId:e.Uo(),secret:e.Vo()},r=new c.On(Services.bd,1,JSON.stringify(t));i.connection.send(r)});else{var s=r.defer(),h=a.yr.gr.sr,p=new n(h),u=p.yu({"connection-id":t,partner_id:e.un(),customer_id:e.ln(),content_id:e.Uo(),ticket:e.Vo()}).toString();this.connection=new o.IE(u,a.yr.gr.lr,a.yr.gr.dr,a.yr.gr.vr),this.connection.gE(function(){i.m.debug("HIVE SERVICES CONNECTED"),s.resolve(i.connection)}),this.connection.onerror(function(){i.m.warn("Hive Services Connection failed"),s.reject(i.connection)}),this.ZI=s.gt}return{YI:this.connection,gt:this.ZI}},t.prototype.connect=function(){this.connection&&this.connection.connect(!0)},t.prototype.ql=function(t){},t.prototype.Cn=function(){return this.connection},t.prototype.close=function(){this.connection&&this.connection.close()},t}();e.DI=h},function(t,e,i){"use strict";var r=i(5),n=r.ye,o=i(17);i(31),i(30);var s,a=i(1),c=i(2),h=i(8),p=i(9),u=i(11);!function(t){var e=function(){function t(){this.metrics=new hive.snapshots.Metrics,this.tR=new hive.snapshots.Traffic,this.eR=new n,this.iR=new n,this.rR=new n,this.player=new hive.snapshots.Player}return t}();t.nR=e;var i=function(){function e(){this.ticket=null,this.m=c.Framework.resolve(c.Framework.Be.Te).log(),this.Qr=c.Framework.resolve(h.nr.Xi),this.oR()}return e.prototype.init=function(t,e,i){this.zr=t,this.ticket=e,this.Wr(i)},e.prototype.Wr=function(t){this.app=t},e.prototype.ql=function(){this.RI=c.Framework.resolve(h.nr.Zi)},e.prototype.oR=function(){this.sR=new t.nR,this.zr=null,this.ticket=null,this.reset()},e.prototype.reset=function(){this.kI=new t.nR,this.aR(this.kI.tR),this.cR(this.kI)},e.prototype.aR=function(t){t.respFallbackN=0,t.respFallbackErrN=0,t.srcReqN=0,t.srcRespErrN=0,t.srcRespQt=0,t.srcOtherRespN=0,t.srcRespN=0,t.srcOverQt=0,t.p2pDirectQt=0,t.p2pNatQt=0,t.p2pUdpbQt=0,t.p2pRelayQt=0,t.p2pOutSiteLowPrio=0,t.respP2pN=0,t.p2pSubReqN=0,t.p2pSubRespErrN=0,t.p2pSubRespQt=0},e.prototype.cR=function(t){t.metrics.videoBufN=0,t.metrics.videoBufQt=0,t.player.bufferingN=0,t.player.bufferingMs=0},e.prototype.hR=function(){var t=this,e=new hive.snapshots.MetricSnapshot;e.timestamp=c.Framework.time(),e.guid=this.zr,e.sessionId=this.ticket.sessionId,e.eventId=new EventId,e.eventId.partnerId=this.ticket.un(),e.eventId.customerId=this.ticket.ln(),e.eventId.contentId=this.ticket.Uo();try{var i=new hive.snapshots.ClientInfo;i.clientType="STATS"===this.app.app?ClientType.Pd:ClientType.Ad;var r=this.app.version.split(".");i.majorVersion=parseInt(r[0]),i.minorVersion=parseInt(r[1]),i.patchVersion=parseInt(r[2]),e.client=i}catch(n){this.m.warn("error setting Snapshot ClientInfo",n)}e.streamInfo=this.RI.pR(),e.traffic=[];var o=new hive.snapshots.TrafficKey;if(e.traffic.push({key:o,value:this.kI.tR}),this.kI.eR.forEach(function(t,i){var r=new hive.snapshots.TrafficKey;r.bitrate=i,e.traffic.push({key:r,value:t})}),e.metrics=this.kI.metrics,e.player=this.kI.player,this.uR){var s=this.uR.getPartnerSnapshots();s.forEach(function(i,r){t.lR(r,i,e)}),this.kI.rR.filter(function(t,e){return!s.has(e)}).forEach(function(i,r){t.lR(r,i,e)})}var h=a.defer();return this.Qr.mn().then(function(t){e.connInfo=t})["oe"](function(){return h.resolve(e)}),h.gt},e.prototype.lR=function(t,e,i){var r=this.kI.iR.get(t);e.traffic=r,i.partners||(i.partners=[]);var n=new hive.snapshots.PartnerKey;n.partnerGuid=t,i.partners.push({key:n,value:e})},e.prototype.TI=function(t,e){t>0&&(this.kI.metrics.videoBufN++,this.kI.metrics.videoBufQt+=t,this.kI.player.bufferingN++,this.kI.player.bufferingMs+=t),this.kI.player.playerBufferMs=e},e.prototype.NI=function(){return this.kI.tR},e.prototype.dR=function(){return this.sR.tR},e.prototype.fR=function(t){return this.sR.eR.has(t)||this.sR.eR.set(t,new hive.snapshots.Traffic),this.sR.eR.get(t)},e.prototype.OI=function(t){if(!this.kI.eR.has(t)){var e=new hive.snapshots.Traffic;this.aR(e),this.kI.eR.set(t,e)}return this.kI.eR.get(t)},e.prototype.vR=function(t,e){return e.iR.has(t)||e.iR.set(t,new hive.snapshots.PartnerTraffic),e.iR.get(t)},e.prototype.gR=function(t){return this.vR(t,this.kI)},e.prototype.yR=function(t){return this.vR(t,this.sR)},e.prototype.mR=function(t){this.Qr=t},e.prototype.wR=function(t){this.uR=t},e.prototype.Tn=function(t){this.zr=t},e}();t.qd=i;var r=function(){function t(){this.m=c.Framework.resolve(c.Framework.Be.Te).log(),this.client=c.Framework.resolve(h.nr._e),this.Ya=new o.ba,this.protocol=new o.Wa(this.Ya)}return t.prototype.init=function(t){var e=this;this.jd=t,this.jd.ql(),this.TR=c.Framework.setTimeout(function(){e.SR()},p.yr.gr.hr)},t.prototype.reset=function(){c.Framework.clearTimeout(this.TR),this.jd&&this.jd.oR()},t.prototype.SR=function(){var t=this;this.TR=c.Framework.setTimeout(function(){t.SR()},p.yr.gr.hr);var e=this.jd.hR();e.then(function(e){return t.forward(e)})["oe"](function(){return t.jd.reset()})},t.prototype.forward=function(t){var e=this;if(this.client&&this.client.Cn()){this.m.debug("SENDING SNAPSHOT: ",t),this.protocol.hc("SNAPSHOT",o.Hs.Us,0),t.write(this.protocol),this.protocol.lc();var i=this.Ya.Da(),r=this.bR(i,",",4),n=i.slice(r+1,i.length-1),s=new u.On(Services.Pn,1,n),a=this.client.Cn().send(s);a.fail(function(t){e.m.warn("SNAPSHOT PROBLEM: ",t)})}},t.prototype.bR=function(t,e,i){return t.split(e,i).join(e).length},t}();t.An=r}(s=e.Stats||(e.Stats={}))},function(t,e,i){"use strict";var r=i(1),n=i(9),o=i(5),s=i(48),a=i(2),c=(i(58),function(){function t(){this.publicIp=null,this.privateIp=null,this.Ei=!1,this.m=a.Framework.resolve(a.Framework.Be.Te).log()}return t.prototype.mn=function(){var t=this,e=r.defer(),i=new hive.snapshots.ConnectivityInfo;if(this.Ei)e.reject("failed");else if(null==this.publicIp||null==this.privateIp){var n=this.ER();n.then(function(e){e.forEach(function(e){s.BI.xI(e)?t.privateIp=i.privateIp=e:t.publicIp=i.publicIp=e})}).fail(function(i){("undefined"==typeof i.warn||i.warn)&&t.m.warn("error detecting Connectivity Info",i),t.Ei=!0,e.reject(i)})["oe"](function(){return e.resolve(i)})}else i.privateIp=this.privateIp,i.publicIp=this.publicIp,e.resolve(i);return e.gt},t.prototype.IR=function(t){var e=null,i=/([0-9]{1,3}(\.[0-9]{1,3}){3})/,r=i.exec(t);if(r){var n=r[0];this.RR.has(n)||(e=n),this.RR.set(n,!0)}return e},t.prototype.ER=function(){var t=this,e=r.defer();if("undefined"==typeof RTCPeerConnection)e.reject({warn:!1,error:"webrtc not supported"});else{this.RR=new o.ye;var i=new Array,s={optional:[{RtpDataChannels:!0}]};try{var a=new RTCPeerConnection(n.yr.gr.cr,s);a.onicecandidate=function(e){if(e.candidate){var r=t.IR(e.candidate.candidate);null!=r&&i.push(r)}},a.createDataChannel(""),a.createOffer(function(t){a.setLocalDescription(t,function(){},function(){})},function(){}),setTimeout(function(){try{var r=a.localDescription.sdp.split("\n");r.forEach(function(e){if(0===e.indexOf("a=candidate:")){var r=t.IR(e);null!=r&&i.push(r)}}),e.resolve(i),a.close()}catch(n){e.reject({warn:!0,error:n})}},1e3)}catch(c){e.reject({warn:!0,error:c})}}return e.gt},t}());e.LI=c},function(t,e){"use strict";var i=function(){function t(){}return t.prototype.init=function(t,e,i){this.isLive=t,this.protocol=e,this.kR=i},t.prototype.pR=function(){var t=new hive.snapshots.StreamInfo;return t.streamType=this.isLive?StreamType.LIVE:StreamType.Rd,t.streamProtocol=this.protocol,t.url=this.kR,t},t}();e.MI=i},function(t,e,i){"use strict";i(29);var r=i(1),n=i(5),o=n.ye,s=i(2),a=i(15),c=function(){function t(t){this.Nn=(new Date).getTime(),this.CR=t}return t}(),h=function(){function t(){this.OR=new o,this.m=(s.Framework.resolve(s.Framework.Be.Te)||console).log()}return t.prototype.resolve=function(t,e,i){var n=this,o=r.defer();return t&&(t.on(Services.bd,0,function(t){n.PR(t)}),t.on(Services.bd,2,function(t){n.PR(t)}),this.OR.set(e,new c(o))),o.gt},t.prototype.PR=function(t){var e=this,i=(new Date).getTime(),r=JSON.parse(t.msg),n=!1;this.OR.forEach(function(t,o){if(e.AR(o,r)){n=!0;var s=e.Fl(o,r);s?(s.Nn=t.Nn,s.xn=i,t.CR.resolve(s)):t.CR.reject("Ticket verification failed"),e.OR["delete"](s)}}),n||this.m.warn("no pending ticket matching: "+t.msg)},t.prototype.WI=function(t){var e=new RegExp("^https?://api(?:-test)?.hivestreaming.com/v1/events/(?:wildcard/)?");if(e.test(t)){var i=new a.es;return i.jo(t),i}return null},t.prototype.AR=function(t,e){return t.un()===e[a.es.Xo]&&t.ln()===e[a.es.Yo]&&t.Uo()===e[a.es.Zo]},t.prototype.Fl=function(t,e){return t._o(e),t.Fo()?t:null},t}();e.HI=h},function(t,e){(function(e){t.t=e}).call(e,{})},function(t,e,i){"use strict";!function(){var e=i(3),r=e.log,n=e.ri;t.t.ri=n,t.t.Xe=e.Xe,t.t.Ye=e.Ye;var o=i(59)||null,s=i(61)||null,a=i(63)||null,c=i(65)||null;switch(n.ti){case"chrome":if(!o||!o.NR)return void r("Chrome shim is not included in this adapter release.");r("adapter.js shimming chrome."),t.t.xR=o,o._R(),o.BR(),e.ei(),o.FR(),o.NR(),o.DR(),o.HR();break;case"firefox":if(!a||!a.NR)return void r("Firefox shim is not included in this adapter release.");r("adapter.js shimming firefox."),t.t.xR=a,a._R(),e.ei(),a.FR(),a.NR(),a.DR();break;case"edge":if(!s||!s.NR)return void r("MS edge shim is not included in this adapter release.");r("adapter.js shimming edge."),t.t.xR=s,s._R(),e.ei(),s.NR();break;case"safari":if(!c)return void r("Safari shim is not included in this adapter release.");r("adapter.js shimming safari."),t.t.xR=c,c._R();break;default:r("Unsupported browser!")}}()},function(t,e,i){"use strict";var r=i(3).log,n=i(3).ri,o={BR:function(){window.MediaStream=window.MediaStream||window.webkitMediaStream},DR:function(){"object"!=typeof window||!window.RTCPeerConnection||"ontrack"in window.RTCPeerConnection.prototype||Object.defineProperty(window.RTCPeerConnection.prototype,"ontrack",{get:function(){return this.jR},set:function(t){var e=this;this.jR&&(this.removeEventListener("track",this.jR),this.removeEventListener("addstream",this.LR)),this.addEventListener("track",this.jR=t),this.addEventListener("addstream",this.LR=function(t){t.stream.addEventListener("addtrack",function(i){var r=new Event("track");r.track=i.track,r.receiver={track:i.track},r.MR=[t.stream],e.dispatchEvent(r)}),t.stream.getTracks().forEach(function(e){var i=new Event("track");i.track=e,i.receiver={track:e},i.MR=[t.stream],this.dispatchEvent(i)}.bind(this))}.bind(this))}})},HR:function(){if("object"==typeof window&&window.RTCPeerConnection&&!("getSenders"in RTCPeerConnection.prototype)&&"createDTMFSender"in RTCPeerConnection.prototype){RTCPeerConnection.prototype.getSenders=function(){return this.UR};var t=RTCPeerConnection.prototype.addStream,e=RTCPeerConnection.prototype.removeStream;RTCPeerConnection.prototype.addStream=function(e){var i=this;i.UR=i.UR||[],t.apply(i,[e]),e.getTracks().forEach(function(t){i.UR.push({track:t,get VR(){return void 0===this.QR&&("audio"===t.kind?this.QR=i.createDTMFSender(t):this.QR=null),this.QR}})})},RTCPeerConnection.prototype.removeStream=function(t){var i=this;i.UR=i.UR||[],e.apply(i,[t]),t.getTracks().forEach(function(t){var e=i.UR.find(function(e){return e.track===t});e&&i.UR.splice(i.UR.indexOf(e),1)})}}},FR:function(){"object"==typeof window&&(!window.HTMLMediaElement||"srcObject"in window.HTMLMediaElement.prototype||Object.defineProperty(window.HTMLMediaElement.prototype,"srcObject",{get:function(){return this.qR},set:function(t){var e=this;return this.qR=t,this.src&&URL.revokeObjectURL(this.src),t?(this.src=URL.createObjectURL(t),t.addEventListener("addtrack",function(){e.src&&URL.revokeObjectURL(e.src),e.src=URL.createObjectURL(t)}),void t.addEventListener("removetrack",function(){e.src&&URL.revokeObjectURL(e.src),e.src=URL.createObjectURL(t)})):void(this.src="")}}))},NR:function(){window.RTCPeerConnection||(window.RTCPeerConnection=function(t,e){return r("PeerConnection"),t&&t.JR&&(t.KR=t.JR),new webkitRTCPeerConnection(t,e)},window.RTCPeerConnection.prototype=webkitRTCPeerConnection.prototype,webkitRTCPeerConnection.generateCertificate&&Object.defineProperty(window.RTCPeerConnection,"generateCertificate",{get:function(){return webkitRTCPeerConnection.generateCertificate}}));var t=RTCPeerConnection.prototype.getStats;RTCPeerConnection.prototype.getStats=function(e,i,r){var n=this,o=arguments;if(arguments.length>0&&"function"==typeof e)return t.apply(this,arguments);if(0===t.length&&(0===arguments.length||"function"!=typeof arguments[0]))return t.apply(this,[]);var s=function(t){var e={},i=t.result();return i.forEach(function(t){var i={id:t.id,timestamp:t.timestamp,type:{GR:"local-candidate",zR:"remote-candidate"}[t.type]||t.type};t.names().forEach(function(e){i[e]=t.stat(e)}),e[i.id]=i}),e},a=function(t){return new Map(Object.keys(t).map(function(e){return[e,t[e]]}))};if(arguments.length>=2){var c=function(t){o[1](a(s(t)))};return t.apply(this,[c,arguments[0]])}return new Promise(function(e,i){t.apply(n,[function(t){e(a(s(t)))},i])}).then(i,r)},n.version<51&&["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach(function(t){var e=RTCPeerConnection.prototype[t];RTCPeerConnection.prototype[t]=function(){var t=arguments,i=this,r=new Promise(function(r,n){e.apply(i,[t[0],r,n])});return t.length<2?r:r.then(function(){t[1].apply(null,[])},function(e){t.length>=3&&t[2].apply(null,[e])})}}),n.version<52&&["createOffer","createAnswer"].forEach(function(t){var e=RTCPeerConnection.prototype[t];RTCPeerConnection.prototype[t]=function(){var t=this;if(arguments.length<1||1===arguments.length&&"object"==typeof arguments[0]){var i=1===arguments.length?arguments[0]:void 0;return new Promise(function(r,n){e.apply(t,[r,n,i])})}return e.apply(this,arguments)}}),["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach(function(t){var e=RTCPeerConnection.prototype[t];RTCPeerConnection.prototype[t]=function(){return arguments[0]=new("addIceCandidate"===t?RTCIceCandidate:RTCSessionDescription)(arguments[0]),e.apply(this,arguments)}});var e=RTCPeerConnection.prototype.addIceCandidate;RTCPeerConnection.prototype.addIceCandidate=function(){return arguments[0]?e.apply(this,arguments):(arguments[1]&&arguments[1].apply(null),Promise.resolve())}}};t.t={BR:o.BR,DR:o.DR,HR:o.HR,FR:o.FR,NR:o.NR,_R:i(60)}},function(t,e,i){"use strict";var r=i(3).log,n=i(3).ri;t.t=function(){var t=function(t){if("object"!=typeof t||t.WR||t.optional)return t;var e={};return Object.keys(t).forEach(function(i){if("require"!==i&&"advanced"!==i&&"mediaSource"!==i){var r="object"==typeof t[i]?t[i]:{$R:t[i]};void 0!==r.YR&&"number"==typeof r.YR&&(r.min=r.max=r.YR);var n=function(t,e){return t?t+e.charAt(0).toUpperCase()+e.slice(1):"deviceId"===e?"sourceId":e};if(void 0!==r.$R){e.optional=e.optional||[];var o={};"number"==typeof r.$R?(o[n("min",i)]=r.$R,e.optional.push(o),o={},o[n("max",i)]=r.$R,e.optional.push(o)):(o[n("",i)]=r.$R,e.optional.push(o))}void 0!==r.YR&&"number"!=typeof r.YR?(e.WR=e.WR||{},e.WR[n("",i)]=r.YR):["min","max"].forEach(function(t){void 0!==r[t]&&(e.WR=e.WR||{},e.WR[n(t,i)]=r[t])})}}),t.XR&&(e.optional=(e.optional||[]).concat(t.XR)),e},e=function(e,i){if(e=JSON.parse(JSON.stringify(e)),e&&e.kp&&(e.kp=t(e.kp)),e&&"object"==typeof e.video){var o=e.video.ZR;o=o&&("object"==typeof o?o:{$R:o});var s=n.version<59;if(o&&("user"===o.YR||"environment"===o.YR||"user"===o.$R||"environment"===o.$R)&&(!navigator.mediaDevices.tk||!navigator.mediaDevices.tk().ZR||s)&&(delete e.video.ZR,"environment"===o.YR||"environment"===o.$R))return navigator.mediaDevices.ek().then(function(n){n=n.filter(function(t){return"videoinput"===t.kind});var s=n.find(function(t){return t.label.toLowerCase().indexOf("back")!==-1})||n.length&&n[n.length-1];return s&&(e.video.ik=o.YR?{YR:s.ik}:{$R:s.ik}),e.video=t(e.video),r("chrome: "+JSON.stringify(e)),i(e)});e.video=t(e.video)}return r("chrome: "+JSON.stringify(e)),i(e)},i=function(t){return{name:{rk:"NotAllowedError",nk:"OverconstrainedError"}[t.name]||t.name,message:t.message,sk:t.constraintName,toString:function(){return this.name+(this.message&&": ")+this.message}}},o=function(t,r,n){e(t,function(t){navigator.webkitGetUserMedia(t,r,function(t){n(i(t))})})};navigator.getUserMedia=o;var s=function(t){return new Promise(function(e,i){navigator.getUserMedia(t,e,i)})};if(navigator.mediaDevices||(navigator.mediaDevices={getUserMedia:s,ek:function(){return new Promise(function(t){var e={kp:"audioinput",video:"videoinput"};return MediaStreamTrack.getSources(function(i){t(i.map(function(t){return{label:t.label,kind:e[t.kind],ik:t.id,ak:""}}))})})},tk:function(){return{ik:!0,ck:!0,ZR:!0,hk:!0,height:!0,width:!0}}}),navigator.mediaDevices.getUserMedia){var a=navigator.mediaDevices.getUserMedia.bind(navigator.mediaDevices);navigator.mediaDevices.getUserMedia=function(t){return e(t,function(t){return a(t).then(function(e){if(t.kp&&!e.getAudioTracks().length||t.video&&!e.getVideoTracks().length)throw e.getTracks().forEach(function(t){t.stop()}),new DOMException("","NotFoundError");return e},function(t){return Promise.reject(i(t))})})}}else navigator.mediaDevices.getUserMedia=function(t){return s(t)};"undefined"==typeof navigator.mediaDevices.addEventListener&&(navigator.mediaDevices.addEventListener=function(){r("Dummy mediaDevices.addEventListener called.")}),"undefined"==typeof navigator.mediaDevices.removeEventListener&&(navigator.mediaDevices.removeEventListener=function(){r("Dummy mediaDevices.removeEventListener called.")})}},function(t,e,i){"use strict";function r(t){var e=t.filter(function(t){return"audio"===t.kind}),i=t.filter(function(t){return"video"===t.kind});for(t=[];e.length||i.length;)e.length&&t.push(e.shift()),i.length&&t.push(i.shift());return t}function n(t){var e=!1;return t=JSON.parse(JSON.stringify(t)),t.filter(function(t){if(t&&(t.pk||t.url)){var i=t.pk||t.url,r="string"==typeof i;return r&&(i=[i]),i=i.filter(function(t){var i=0===t.indexOf("turn:")&&t.indexOf("transport=udp")!==-1&&t.indexOf("turn:[")===-1&&!e;return i?(e=!0,!0):0===t.indexOf("stun:")&&s.version>=14393}),delete t.url,t.pk=r?i[0]:i,!!i.length}return!1})}var o=i(35),s=i(3).ri,a={NR:function(){if(window.RTCIceGatherer&&(window.RTCIceCandidate||(window.RTCIceCandidate=function(t){return t}),window.RTCSessionDescription||(window.RTCSessionDescription=function(t){return t}),s.version<15025)){var t=Object.getOwnPropertyDescriptor(MediaStreamTrack.prototype,"enabled");Object.defineProperty(MediaStreamTrack.prototype,"enabled",{set:function(e){t.set.call(this,e);var i=new Event("enabled");i.enabled=e,this.dispatchEvent(i)}})}window.RTCPeerConnection=function(t){var e=this,i=document.createDocumentFragment();if(["addEventListener","removeEventListener","dispatchEvent"].forEach(function(t){e[t]=i[t].bind(i)}),this.onicecandidate=null,this.onaddstream=null,this.uk=null,this.onremovestream=null,this.onsignalingstatechange=null,this.oniceconnectionstatechange=null,this.lk=null,this.onnegotiationneeded=null,this.ondatachannel=null,this.dk=[],this.fk=[],this.getLocalStreams=function(){return e.dk},this.getRemoteStreams=function(){return e.fk},this.localDescription=new RTCSessionDescription({type:"",sdp:""}),this.remoteDescription=new RTCSessionDescription({type:"",sdp:""}),this.signalingState="stable",this.iceConnectionState="new",this.iceGatheringState="new",this.vk={gk:"all",iceServers:[]},t&&t.JR)switch(t.JR){case"all":case"relay":this.vk.gk=t.JR}this.yk=t&&"max-bundle"===t.bundlePolicy,t&&t.iceServers&&(this.vk.iceServers=n(t.iceServers)),this.mk=t,this.wk=[],this.Tk=[]},window.RTCPeerConnection.prototype.Sk=function(){var t=new Event("icegatheringstatechange");this.dispatchEvent(t),null!==this.lk&&this.lk(t)},window.RTCPeerConnection.prototype.bk=function(){var t=this,e=o.qS(t.localDescription.sdp);this.Tk.forEach(function(i){var r=!i.candidate||0===Object.keys(i.candidate).length;if(r)for(var n=1;n<e.length;n++)e[n].indexOf("\r\na=end-of-candidates\r\n")===-1&&(e[n]+="a=end-of-candidates\r\n");else e[i.candidate.sdpMLineIndex+1]+="a="+i.candidate.candidate+"\r\n";if(t.localDescription.sdp=e.join(""),t.dispatchEvent(i),null!==t.onicecandidate&&t.onicecandidate(i),!i.candidate&&"complete"!==t.iceGatheringState){var o=t.wk.every(function(t){return t.Gb&&"completed"===t.Gb.state});o&&"complete"!==t.iceGatheringStateChange&&(t.iceGatheringState="complete",t.Sk())}}),this.Tk=[]},window.RTCPeerConnection.prototype.getConfiguration=function(){return this.mk},window.RTCPeerConnection.prototype.addStream=function(t){if(s.version>=15025)this.dk.push(t);else{var e=t.clone();t.getTracks().forEach(function(t,i){var r=e.getTracks()[i];t.addEventListener("enabled",function(t){r.enabled=t.enabled})}),this.dk.push(e)}this.Ek()},window.RTCPeerConnection.prototype.removeStream=function(t){var e=this.dk.indexOf(t);e>-1&&(this.dk.splice(e,1),this.Ek())},window.RTCPeerConnection.prototype.getSenders=function(){return this.wk.filter(function(t){return!!t.$b}).map(function(t){return t.$b})},window.RTCPeerConnection.prototype.getReceivers=function(){return this.wk.filter(function(t){return!!t.Yb}).map(function(t){return t.Yb})},window.RTCPeerConnection.prototype.Ik=function(t,e){var i={Cb:[],Ob:[],Pb:[]},r=function(t,e){t=parseInt(t,10);for(var i=0;i<e.length;i++)if(e[i].ib===t||e[i].sb===t)return e[i]},n=function(t,e,i,n){var o=r(t.parameters.apt,i),s=r(e.parameters.apt,n);return o&&s&&o.name.toLowerCase()===s.name.toLowerCase()};return t.Cb.forEach(function(r){for(var o=0;o<e.Cb.length;o++){var s=e.Cb[o];if(r.name.toLowerCase()===s.name.toLowerCase()&&r.rb===s.rb){if("rtx"===r.name.toLowerCase()&&r.parameters&&s.parameters.apt&&!n(r,s,t.Cb,e.Cb))continue;s=JSON.parse(JSON.stringify(s)),s.nb=Math.min(r.nb,s.nb),i.Cb.push(s),s.vb=s.vb.filter(function(t){for(var e=0;e<r.vb.length;e++)if(r.vb[e].type===t.type&&r.vb[e].lb===t.lb)return!0;return!1});break}}}),t.Ob.forEach(function(t){for(var r=0;r<e.Ob.length;r++){var n=e.Ob[r];if(t.uri===n.uri){i.Ob.push(n);break}}}),i},window.RTCPeerConnection.prototype.Rk=function(t,e){var i=this,r=new RTCIceGatherer(i.vk),n=new RTCIceTransport(r);r.kk=function(s){var a=new Event("icecandidate");a.candidate={sdpMid:t,sdpMLineIndex:e};var c=s.candidate,h=!c||0===Object.keys(c).length;h?void 0===r.state&&(r.state="completed"):(c.zS="RTCP"===n.zS?2:1,a.candidate.candidate=o.tb(c));var p=o.qS(i.localDescription.sdp);h?p[a.candidate.sdpMLineIndex+1]+="a=end-of-candidates\r\n":p[a.candidate.sdpMLineIndex+1]+="a="+a.candidate.candidate+"\r\n",i.localDescription.sdp=p.join("");var u=i.Ck?i.Ck:i.wk,l=u.every(function(t){return t.Gb&&"completed"===t.Gb.state});switch(i.iceGatheringState){case"new":h||i.Tk.push(a),h&&l&&i.Tk.push(new Event("icecandidate"));break;case"gathering":i.bk(),h||(i.dispatchEvent(a),null!==i.onicecandidate&&i.onicecandidate(a)),l&&(i.dispatchEvent(new Event("icecandidate")),null!==i.onicecandidate&&i.onicecandidate(new Event("icecandidate")),i.iceGatheringState="complete",i.Sk());break;case"complete":}},n.Ok=function(){i.Pk()};var s=new RTCDtlsTransport(n);return s.Ak=function(){i.Pk()},s.onerror=function(){s.state="failed",i.Pk()},{Gb:r,Nk:n,zb:s}},window.RTCPeerConnection.prototype.xk=function(t,e,i){var r=this.Ik(t._k,t.Bk);e&&t.$b&&(r.Fk=t.Xb,r.Ab={Mb:o.VS},t.Dk.length&&(r.Ab.yb=t.Dk[0].yb),t.$b.send(r)),i&&t.Yb&&("video"===t.kind&&t.Dk&&s.version<15019&&t.Dk.forEach(function(t){delete t.Fb}),r.Fk=t.Dk,r.Ab={Mb:t.Mb},t.Xb.length&&(r.Ab.yb=t.Xb[0].yb),t.Yb.receive(r))},window.RTCPeerConnection.prototype.setLocalDescription=function(t){var e,i,r=this;if("offer"===t.type)this.Ck&&(e=o.qS(t.sdp),i=e.shift(),e.forEach(function(t,e){var i=o.kb(t);r.Ck[e]._k=i}),this.wk=this.Ck,delete this.Ck);else if("answer"===t.type){e=o.qS(r.remoteDescription.sdp),i=e.shift();var n=o.JS(i,"a=ice-lite").length>0;e.forEach(function(t,e){var s=r.wk[e],a=s.Gb,c=s.Nk,h=s.zb,p=s._k,u=s.Bk,l="0"===t.split("\n",1)[0].split(" ",2)[1];if(!l&&!s.Hk){var d=o.Eb(t,i),f=o.wb(t,i);n&&(f.Tb="server"),r.yk&&0!==e||(c.start(a,d,n?"controlling":"controlled"),h.start(f));var v=r.Ik(p,u);r.xk(s,v.Cb.length>0,!1)}})}switch(this.localDescription={type:t.type,sdp:t.sdp},t.type){case"offer":this.jk("have-local-offer");break;case"answer":this.jk("stable");break;default:throw new TypeError('unsupported type "'+t.type+'"')}var s=arguments.length>1&&"function"==typeof arguments[1];if(s){var a=arguments[1];window.setTimeout(function(){a(),"new"===r.iceGatheringState&&(r.iceGatheringState="gathering",r.Sk()),r.bk()},0)}var c=Promise.resolve();return c.then(function(){s||("new"===r.iceGatheringState&&(r.iceGatheringState="gathering",r.Sk()),window.setTimeout(r.bk.bind(r),500))}),c},window.RTCPeerConnection.prototype.setRemoteDescription=function(t){var e=this,i=new MediaStream,r=[],n=o.qS(t.sdp),a=n.shift(),c=o.JS(a,"a=ice-lite").length>0;switch(this.yk=o.JS(a,"a=group:BUNDLE ").length>0,n.forEach(function(n,h){var p=o.QS(n),u=p[0].substr(2).split(" "),l=u[0],d="0"===u[1],f=o.Zb(n,a),v=o.JS(n,"a=mid:");if(v=v.length?v[0].substr(6):o.US(),"application"===l&&"DTLS/SCTP"===u[2])return void(e.wk[h]={Wb:v,Hk:!0});var g,y,m,w,T,S,b,E,I,R,k,C,O=o.kb(n);d||(k=o.Eb(n,a),C=o.wb(n,a),C.Tb="client"),E=o._b(n);var P,A=o.JS(n,"a=ssrc:").map(function(t){return o.gb(t)}).filter(function(t){return"cname"===t.mb})[0];A&&(P=A.value);var N=o.JS(n,"a=end-of-candidates",a).length>0,x=o.JS(n,"a=candidate:").map(function(t){return o.KS(t)}).filter(function(t){return"1"===t.zS});if("offer"!==t.type||d)"answer"!==t.type||d||(g=e.wk[h],y=g.Gb,m=g.Nk,w=g.zb,T=g.$b,S=g.Yb,b=g.Xb,I=g._k,e.wk[h].Dk=E,e.wk[h].Bk=O,e.wk[h].Mb=P,(c||N)&&x.length&&m.setRemoteCandidates(x),e.yk&&0!==h||(m.start(y,k,"controlling"),w.start(C)),e.xk(g,"sendrecv"===f||"recvonly"===f,"sendrecv"===f||"sendonly"===f),!S||"sendrecv"!==f&&"sendonly"!==f?delete g.Yb:(R=S.track,r.push([R,S]),i.addTrack(R)));else{var _=e.yk&&h>0?{Gb:e.wk[0].Gb,Nk:e.wk[0].Nk,zb:e.wk[0].zb}:e.Rk(v,h);if(!N||e.yk&&0!==h||_.Nk.setRemoteCandidates(x),I=RTCRtpReceiver.getCapabilities(l),s.version<15019&&(I.Cb=I.Cb.filter(function(t){return"rtx"!==t.name})),b=[{yb:1001*(2*h+2)}],"sendrecv"!==f&&"sendonly"!==f||(S=new RTCRtpReceiver(_.zb,l),R=S.track,r.push([R,S]),i.addTrack(R)),e.dk.length>0&&e.dk[0].getTracks().length>=h){var B;"audio"===l?B=e.dk[0].getAudioTracks()[0]:"video"===l&&(B=e.dk[0].getVideoTracks()[0]),B&&(s.version>=15019&&"video"===l&&(b[0].Fb={yb:1001*(2*h+2)+1}),T=new RTCRtpSender(B,_.zb))}e.wk[h]={Gb:_.Gb,Nk:_.Nk,zb:_.zb,_k:I,Bk:O,$b:T,Yb:S,kind:l,Wb:v,Mb:P,Xb:b,Dk:E},e.xk(e.wk[h],!1,"sendrecv"===f||"sendonly"===f)}}),this.remoteDescription={type:t.type,sdp:t.sdp},t.type){case"offer":this.jk("have-remote-offer");break;case"answer":this.jk("stable");break;default:throw new TypeError('unsupported type "'+t.type+'"')}return i.getTracks().length&&(e.fk.push(i),window.setTimeout(function(){var t=new Event("addstream");t.stream=i,e.dispatchEvent(t),null!==e.onaddstream&&window.setTimeout(function(){e.onaddstream(t)},0),r.forEach(function(t){
var r=t[0],n=t[1],o=new Event("track");o.track=r,o.receiver=n,o.MR=[i],e.dispatchEvent(o),null!==e.uk&&window.setTimeout(function(){e.uk(o)},0)})},0)),arguments.length>1&&"function"==typeof arguments[1]&&window.setTimeout(arguments[1],0),Promise.resolve()},window.RTCPeerConnection.prototype.close=function(){this.wk.forEach(function(t){t.Nk&&t.Nk.stop(),t.zb&&t.zb.stop(),t.$b&&t.$b.stop(),t.Yb&&t.Yb.stop()}),this.jk("closed")},window.RTCPeerConnection.prototype.jk=function(t){this.signalingState=t;var e=new Event("signalingstatechange");this.dispatchEvent(e),null!==this.onsignalingstatechange&&this.onsignalingstatechange(e)},window.RTCPeerConnection.prototype.Ek=function(){var t=new Event("negotiationneeded");this.dispatchEvent(t),null!==this.onnegotiationneeded&&this.onnegotiationneeded(t)},window.RTCPeerConnection.prototype.Pk=function(){var t,e=this,i={Lk:0,closed:0,Mk:0,Uk:0,connected:0,Vk:0,Ei:0};if(this.wk.forEach(function(t){i[t.Nk.state]++,i[t.zb.state]++}),i.connected+=i.Vk,t="new",i.Ei>0?t="failed":i.Mk>0||i.Uk>0?t="connecting":i.disconnected>0?t="disconnected":i["Lk"]>0?t="new":(i.connected>0||i.Vk>0)&&(t="connected"),t!==e.iceConnectionState){e.iceConnectionState=t;var r=new Event("iceconnectionstatechange");this.dispatchEvent(r),null!==this.oniceconnectionstatechange&&this.oniceconnectionstatechange(r)}},window.RTCPeerConnection.prototype.createOffer=function(){var t=this;if(this.Ck)throw new Error("createOffer called while there is a pending offer.");var e;1===arguments.length&&"function"!=typeof arguments[0]?e=arguments[0]:3===arguments.length&&(e=arguments[2]);var i=[],n=0,a=0;if(this.dk.length&&(n=this.dk[0].getAudioTracks().length,a=this.dk[0].getVideoTracks().length),e){if(e.WR||e.optional)throw new TypeError("Legacy mandatory/optional constraints not supported.");void 0!==e.Qk&&(n=e.Qk),void 0!==e.qk&&(a=e.qk)}for(this.dk.length&&this.dk[0].getTracks().forEach(function(t){i.push({kind:t.kind,track:t,Jk:"audio"===t.kind?n>0:a>0}),"audio"===t.kind?n--:"video"===t.kind&&a--});n>0||a>0;)n>0&&(i.push({kind:"audio",Jk:!0}),n--),a>0&&(i.push({kind:"video",Jk:!0}),a--);i=r(i);var c=o.Jb(),h=[];i.forEach(function(e,i){var r=e.track,n=e.kind,a=o.US(),c=t.yk&&i>0?{Gb:h[0].Gb,Nk:h[0].Nk,zb:h[0].zb}:t.Rk(a,i),p=RTCRtpSender.getCapabilities(n);s.version<15019&&(p.Cb=p.Cb.filter(function(t){return"rtx"!==t.name})),p.Cb.forEach(function(t){"H264"===t.name&&void 0===t.parameters["Kk"]&&(t.parameters["Kk"]="1")});var u,l,d=[{yb:1001*(2*i+1)}];r&&(s.version>=15019&&"video"===n&&(d[0].Fb={yb:1001*(2*i+1)+1}),u=new RTCRtpSender(r,c.zb)),e.Jk&&(l=new RTCRtpReceiver(c.zb,n)),h[i]={Gb:c.Gb,Nk:c.Nk,zb:c.zb,_k:p,Bk:null,$b:u,Yb:l,kind:n,Wb:a,Xb:d,Dk:null}}),this.yk&&(c+="a=group:BUNDLE "+h.map(function(t){return t.Wb}).join(" ")+"\r\n"),i.forEach(function(e,i){var r=h[i];c+=o.Kb(r,r._k,"offer",t.dk[0])}),this.Ck=h;var p=new RTCSessionDescription({type:"offer",sdp:c});return arguments.length&&"function"==typeof arguments[0]&&window.setTimeout(arguments[0],0,p),Promise.resolve(p)},window.RTCPeerConnection.prototype.createAnswer=function(){var t=this,e=o.Jb();this.yk&&(e+="a=group:BUNDLE "+this.wk.map(function(t){return t.Wb}).join(" ")+"\r\n"),this.wk.forEach(function(i){if(i.Hk)return void(e+="m=application 0 DTLS/SCTP 5000\r\nc=IN IP4 0.0.0.0\r\na=mid:"+i.Wb+"\r\n");var r=t.Ik(i._k,i.Bk);e+=o.Kb(i,r,"answer",t.dk[0])});var i=new RTCSessionDescription({type:"answer",sdp:e});return arguments.length&&"function"==typeof arguments[0]&&window.setTimeout(arguments[0],0,i),Promise.resolve(i)},window.RTCPeerConnection.prototype.addIceCandidate=function(t){if(t){var e=t.sdpMLineIndex;if(t.sdpMid)for(var i=0;i<this.wk.length;i++)if(this.wk[i].Wb===t.sdpMid){e=i;break}var r=this.wk[e];if(r){var n=Object.keys(t.candidate).length>0?o.KS(t.candidate):{};if("tcp"===n.protocol&&(0===n.port||9===n.port))return Promise.resolve();if("1"!==n.zS)return Promise.resolve();r.Nk.addRemoteCandidate(n);var s=o.qS(this.remoteDescription.sdp);s[e+1]+=(n.type?t.candidate.trim():"a=end-of-candidates")+"\r\n",this.remoteDescription.sdp=s.join("")}}else for(var a=0;a<this.wk.length;a++)if(this.wk[a].Nk.addRemoteCandidate({}),this.yk)return Promise.resolve();return arguments.length>1&&"function"==typeof arguments[1]&&window.setTimeout(arguments[1],0),Promise.resolve()},window.RTCPeerConnection.prototype.getStats=function(){var t=[];this.wk.forEach(function(e){["rtpSender","rtpReceiver","iceGatherer","iceTransport","dtlsTransport"].forEach(function(i){e[i]&&t.push(e[i].getStats())})});var e=arguments.length>1&&"function"==typeof arguments[1]&&arguments[1],i=function(t){return{Gk:"inbound-rtp",zk:"outbound-rtp",Wk:"candidate-pair",GR:"local-candidate",zR:"remote-candidate"}[t.type]||t.type};return new Promise(function(r){var n=new Map;Promise.all(t).then(function(t){t.forEach(function(t){Object.keys(t).forEach(function(e){t[e].type=i(t[e]),n.set(e,t[e])})}),e&&window.setTimeout(e,0,n),r(n)})})}}};t.t={NR:a.NR,_R:i(62)}},function(t,e){"use strict";t.t=function(){var t=function(t){return{name:{rk:"NotAllowedError"}[t.name]||t.name,message:t.message,sk:t.sk,toString:function(){return this.name}}},e=navigator.mediaDevices.getUserMedia.bind(navigator.mediaDevices);navigator.mediaDevices.getUserMedia=function(i){return e(i)["catch"](function(e){return Promise.reject(t(e))})}}},function(t,e,i){"use strict";var r=i(3).ri,n={DR:function(){"object"!=typeof window||!window.RTCPeerConnection||"ontrack"in window.RTCPeerConnection.prototype||Object.defineProperty(window.RTCPeerConnection.prototype,"ontrack",{get:function(){return this.jR},set:function(t){this.jR&&(this.removeEventListener("track",this.jR),this.removeEventListener("addstream",this.LR)),this.addEventListener("track",this.jR=t),this.addEventListener("addstream",this.LR=function(t){t.stream.getTracks().forEach(function(e){var i=new Event("track");i.track=e,i.receiver={track:e},i.MR=[t.stream],this.dispatchEvent(i)}.bind(this))}.bind(this))}})},FR:function(){"object"==typeof window&&(!window.HTMLMediaElement||"srcObject"in window.HTMLMediaElement.prototype||Object.defineProperty(window.HTMLMediaElement.prototype,"srcObject",{get:function(){return this.mozSrcObject},set:function(t){this.mozSrcObject=t}}))},NR:function(){if("object"==typeof window&&(window.RTCPeerConnection||window.mozRTCPeerConnection)){window.RTCPeerConnection||(window.RTCPeerConnection=function(t,e){if(r.version<38&&t&&t.iceServers){for(var i=[],n=0;n<t.iceServers.length;n++){var o=t.iceServers[n];if(o.hasOwnProperty("urls"))for(var s=0;s<o.pk.length;s++){var a={url:o.pk[s]};0===o.pk[s].indexOf("turn")&&(a.username=o.username,a.$k=o.$k),i.push(a)}else i.push(t.iceServers[n])}t.iceServers=i}return new mozRTCPeerConnection(t,e)},window.RTCPeerConnection.prototype=mozRTCPeerConnection.prototype,mozRTCPeerConnection.generateCertificate&&Object.defineProperty(window.RTCPeerConnection,"generateCertificate",{get:function(){return mozRTCPeerConnection.generateCertificate}}),window.RTCSessionDescription=mozRTCSessionDescription,window.RTCIceCandidate=mozRTCIceCandidate),["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach(function(t){var e=RTCPeerConnection.prototype[t];RTCPeerConnection.prototype[t]=function(){return arguments[0]=new("addIceCandidate"===t?RTCIceCandidate:RTCSessionDescription)(arguments[0]),e.apply(this,arguments)}});var t=RTCPeerConnection.prototype.addIceCandidate;RTCPeerConnection.prototype.addIceCandidate=function(){return arguments[0]?t.apply(this,arguments):(arguments[1]&&arguments[1].apply(null),Promise.resolve())};var e=function(t){var e=new Map;return Object.keys(t).forEach(function(i){e.set(i,t[i]),e[i]=t[i]}),e},i={Gk:"inbound-rtp",zk:"outbound-rtp",Wk:"candidate-pair",GR:"local-candidate",zR:"remote-candidate"},n=RTCPeerConnection.prototype.getStats;RTCPeerConnection.prototype.getStats=function(t,o,s){return n.apply(this,[t||null]).then(function(t){if(r.version<48&&(t=e(t)),r.version<53&&!o)try{t.forEach(function(t){t.type=i[t.type]||t.type})}catch(n){if("TypeError"!==n.name)throw n;t.forEach(function(e,r){t.set(r,Object.assign({},e,{type:i[e.type]||e.type}))})}return t}).then(o,s)}}}};t.t={DR:n.DR,FR:n.FR,NR:n.NR,_R:i(64)}},function(t,e,i){"use strict";var r=i(3).log,n=i(3).ri;t.t=function(){var t=function(t){return{name:{Yk:"NotAllowedError",rk:"NotAllowedError"}[t.name]||t.name,message:{"The operation is insecure.":"The request is not allowed by the user agent or the platform in the current context."}[t.message]||t.message,sk:t.sk,toString:function(){return this.name+(this.message&&": ")+this.message}}},e=function(e,i,o){var s=function(t){if("object"!=typeof t||t.Xk)return t;var e=[];return Object.keys(t).forEach(function(i){if("require"!==i&&"advanced"!==i&&"mediaSource"!==i){var r=t[i]="object"==typeof t[i]?t[i]:{$R:t[i]};if(void 0===r.min&&void 0===r.max&&void 0===r.YR||e.push(i),void 0!==r.YR&&("number"==typeof r.YR?r.min=r.max=r.YR:t[i]=r.YR,delete r.YR),void 0!==r.$R){t.XR=t.XR||[];var n={};"number"==typeof r.$R?n[i]={min:r.$R,max:r.$R}:n[i]=r.$R,t.XR.push(n),delete r.$R,Object.keys(r).length||delete t[i]}}}),e.length&&(t.Xk=e),t};return e=JSON.parse(JSON.stringify(e)),n.version<38&&(r("spec: "+JSON.stringify(e)),e.kp&&(e.kp=s(e.kp)),e.video&&(e.video=s(e.video)),r("ff37: "+JSON.stringify(e))),navigator.mozGetUserMedia(e,i,function(e){o(t(e))})},i=function(t){return new Promise(function(i,r){e(t,i,r)})};if(navigator.mediaDevices||(navigator.mediaDevices={getUserMedia:i,addEventListener:function(){},removeEventListener:function(){}}),navigator.mediaDevices.ek=navigator.mediaDevices.ek||function(){return new Promise(function(t){var e=[{kind:"audioinput",ik:"default",label:"",ak:""},{kind:"videoinput",ik:"default",label:"",ak:""}];t(e)})},n.version<41){var o=navigator.mediaDevices.ek.bind(navigator.mediaDevices);navigator.mediaDevices.ek=function(){return o().then(void 0,function(t){if("NotFoundError"===t.name)return[];throw t})}}if(n.version<49){var s=navigator.mediaDevices.getUserMedia.bind(navigator.mediaDevices);navigator.mediaDevices.getUserMedia=function(e){return s(e).then(function(t){if(e.kp&&!t.getAudioTracks().length||e.video&&!t.getVideoTracks().length)throw t.getTracks().forEach(function(t){t.stop()}),new DOMException("The object can not be found here.","NotFoundError");return t},function(e){return Promise.reject(t(e))})}}navigator.getUserMedia=function(t,i,r){return n.version<44?e(t,i,r):(console.warn("navigator.getUserMedia has been replaced by navigator.mediaDevices.getUserMedia"),void navigator.mediaDevices.getUserMedia(t).then(i,r))}}},function(t,e){"use strict";var i={_R:function(){navigator.getUserMedia||(navigator.webkitGetUserMedia?navigator.getUserMedia=navigator.webkitGetUserMedia.bind(navigator):navigator.mediaDevices&&navigator.mediaDevices.getUserMedia&&(navigator.getUserMedia=function(t,e,i){navigator.mediaDevices.getUserMedia(t).then(e,i)}.bind(navigator)))}};t.t={_R:i._R}}]);

//# sourceMappingURL=bitmovin.hive.min.js.map
